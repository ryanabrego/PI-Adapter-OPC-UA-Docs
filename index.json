{
    "README.html":  {
                        "href":  "README.html",
                        "title":  "PI Adapter for OPC UA",
                        "keywords":  "PI Adapter for OPC UA PI Adapter for OPC UA is a data-collection component that transfers time-series data from source devices to OMF (OSIsoft Message Format) endpoints in OSIsoft Cloud Services or PI Servers. This repository contains the documentation for PI Adapter for OPC UA. You can access a readable version of this documentation here. License ?? 2019 - 2021 OSIsoft, LLC. All rights reserved. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 http:  www.apache.org licenses LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."
                    },
    "V1.2/Configuration/configuration.html":  {
                                                  "href":  "V1.2/Configuration/configuration.html",
                                                  "title":  "Configuration",
                                                  "keywords":  "Configuration PI Adapter for OPC UA enables you to configure data source and data selection. The adapter also provides the ability to configure security and to generate a data selection file instead of manual configuration. The examples in the configuration topics use curl , a commonly available tool on both Windows and Linux. The adapter can be configured with any programming language or tool that supports making REST calls, or with the EdgeCmd utility. For more information, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . To validate successful configurations, you can perform data retrieval (GET commands) using a browser, if available on your device. For more information on PI adapter configuration tools, see Configuration tools . Quick start Complete the following steps to establish a data flow from an OPC UA data source device to a data endpoint. Configure one or several OPC UA system components. See System components configuration . Configure an OPC UA data source for each OPC UA device. See PI Adapter for OPC UA data source configuration . Configure an OPC UA data selection for each OPC UA data source. See PI Adapter for OPC UA data selection configuration . Note: If you do not configure data selection, a default OPC UA data selection file will be created if the OPC UA data source is valid. Configure one or several egress endpoints. See Egress endpoints configuration ."
                                              },
    "V1.2/Configuration/pi-adapter-for-opc-ua-client-settings-configuration.html":  {
                                                                                        "href":  "V1.2/Configuration/pi-adapter-for-opc-ua-client-settings-configuration.html",
                                                                                        "title":  "PI Adapter for OPC UA client settings configuration",
                                                                                        "keywords":  "PI Adapter for OPC UA client settings configuration The client settings configuration is automatically generated when a new data source is added. If you experience problems with timeouts or when OPC UA limits are exceeded in terms of browse or subscription operation, you can change the client settings configuration. Generate default OPC UA client settings configuration file If a valid data source exists, the adapter is running, and you do not want to configure OPC UA client settings, you can choose to generate a default OPC UA client settings file. Complete the following steps to generate the default client settings file: Add an OPC UA adapter with a unique ComponentId . For more information, see System components configuration . Configure a valid OPC UA data source. For more information, see PI Adapter for OPC UA data source configuration . Once you complete these steps, a default OPC UA client settings configuration file is generated in the configuration directory for the corresponding platform. The following are example locations of the file created. In this example, it is assumed that the ComponentId of the OPC UA component is OpcUa1: Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Configuration\\OpcUa1_ClientSettings.json Linux: /usr/share/OSIsoft/Adapters/OpcUa/Configuration/OpcUa1_ClientSettings.json  usr share OSIsoft Adapters OpcUa Configuration OpcUa1_ClientSettings.json Configure OPC UA client settings Complete the following steps to configure the OPC UA client settings: Using any text editor, create a file that contains the OPC UA client settings in the JSON format. For content structure, see OPC UA client settings example . For all available parameters, see OPC UA client settings . Save the file. For example, ConfigureClientSettings.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command to its appropriate endpoint: Note: The following example uses OpcUa1 as the adapter component name. For more information on how to add a component, see System components configuration . 5590 is the default port number. If you selected a different port number, replace it with that value. PUT endpoint: http://localhost:5590/api/v1/configuration/\u003ccomponentId\u003e/ClientSettings/ http:  localhost:5590 api v1 configuration \u003ccomponentId\u003e ClientSettings  Example using curl : curl -d \"@ConfigureClientSettings.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OpcUa1/ClientSettings\" \"http:  localhost:5590 api v1 configuration OpcUa1 ClientSettings\" Note: Run this command from the same directory where the file is located. OPC UA client settings schema The full schema definition for the OPC UA client settings configuration is in the OpcUa_ClientSettings_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\OpcUa\\Schemas Linux: /opt/OSIsoft/Adapters/OpcUa/Schemas  opt OSIsoft Adapters OpcUa Schemas OPC UA client settings parameters The following parameters are available for configuring OPC UA client settings: Note : All intervals, delays, and timeouts require the string to be formatted like this: \\[d:\\]h:mm:ss\\[.FFFFFFF\\] where the items in brackets are optional. d = days, h = hours, mm = minutes, ss = seconds, F = fractional portion of a second. Example: \"05:07:10:40.150\" for 5 days, 7 hours, 10 minutes, 40 seconds, and .150 seconds. Parameter Required Type Description MaxBrowseReferencesToReturn Optional integer Maximum number of references returned from browse call. Minimum value: 0 Maximum value: 4294967295 Default value: 0 BrowseBlockSize Optional integer Maximum number of nodes to browse in one call. Minimum value: 1 Maximum value: 429496729 Default value: 10 ReadBlockSize Optional integer Maximum number of variables to read in one call. Minimum value: 0 Maximum value: 429496729 Default value: 1000 ReconnectDelay Optional TimeSpan Delay between reconnection attempts. * Allowed value: cannot be negative Default value: 0:02:20 RecreateSubscriptionDelay Optional TimeSpan Delay between successful reconnection and subsequent subscription recreation. * Allowed value: cannot be negative Default value: 0:00:10 SessionRequestTimeout Optional TimeSpan Default request timeout. * Allowed value: greater than 00:00:05 Default value: 0:02:00 ConnectionTimeout Optional TimeSpan Connection timeout. * Allowed value: greater than 00:00:05 Default value: 0:00:30 SessionAllowInsecureCredentials Optional boolean When set to true credentials can be communicated over unencrypted channel. Allowed value: true or false Default value: false SessionMaxOperationsPerRequest Optional integer Default maximum operation per request. Minimum value: 0 Maximum value: 429496729 Default value: 1000 BrowseTimeout Optional TimeSpan Browse operation timeout. * Allowed value: greater than 00:00:05 Default value: 0:01:00 ReadTimeout Optional TimeSpan Read operation timeout. * Allowed value: greater than 00:00:05 Default value: 0:00:30 MaxMonitoredItemsPerCall Optional integer Maximum number of monitored items that can be added to subscription in one call. Minimum value: 1 Maximum value: 429496729 Default value: 1000 MaxNotificationsPerPublish Optional integer Maximum notification messages in one publish message. Minimum value: 0 Maximum value: 429496729 Default value: 0 PublishingInterval Optional TimeSpan Publishing interval of the subscription. * Allowed value: cannot be negative Default value: 0:00:01 CreateMonitoredItemsTimeout Optional TimeSpan Create monitored items timeout. * Allowed value: greater than 00:00:05 Default value: 0:00:30 SamplingInterval Optional TimeSpan Monitored item sampling interval. * Allowed value: cannot be negative Default value: 0:00:00:5 MonitoredItemQueueSize Optional integer Monitored item queue size. Minimum value: 1 Maximum value: 429496729 Default value: 2 MaxInternalQueueSize Optional integer Maximum number of items that can be in the adapter internal queue. Minimum value: 1000 Maximum value: 2147483647 Default value: 500000 * Note: You can also specify timespans as numbers in seconds. For example, \"ReconnectDelay\": 25 specifies 25 seconds, or \"ReconnectDelay\": 125.5 specifies 2 minutes and 5.5 seconds. OPC UA client settings example { \"maxBrowseReferencesToReturn\": 0, \"BrowseBlockSize\": 10, \"ReadBlockSize\": 1000, \"reconnectDelay\": \"0:00:30\", \"recreateSubscriptionDelay\": \"0:00:05\", \"sessionRequestTimeout\": \"0:02:00\", \"connectionTimeout\": \"0:00:30\", \"sessionAllowInsecureCredentials\": false, \"sessionMaxOperationsPerRequest\": 1000, \"browseTimeout\": \"0:01:00\", \"ReadTimeout\": \"0:00:30\", \"maxMonitoredItemsPerCall\": 1000, \"maxNotificationsPerPublish\": 0, \"publishingInterval\": \"0:00:01\", \"createMonitoredItemsTimeout\": \"0:00:30\", \"samplingInterval\": \"0:00:00.5\", \"monitoredItemQueueSize\": 2, \"maxInternalQueueSize\": 500000 } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /ClientSettings  ClientSettings GET Retrieves the OPC UA client settings configuration api/v1/configuration/ api v1 configuration  ComponentId /ClientSettings  ClientSettings PUT Configures or updates the OPC UA client settings configuration api/v1/configuration/ api v1 configuration  ComponentId /ClientSettings  ClientSettings DELETE Deletes the OPC UA client settings configuration api/v1/configuration/ api v1 configuration  ComponentId /ClientSettings  ClientSettings PATCH Allows partial updating of configured client settings fields. Note: Replace ComponentId with the Id of your OPC UA component, for example OpcUa1."
                                                                                    },
    "V1.2/Configuration/pi-adapter-for-opc-ua-data-selection-configuration.html":  {
                                                                                       "href":  "V1.2/Configuration/pi-adapter-for-opc-ua-data-selection-configuration.html",
                                                                                       "title":  "PI Adapter for OPC UA data selection configuration",
                                                                                       "keywords":  "PI Adapter for OPC UA data selection configuration In addition to the data source configuration, you need to provide a data selection configuration to specify the data you want the adapter to collect from the data sources. When you add a data source without providing a data selection configuration, the adapter browses the OPC UA server address space and populates the available OPC UA variables into the data selection configuration. A comma-separated collection of nodeIds (RootNodeIds) in the data source configuration serves as filters to browse only a subset of the OPC UA server. Data selection items configured this way must still be selected for data retrieval. OPC UA data from OPC UA variables is read through subscriptions (unsolicited reads). You can decide to have the data selection configuration file generated automatically or you can create it manually yourself. Generate default OPC UA data selection configuration file A default OPC UA data selection file will be created if there is no OPC UA data selection configuration although a valid data source exists. Note: To avoid possible time and resource expensive browse operations due to reasons described previously, OSIsoft recommends that you manually create a data selection file instead of automatically creating the default data selection file. For more information, see Configure OPC UA data selection . Complete the following steps to generate a default data selection file: Add an OPC UA adapter with a unique ComponentId. For more information, see System components configuration . Configure a valid OPC UA data source. For more information, see PI Adapter for OPC UA data source configuration . Once you complete these steps, a default OPC UA data selection configuration file will be generated in the configuration directory for the corresponding platform. The following are example locations of the file created. In this example, it is assumed that the ComponentId of the OPC UA component is OpcUa1: Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Configuration\\OpcUa1_DataSelection.json Linux: /usr/share/OSIsoft/Adapters/OpcUa/Configuration/OpcUa1_DataSelection.json  usr share OSIsoft Adapters OpcUa Configuration OpcUa1_DataSelection.json Copy the file to a different directory. For content structure, see OPC UA data selection example . Use any text editor to change the value of any Selected key from false to true in the file. Once the configuration is updated, the adapter will subscribe to data for all items that are set to Selected=true . In the same directory where you edited the file, run the following curl command: Note: 5590 is the default port number. If you selected a different port number, replace it with that value. curl -d \"@OpcUa1_DataSelection.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OpcUa1/Dataselection\" \"http:  localhost:5590 api v1 configuration OpcUa1 Dataselection\" Configure OPC UA data selection Note: You cannot modify OPC UA data selection configurations manually. You must use the REST endpoints to add or edit the configuration. Complete the following steps to configure the OPC UA data selection: Use any text editor to create a file that contains an OPC UA data selection in the JSON format. For content structure, see OPC UA data selection example . For a table of all available parameters, see OPC UA data selection . Save the file. For example, ConfigureDataSelection.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint: Note: The following examples use OpcUa1 as the adapter component name. For more information on how to add a component, see System components configuration . 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/\u003ccomponentId\u003e/DataSelection/ http:  localhost:5590 api v1 configuration \u003ccomponentId\u003e DataSelection  Example using curl : curl -d \"@ConfigureDataSelection.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/OpcUa1/DataSelection\" \"http:  localhost:5590 api v1 configuration OpcUa1 DataSelection\" Note: Run this command from the same directory where the file is located. PUT endpoint: http://localhost:5590/api/v1/configuration/\u003ccomponentId\u003e/DataSelection/\u003cStreamId\u003e http:  localhost:5590 api v1 configuration \u003ccomponentId\u003e DataSelection \u003cStreamId\u003e Example using curl : curl -d \"@ConfigureDataSelection.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OpcUa1/DataSelection/ns=5;s=Random1\" \"http:  localhost:5590 api v1 configuration OpcUa1 DataSelection ns=5;s=Random1\" Note: Run this command from the same directory where the file is located. OPC UA data selection schema The full schema definition for the OPC UA data selection configuration is in the OpcUa_DataSelection_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\OpcUa\\Schemas Linux: /opt/OSIsoft/Adapters/OpcUa/Schemas  opt OSIsoft Adapters OpcUa Schemas OPC UA data selection parameters The following parameters are available for configuring an OPC UA data selection: Parameter Required Type Description Selected Optional boolean Use this field to select or clear a measurement. To select an item, set to true. To remove an item, leave the field empty or set to false. Allowed value: true or false Default value: true Name Optional string Name of the data item collected from the data source. Default value: null results in StreamId value being used also as a Name NodeId Required string The NodeId of the variable. Examples \"ns=5;AString\" \"ns=2;i=203\" \"ns=\u003cNamespaceIndex\u003e;\u003cIdentifierType\u003e=\u003cIdentifer\u003e\" StreamID Optional string The custom stream ID used to create the streams. If not specified, the adapter will generate a default stream ID based on the measurement configuration. The StreamId serves as the unique identifier of a data selection item. A properly configured custom stream ID follows these rules: Is not case-sensitive. Can contain spaces. Cannot start with two underscores (\"__\"). Can contain a maximum of 100 characters. Cannot use the following characters: /   : ? # [ ] @ ! $ \u0026 \u0027 ( ) \\ * + , ; = % \u003c \u003e | Cannot start or end with a period. Cannot contain consecutive periods. Cannot consist of only periods. DataFilterID Optional string Enables data filtering for this data selection item if the ID of a data filter is specified. If no value is specified or set to null, all read values are output without filtering. OPC UA data selection example The following are examples of valid OPC UA data selection configurations: Minimal data selection configuration [ { \"NodeId\": \"ns=5;s=Random1\" }, { \"NodeId\": \"ns=5;s=Sawtooth1\" }, { \"NodeId\": \"ns=5;s=Sinusoid1\" } ] Complete data selection configuration [ { \"Selected\": true, \"Name\": \"CustomStreamName\", \"NodeId\": \"ns=5;s=Random1\", \"StreamId\": \"CustomStreamName\" }, { \"Selected\": false, \"Name\": null, \"NodeId\": \"ns=5;s=Sawtooth1\", \"StreamId\": null }, { \"Selected\": true, \"Name\": \"5.Sinusoid1\", \"NodeId\": \"ns=5;s=Sinusoid1\", \"StreamId\": null } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataSelection  DataSelection GET Retrieves the OPC UA data selection configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSelection  DataSelection PUT Configures or updates the OPC UA data selection configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSelection  DataSelection DELETE Deletes the OPC UA data selection configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSelection  DataSelection PATCH Allows partial updating of configured data selection items. Note: The request must be an array containing one or more data selection items. Each data selection item in the array must include its StreamId . api/v1/configuration/ api v1 configuration  ComponentId /DataSelection/  DataSelection  StreamId PUT Updates or creates a new data selection with the specified StreamId api/v1/configuration/ api v1 configuration  ComponentId /DataSelection/  DataSelection  StreamId DELETE Deletes a specific data selection item of the OPC UA data selection configuration Note: Replace ComponentId with the Id of your OPC UA component, for example OpcUa1."
                                                                                   },
    "V1.2/Configuration/pi-adapter-for-opc-ua-data-source-configuration.html":  {
                                                                                    "href":  "V1.2/Configuration/pi-adapter-for-opc-ua-data-source-configuration.html",
                                                                                    "title":  "PI Adapter for OPC UA data source configuration",
                                                                                    "keywords":  "PI Adapter for OPC UA data source configuration To use the adapter, you must configure the data source from which it polls data. Configure OPC UA data source Note: To modify OPC UA data source configuration, you must use the REST endpoints to add or edit the configuration. Complete the following steps to configure an OPC UA data source: Use any text editor to create a file that contains an OPC UA data source in the JSON format. For content structure, see OPC UA data source examples . For a table of all available parameters, see OPC UA data source parameters . Save the file. For example, ConfigureDataSource.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of that file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataSource/ http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataSource  . Note: The following example uses OpcUa1 as the adapter component name. For more information on how to add a component, see System components configuration . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureDataSource.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OpcUa1/DataSource\" \"http:  localhost:5590 api v1 configuration OpcUa1 DataSource\" Note: Run this command from the same directory where the file is located. Configure data selection. For more information, see PI Adapter for OPC UA data selection configuration . Note: You can decide to have a default data selection file generated automatically or you can create the data selection file yourself. OPC UA data source schema The full schema definition for the OPC UA data source configuration is in the OpcUa_DataSource_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\OpcUa\\Schemas Linux: /opt/OSIsoft/Adapters/OpcUa/Schemas  opt OSIsoft Adapters OpcUa Schemas OPC UA data source parameters The following parameters are available for configuring an OPC UA data source: Parameter Required Type Description EndpointURL Required string The endpoint URL of the OPC UA server in opc.tcp format. The following is an example of the URL format: opc.tcp://OPCServerHost:Port/OpcUa/SimulationServer opc.tcp:  OPCServerHost:Port OpcUa SimulationServer Note: If you change the EndpointURL on a configured adapter that has ComponentID_DataSelection .json file exported, you need to remove the ComponentID_DataSelection.json file from the configuration directory to trigger a new browse (export). Allowed value: well-formed opc.tcp address UseSecureConnection Optional boolean When set to true, the adapter connects to a secure endpoint using OPC UA certificate exchange operation. The default is true. When set to false, the adapter connects to an unsecured endpoint of the server and certificate exchange operation is not required. Note: OSIsoft recommends setting this option to false for testing purposes only. Allowed value: true or false Default value: true UserName Optional string User name for accessing the OPC UA server. Allowed value: any string Default value: null Password Optional string Password for accessing the OPC UA server. Note: OSIsoft recommends using REST to configure the data source when the password must be specified because REST will encrypt the password. If you do not use REST, the plain text password will be stored on-disk. Allowed value: any string Default value: null RootNodeIds Optional string List of comma-separated NodeIds of those objects from which the adapter browses the OPC UA server address space. This option allows to select only subsets of the OPC UA address by explicitly listing one or more NodeIds which are used to start the initial browse. Examples: \"ns=5;s=85/0:Simulation\" \"ns=5;s=85 0:Simulation\" \"ns=3;s=DataItems\" If not specified, it means that the whole address space will be browsed. Allowed value: comma-separated collection of node Ids Default value: null Note: Use this parameter in the query filter of your discovery to limit its scope. See Discovery configuration . IncomingTimestamp Optional string Specifies whether the incoming timestamp is taken from the source, from the OPC UA server, or should be created by the adapter instance. Source - Default and recommended setting. The timestamp is taken from the source timestamp field. The source is what provides data for the item to the OPC UA server, such as a field device. Server - In case the OPC UA item has an invalid source timestamp field, the Server timestamp can be used. Adapter - The adapter generates a timestamp for the item upon receiving it from the OPC UA server. Allowed value: Source , Server , or Adapter Default value: Source StreamIdPrefix Optional string Specifies what prefix is used for Stream IDs. The naming convention is {StreamIdPrefix}{StreamId} . An empty string means no prefix will be added to the Stream IDs and names. A null value defaults to ComponentID followed by a period. Example: OpcUa1.{NamespaceIndex}.{Identifier} Note: Every time you change the StreamIdPrefix of a configured adapter, for example when you delete and add a data source, you need to restart the adapter for the changes to take place. New streams are created on adapter restart and pre-existing streams are no longer updated. Allowed value: any string Default value: null DefaultStreamIdPattern Optional string Specifies the default stream Id pattern to use. Possible parameters: {NamespaceIndex} 1 , {Identifier} , {Name} . Allowed value: any string Default value: {NamespaceIndex}.{Identifier} 1 NamespaceIndex refers to the number specified in the ns keyword in the RootNodeIds parameter. OPC UA data source examples The following are examples of valid OPC UA data source configurations: Minimal data source configuration { \"EndpointUrl\": \"opc.tcp://\u003cIP-Address\u003e:\u003cPort\u003e/\u003cTestOPCUAServer\u003e\" \"opc.tcp:  \u003cIP-Address\u003e:\u003cPort\u003e \u003cTestOPCUAServer\u003e\" } Complete data source configuration { \"EndpointUrl\": \"opc.tcp://\u003cIP-Address\u003e:\u003cPort\u003e/\u003cTestOPCUAServer\u003e\", \"opc.tcp:  \u003cIP-Address\u003e:\u003cPort\u003e \u003cTestOPCUAServer\u003e\", \"UseSecureConnection\": true, \"UserName\": null, \"Password\": null, \"RootNodeIds\": null, \"IncomingTimestamp\": \"Source\", \"StreamIdPrefix\": null, \"DefaultStreamIdPattern\": \"{NamespaceIndex}.{Identifier}\" } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataSource  DataSource GET Retrieves the OPC UA data source configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSource  DataSource POST Creates the OPC UA data source configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSource  DataSource PUT Configures or updates the OPC UA data source configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSource  DataSource DELETE Deletes the OPC UA data source configuration Note: Replace ComponentId with the Id of your OPC UA component, for example OpcUa1."
                                                                                },
    "V1.2/Configuration/pi-adapter-for-opc-ua-security-configuration.html":  {
                                                                                 "href":  "V1.2/Configuration/pi-adapter-for-opc-ua-security-configuration.html",
                                                                                 "title":  "PI Adapter for OPC UA security configuration",
                                                                                 "keywords":  "PI Adapter for OPC UA security configuration The OPC UA security standard is concerned with the authentication of client and server applications, the authentication of users and confidentiality of their communication. As the security model relies heavily on Transport Level Security (TLS) to establish a secure communication link with an OPC UA server, each client, including the adapter, must have a digital certificate deployed and configured. Certificates uniquely identify client applications and machines on servers, and allow for creation of a secure communication link when trusted on both sides. The adapter generates a self-signed certificate when the first secure connection attempt is made. The adapter\u0027s certificates and those of the server are stored in the certificate store which is shared between all adapter instances. Configure OPC UA adapter security Complete the following steps to configure adapter security: In your data source configuration, set UseSecureConnection to true . For more information, see PI Adapter for OPC UA data source configuration . The adapter verifies whether the server certificate is present in the adapter trusted certificates and hence trusts it. In case the certificates were not exchanged before the first attempted connection, the adapter persists the server certificate within the adapter rejected certificates folder. The following warning message about the rejected server certificate will be printed: ~~2019-09-08 11:45:48.093 +01:00~~ [Warning] Rejected Certificate: \"DC=MyServer.MyDomain.int, O=OSIsoft, CN=Simulation Manually move the server certificate from the Adapter rejected certificates location to the Adapter trusted certificates location using a file explorer or command-line interpreter. Linux example using command-line: sudo mv /usr/share/OSIsoft/Adapters/OpcUa/Certificates/rejected/certs/\u0027SimulationServer  usr share OSIsoft Adapters OpcUa Certificates rejected certs \u0027SimulationServer [F9823DCF607063DBCECCF6F8F39FD2584F46AEBB].der\u0027 /usr/share/OSIsoft/Adapters/OpcUa/Certificates/trusted/certs/  usr share OSIsoft Adapters OpcUa Certificates trusted certs  Note: Administrator or root privileges are required to perform this operation. Once the certificate is in the adapter trusted certificates folder, the adapter trusts the server and the connection attempt proceeds in making the connection call to the configured server. Add the certificate of the adapter to the server\u0027s trust store. The connection succeeds only when the adapter certificate is trusted on the server side. For more details on how to make a client certificate trusted, see your OPC UA server documentation. In general, servers work in a similar fashion to the clients, hence you can take a similar approach for making the client certificate trusted on the server side. When certificates are mutually trusted, the connection attempt succeeds and the adapter is connected to the most secure endpoint provided by the server. Certificate locations Adapter rejected certificates Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Certificates\\rejected\\certs Linux: /usr/share/OSIsoft/Adapters/OpcUa/Certificates/rejected/certs  usr share OSIsoft Adapters OpcUa Certificates rejected certs Adapter trusted certificates Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Certificates\\trusted\\certs Linux: /usr/share/OSIsoft/Adapters/OpcUa/Certificates/trusted/certs  usr share OSIsoft Adapters OpcUa Certificates trusted certs Certificate of the adapter Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Certificates\\own\\certs Linux: /usr/share/OSIsoft/Adapters/OpcUa/Certificates/own/certs  usr share OSIsoft Adapters OpcUa Certificates own certs Note: Access to the private key of the adapter requires administrator permissions. The location of the private key is the following: Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Certificates\\own\\private Linux: /usr/share/OSIsoft/Adapters/OpcUa/Certificates/own/private  usr share OSIsoft Adapters OpcUa Certificates own private"
                                                                             },
    "V1.2/index.html":  {
                            "href":  "V1.2/index.html",
                            "title":  "PI Adapter for OPC UA overview",
                            "keywords":  "PI Adapter for OPC UA overview The PI Adapter for OPC UA is a data-collection component that transfers time-series data from source devices to OMF endpoints in OSIsoft Cloud Services or PI Servers. OPC UA (OPC Unified Architecture) is an open standard, machine-to-machine communication protocol for industrial automation developed by the OPC Foundation. The adapter can connect to any device that uses the OPC UA communication protocol. Adapter installation You can install the adapter with a download kit that you can obtain from the OSIsoft Customer Portal. You can install the adapter on devices running either Windows or Linux operating systems. Adapter configuration Using REST API, you can configure all functions of the adapter. The configurations are stored in JSON files. For data ingress, you must define an adapter component in the system components configuration for each device to which the adapter will connect. You configure each adapter component with the connection information for the device and the data to collect. For data egress, you must specify destinations for the data, including security for the outgoing connection. Additional configurations are available to egress health and diagnostics data, add buffering configuration to protect against data loss, and record logging information for troubleshooting purposes. Once you have configured the adapter and it is sending data, you can use administration functions to manage the adapter or individual ingress components of the adapter. Health and diagnostics functions monitor the status of connected devices, adapter system functions, the number of active data streams, the rate of data ingress, the rate of errors, and the rate of data egress. EdgeCmd utility OSIsoft also provides the EdgeCmd utility, a proprietary command line tool to configure and administer an adapter on both Linux and Windows operating systems. EdgeCmd utility is installed separately from the adapter. \u003c!-- # PI Adapter for OPC UA ======= - [PI Adapter for OPC UA overview](xref:PIAdapterForOPCUAOverview) - [PI Adapter for OPC UA principles of operation](xref:PIAdapterForOPCUAPrinciplesOfOperation) - [Installation](xref:Installation) - [Install the adapter](xref:InstallTheAdapter) - [Install PI Adapter for OPC UA using Docker](xref:InstallPIAdapterForOPCUAUsingDocker) - [Uninstall the adapter](xref:UninstallTheAdapter) - [Configuration](xref:OPCUAConfiguration) - [Configuration tools](xref:ConfigurationTools) - [System components configuration](xref:SystemComponentsConfiguration) - [PI Adapter for OPC UA data source configuration](xref:PIAdapterForOPCUADataSourceConfiguration) - [PI Adapter for OPC UA data selection configuration](xref:PIAdapterForOPCUADataSelectionConfiguration) - [PI Adapter for OPC UA security configuration](xref:PIAdapterForOPCUASecurityConfiguration) - [Egress endpoints configuration](xref:EgressEndpointsConfiguration) - [Health endpoint configuration](xref:HealthEndpointConfiguration) - [Diagnostics configuration](xref:DiagnosticsConfiguration) - [Buffering configuration](xref:BufferingConfiguration) - [Logging configuration](xref:LoggingConfiguration) - [System and adapter configuration](xref:SystemAndAdapterConfiguration) - [Administration](xref:Administration) - [Start and stop an adapter](xref:StartAndStopAnAdapter) - [Start and stop ingress component](xref:StartAndStopIngressComponent) - [Retrieve product version information](xref:RetrieveProductVersionInformation) - [Delete an adapter component](xref:DeleteAnAdapterComponent) - [Health and diagnostics](xref:HealthAndDiagnostics) - [Adapter health](xref:AdapterHealth) - [Device status](xref:DeviceStatus) - [Next health message expected](xref:NextHealthMessageExpected) - [Adapter diagnostics](xref:AdapterDiagnostics) - [System](xref:System) - [Stream count](xref:StreamCount) - [IO rate](xref:IORate) - [Error rate](xref:ErrorRate) - [Egress diagnostics](xref:EgressDiagnostics) --\u003e"
                        },
    "V1.2/Installation/install-pi-adapter-for-opc-ua-using-docker.html":  {
                                                                              "href":  "V1.2/Installation/install-pi-adapter-for-opc-ua-using-docker.html",
                                                                              "title":  "Install PI Adapter for OPC UA using Docker",
                                                                              "keywords":  "Install PI Adapter for OPC UA using Docker Docker is a set of tools that you can use on Linux to manage application deployments. Note: If you want to use Docker, you must be familiar with the underlying technology and have determined that it is appropriate for your planned use of the OPC UA adapter. Docker is not a requirement to use OPC UA adapter. For more information on how to install the adapter without Docker, see Install the adapter . This topic provides examples of how to create a Docker container with the OPC UA adapter. Create a startup script for the adapter Use a text editor to create a script similar to one of the following examples: Note: The script varies slightly by processor. ARM32 #!/bin/sh #! bin sh if [ -z $portnum ] ; then exec /OpcUa_linux-arm/OSIsoft.Data.System.Host  OpcUa_linux-arm OSIsoft.Data.System.Host else exec /OpcUa_linux-arm/OSIsoft.Data.System.Host  OpcUa_linux-arm OSIsoft.Data.System.Host --port:$portnum fi ARM64 #!/bin/sh #! bin sh if [ -z $portnum ] ; then exec /OpcUa_linux-arm64/OSIsoft.Data.System.Host  OpcUa_linux-arm64 OSIsoft.Data.System.Host else exec /OpcUa_linux-arm64/OSIsoft.Data.System.Host  OpcUa_linux-arm64 OSIsoft.Data.System.Host --port:$portnum fi AMD64 #!/bin/sh #! bin sh if [ -z $portnum ] ; then exec /OpcUa_linux-x64/OSIsoft.Data.System.Host  OpcUa_linux-x64 OSIsoft.Data.System.Host else exec /OpcUa_linux-x64/OSIsoft.Data.System.Host  OpcUa_linux-x64 OSIsoft.Data.System.Host --port:$portnum fi Name the script opcuadockerstart.sh and save it to the directory where you plan to create the container. Create a Docker container containing the OPC UA adapter Create the following Dockerfile in the directory where you want to create and run the container. Note: Dockerfile is the required name of the file. Use the variation according to your operating system: ARM32 FROM ubuntu WORKDIR /   RUN apt-get update \u0026\u0026 DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libicu60 libssl1.0.0 COPY opcuadockerstart.sh /   RUN chmod +x /opcuadockerstart.sh  opcuadockerstart.sh ADD ./OpcUa_linux-arm.tar.gz . OpcUa_linux-arm.tar.gz . ENTRYPOINT [\"/opcuadockerstart.sh\"] [\" opcuadockerstart.sh\"] ARM64 FROM ubuntu WORKDIR /   RUN apt-get update \u0026\u0026 DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libicu60 libssl1.0.0 COPY opcuadockerstart.sh /   RUN chmod +x /opcuadockerstart.sh  opcuadockerstart.sh ADD ./OpcUa_linux-arm64.tar.gz . OpcUa_linux-arm64.tar.gz . ENTRYPOINT [\"/opcuadockerstart.sh\"] [\" opcuadockerstart.sh\"] AMD64 (x64) FROM ubuntu WORKDIR /   RUN apt-get update \u0026\u0026 DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libicu60 libssl1.0.0 COPY opcuadockerstart.sh /   RUN chmod +x /opcuadockerstart.sh  opcuadockerstart.sh ADD ./OpcUa_linux-x64.tar.gz . OpcUa_linux-x64.tar.gz . ENTRYPOINT [\"/opcuadockerstart.sh\"] [\" opcuadockerstart.sh\"] Copy the OpcUa_linux-\u003cplatform\u003e.tar.gz file to the same directory as the Dockerfile. Copy the opcuadockerstart.sh script to the same directory. Run the following command line in the same directory (sudo may be necessary): docker build -t opcuaadapter . Run the OPC UA adapter Docker container REST access from the local host to the Docker container Complete the following steps to run the container: Use the docker container image opcuaadapter created previously. Type the following in the command line (sudo may be necessary): docker run -d --network host opcuaadapter Port 5590 is accessible from the host and you can make REST calls to OPC UA adapter from applications on the local host computer. In this example, all data stored by the OPC UA adapter is stored in the container itself. Note: When the container is deleted, the data stored is also deleted. Provide persistent storage for the Docker container Complete the following steps to run the container: Use the docker container image opcuaadapter created previously. Type the following in the command line (sudo may be necessary): docker run -d --network host -v /opcua:/usr/share/OSIsoft/  opcua: usr share OSIsoft  opcuaadapter Port 5590 is accessible from the host and you can make REST calls to OPC UA adapter from applications on the local host computer. In this example, all data that is written to the container is instead written to the host directory. In this example, the host directory is a directory on the local machine, /opcua  opcua . You can specify any directory. Port number change To use a different port other than 5590 you can specify a portnum variable on the docker run command line. For example, to start the adapter using port 6000 instead of 5590, use the following command: docker run -d -e portnum=6000 --network host opcuaadapter This command accesses the REST API with port 6000 instead of port 5590 . The following curl command returns the configuration for the container. curl http://localhost:6000/api/v1/configuration http:  localhost:6000 api v1 configuration Remove REST access to the Docker container If you remove the --network host option from the docker run command, REST access is not possible from outside the container. This may be of value where you want to host an application in the same container as OPC UA adapter but do not want to have external REST access enabled."
                                                                          },
    "V1.2/Installation/system-requirements.html":  {
                                                       "href":  "V1.2/Installation/system-requirements.html",
                                                       "title":  "System requirements",
                                                       "keywords":  "System requirements PI Adapter for OPC UA is supported on a variety of platforms and processors. Install kits are available for the following platforms: Operating System Platform Installation Kit Processor(s) Windows 10 Enterprise Windows 10 IoT Enterprise x64 OpcUa_win10-x64.msi Intel/AMD Intel AMD 64-bit processors Debian 9, 10 Ubuntu 18.04, 20.04 x64 OpcUa_linux-x64.deb Intel/AMD Intel AMD 64-bit processors Debian 9,10 Ubuntu 18.04, 20.04 ARM32 OpcUa_linux-arm.deb ARM 32-bit processors Debian 9,10 Ubuntu 18.04, 20.04 ARM64 OpcUa_linux-arm64.deb ARM 64-bit processors Alternatively, you can use tar.gz files with binaries to build your own custom installers or containers for Linux. For more information on installing PI Adapter for OPC UA with Docker containers, see Install PI Adapter for OPC UA using Docker ."
                                                   },
    "V1.2/Main/README.html":  {
                                  "href":  "V1.2/Main/README.html",
                                  "title":  "PI Adapter Docs",
                                  "keywords":  "PI Adapter Docs"
                              },
    "V1.2/Main/Templates/Markdown Release Notes template-V1.html":  {
                                                                        "href":  "V1.2/Main/Templates/Markdown Release Notes template-V1.html",
                                                                        "title":  "Release notes",
                                                                        "keywords":  "Release notes { Product version x.x } Overview \u003c!--Insert a brief description of your product here and a cross-reference for more information. If these release notes cover service packs or patches in addition to the major release numbers, briefly identify each version covered.--\u003e Fixes and enhancements \u003c!--*Remove this section if this is the first release of a product. If multiple releases are covered by this note, for example, if service packs and patches are added, these can either be sectioned by release, or, if lengthy, can have sub-pages per release.* --\u003e Fixes The following items were resolved in release { x.x.x.xxxx } - { mm/dd/yyyy mm dd yyyy } : \u003c!-- Use table style:--\u003e Item Description { work item # } { work item release note } Enhancements The following features were added in release { x.x.x.xxxx } - { mm/dd/yyyy mm dd yyyy } : \u003c!--*Use bullet style:*--\u003e { new feature } { new feature } \u003c!--OR *Use table style:*--\u003e Item Description { work item # } { feature description } Known issues The following problems and enhancements have been deferred until a future release. \u003c!--*Use bullets and tables as necessary (table format below).* --\u003e Item Description { item # } { problem/enhancement problem enhancement description } System requirements \u003c!--*Provide a cross-reference to the system requirements section. For example,*--\u003e Refer to System requirements . Installation and upgrade \u003c!--*Provide a cross-reference to the installation procedure. For example,*--\u003e Refer to Install the adapter . Uninstallation \u003c!--*Provide a cross-reference to the uninstallation procedure. For example,*--\u003e Refer to Uninstall the adapter . Security information and guidance OSIsoft???s commitment Because the PI System often serves as a barrier protecting control system networks and mission-critical infrastructure assets, OSIsoft is committed to (1) delivering a high-quality product and (2) communicating clearly what security issues have been addressed. This release of { product name } is the highest quality and most secure version of the { product name } released to date. OSIsoft\u0027s commitment to improving the PI System is ongoing, and each future version should raise the quality and security bar even further. Vulnerability communication The practice of publicly disclosing internally discovered vulnerabilities is consistent with the Common Industrial Control System Vulnerability Disclosure Framework developed by the Industrial Control Systems Joint Working Group (ICSJWG). Despite the increased risk posed by greater transparency, OSIsoft is sharing this information to help you make an informed decision about when to upgrade to ensure your PI System has the best available protection. For more information, refer to OSIsoft???s Ethical Disclosure Policy (https://www.osisoft.com/ethical-disclosure-policy) (https:  www.osisoft.com ethical-disclosure-policy) . To report a security vulnerability, refer to OSIsoft\u0027s Report a Security Vulnerability (https://www.osisoft.com/report-a-security-vulnerability) (https:  www.osisoft.com report-a-security-vulnerability) . Vulnerability scoring OSIsoft has selected the Common Vulnerability Scoring System (CVSS) to quantify the severity of security vulnerabilities for disclosure. To calculate the CVSS scores, OSIsoft uses the National Vulnerability Database (NVD) calculator maintained by the National Institute of Standards and Technology (NIST). OSIsoft uses Critical, High, Medium and Low categories to aggregate the CVSS Base scores. This removes some of the opinion related errors of CVSS scoring. As noted in the CVSS specification, Base score range from 0 for the lowest severity to 10 for the highest severity. Overview of new vulnerabilities found or fixed This section is intended to provide relevant security-related information to guide your installation or upgrade decision. OSIsoft is proactively disclosing aggregate information about the number and severity of { product name } security vulnerabilities that are fixed in this release. \u003c!--*Provide an overview of the types of security vulnerabilities fixed in this release*--\u003e \u003c!--*NOTE: If NO security vulnerabilities are identified in the current release, please use the following statement:*--\u003e No security-related information is applicable to this release \u003c!--*When vulnerabilities exist, product teams should decide which format works best specific to the release and/or and or is applicable. Two different samples are provided below.*--\u003e Sample A - For this release of the { product name } , { x number } of security vulnerability has been identified and fixed. Based on the CVSS scoring system this issue has been categorized as a High (7.0 ??? 8.9). This high-level security issue is network accessible and has been resolved in the { product release name } . To reduce exposure to this security issue, either limit access to the port used by the PI SQL products, or upgrade to the latest release. Sample A with OSIsoft sub-component - Based on the CVSS scoring system this issue has been categorized as a High (7.0 ??? 8.9). This high-level security issue has been resolved in { OSIsoft???s PI SDK version 1.1 sub-component } which has been packaged in this { PI ProcessBook 1998 release } . To reduce exposure to this security issue upgrade to the latest release. Sample A with 3rd Party sub-component - Based on the CVSS scoring system this issue has been categorized as a High (7.0 ??? 8.9). This high-level security issue has been resolved in the 3rd Party { OpenSSL sub-component } which has been packaged in this { PI Adapter for OPC UA 1.2 } release . To reduce exposure to this security issue upgrade to the latest release. Sample B - For this release of the { product name } , {x number} of security vulnerability has been identified and fixed. The table below provides an overview of the types and severity of the security fixes. Security vulnerabilities fixed in this release Severity category CVSS base score range Number of fixed vulnerabilities Critical 9.0-10 { quantity } High 7.0-8.9 { quantity } Medium 4.0-6.9 { quantity } Low 0-3.9 { quantity } Sample B with sub-components - For this release of the {product name} , {x number} of security vulnerability has been identified and fixed. The tables below provide an overview of the types and severity of the security fixes. { Some/All Some All } of the vulnerabilities were associated with {OSIsoft/3rd {OSIsoft 3rd Party} sub-component { name } which is packaged in this release. Summary of security vulnerabilities fixed in this release Severity category CVSS base score range Number of fixed vulnerabilities Critical 9.0-10 { quantity } High 7.0-8.9 { quantity } Medium 4.0-6.9 { quantity } Low 0-3.9 { quantity } Security vulnerabilities fixed in the {OSIsoft/3rd {OSIsoft 3rd Party} sub-component { name } Severity category CVSS base score range Number of fixed vulnerabilities Critical 9.0-10 { quantity } High 7.0-8.9 { quantity } Medium 4.0-6.9 { quantity } Low 0-3.9 { quantity } \u003c!--*Optional ???Microsoft Software Security Defenses topic below??? (applies to C++ projects)*--\u003e Microsoft software security defenses In addition to finding and fixing security bugs within the { product name } , it is equally critical that OSIsoft leverage security defenses provided by the Microsoft Visual C++ compiler that builds it and the Microsoft Windows operating system that runs it. Over the past decade, Microsoft has continually added new defenses and improved existing defenses with successive versions of the compiler and the operating system. To learn more about many of these key defenses, consult the Microsoft whitepaper Mitigating Software Vulnerabilities. Documentation overview \u003c!--*Remove this section if there is no documentation besides the documentation in which these release notes are included. For additional documentation, provide a brief description. Example:*--\u003e PI System Explorer User Guide: Provides an overview and explains the functions of the PI System Explorer interface. Technical support and resources \u003c!--*Provide a cross-reference to the Technical Support and feedback section. For example,*--\u003e Refer to Technical support and feedback ."
                                                                    },
    "V1.2/Main/test.html":  {
                                "href":  "V1.2/Main/test.html",
                                "title":  "",
                                "keywords":  ""
                            },
    "V1.2/Main/V1.3/Administration/administration.html":  {
                                                              "href":  "V1.2/Main/V1.3/Administration/administration.html",
                                                              "title":  "Administration",
                                                              "keywords":  "Administration With the PI adapter administration level functions, you can start and stop an adapter service and the individual adapter ingress components. You can also retrieve product version information and delete an adapter. The examples in the administration topics use curl , a commonly available tool on both Windows and Linux. You can use the same operations with any programming language or tool that supports making REST calls. You can also configure PI adapters with the EdgeCmd utility. For more information, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . To validate successful configurations, you can accomplish data retrieval steps ( GET commands) using a browser, if available on your device. For more information on PI adapter configuration tools, see Configuration tools ."
                                                          },
    "V1.2/Main/V1.3/Administration/delete-an-adapter-component.html":  {
                                                                           "href":  "V1.2/Main/V1.3/Administration/delete-an-adapter-component.html",
                                                                           "title":  "Delete an adapter component",
                                                                           "keywords":  "Delete an adapter component When you remove an adapter component, the configuration and log files are saved into a sub-directory in case they are needed later. Any associated types, streams, and data remain on the respective endpoints. Complete the following steps to delete an adapter component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e Note: You must make an empty DELETE command against the Id of the component you want to delete. 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Delete OpcUa1 adapter component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1\" \"http:  localhost:5590 api v1 configuration system components OpcUa1\" File relocation All configuration and log files are renamed and moved. The files are renamed according to the timestamp of removal, for example, FileName.json_removed_yyyy-MM-dd--hh-mm-ss . Configuration files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Configuration\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Configuration/Removed  usr share OSIsoft Adapters AdapterName Configuration Removed Log files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Logs\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Logs/Removed  usr share OSIsoft Adapters AdapterName Logs Removed In the following example, one Modbus adapter service is installed on a particular Windows node with the name ModbusService1 . A Modbus component with the name ModbusDeviceX was added and configured to this Modbus adapter and later removed. Linux follows a similar behavior. This is the resulting relocation and renaming scheme after deletion: Note: This is an example; it does not necessarily represent the adapter that you are currently using. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components/ api v1 configuration system components  ComponentId DELETE Deletes specified component Note: Replace ComponentId with the Id of the component that you want to delete."
                                                                       },
    "V1.2/Main/V1.3/Administration/retrieve-product-version-information.html":  {
                                                                                    "href":  "V1.2/Main/V1.3/Administration/retrieve-product-version-information.html",
                                                                                    "title":  "Retrieve product version information",
                                                                                    "keywords":  "Retrieve product version information The product version information includes the application version, the version of the underlying .NET Core framework, and the operating system that the adapter is running on. Complete the following steps to retrieve the product version information of a PI adapter: Use any of the Configuration tools capable of making HTTP requests. Run a GET command to the following endpoint: http://localhost:5590/api/v1/Diagnostics/ProductInformation http:  localhost:5590 api v1 Diagnostics ProductInformation Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Get product information for adapter hosted on port 5590 curl -X GET \"http://localhost:5590/api/v1/Diagnostics/ProductInformation \"http:  localhost:5590 api v1 Diagnostics ProductInformation Example result: { \"Application Version\":\"1.2.0.37\", \".Net Core Version\":\".NET Core 3.1.5\", \"Operating System\":\"Linux 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020\" }"
                                                                                },
    "V1.2/Main/V1.3/Administration/start-and-stop-an-adapter.html":  {
                                                                         "href":  "V1.2/Main/V1.3/Administration/start-and-stop-an-adapter.html",
                                                                         "title":  "Start and stop an adapter",
                                                                         "keywords":  "Start and stop an adapter Complete the procedure appropriate for your operating system to start or stop an adapter service: Windows Open Windows services. Select PI Adapter for AdapterName , for example, PI Adapter for Modbus. Note: This is an example; it does not necessarily represent the adapter that you are currently using. Depending on whether your adapter is running or not, click either Start or Stop . Linux Open command line. Depending on whether your adapter is running or not, type one of the following commands: Example: Start PI Adapter for OPC UA sudo systemctl start pi.adapter.opcua Example: Stop PI Adapter for Modbus TCP sudo systemctl stop pi.adapter.modbus Note: These commands are examples; they do not necessarily represent the adapter that you are currently using. Press Enter."
                                                                     },
    "V1.2/Main/V1.3/Administration/start-and-stop-ingress-component.html":  {
                                                                                "href":  "V1.2/Main/V1.3/Administration/start-and-stop-ingress-component.html",
                                                                                "title":  "Start and stop ingress component",
                                                                                "keywords":  "Start and stop ingress component To control data ingress, you can start and stop the ingress components of an adapter whenever necessary. By default, all currently configured ingress components are started. Start an ingress component Complete the following steps to start an individual ingress component: Use any of the Configuration tools capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to start: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Start http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Start Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Start the OpcUa1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/OpcUa1/Start\" \"http:  localhost:5590 api v1 Administration OpcUa1 Start\" Stop an ingress component Complete the following steps to stop an individual ingress component: Start any configuration tool capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to stop: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Stop http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Stop Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Stop the Modbus1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/Modbus1/Stop\" \"http:  localhost:5590 api v1 Administration Modbus1 Stop\""
                                                                            },
    "V1.2/Main/V1.3/Configuration/buffering-configuration.html":  {
                                                                      "href":  "V1.2/Main/V1.3/Configuration/buffering-configuration.html",
                                                                      "title":  "Buffering configuration",
                                                                      "keywords":  "Buffering configuration You can configure PI adapters to buffer data egressed from the adapter to endpoints. Buffering is configured through the buffering configuration parameters in the system configuration. Note: OSIsoft recommends that you do not modify the default buffering location unless it is necessary. Changes to the buffering configuration parameters only take effect during adapter service startup. Configure buffering Using any text editor, create a file that contains the buffering configuration in the JSON format. For content structure, see the sample output in Examples - Retrieve the buffering configuration . For a table of all available parameters, see Buffering parameters . Save the file. For example, ConfigureBuffering.json . Use any of the Configuration tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/buffering http:  localhost:5590 api v1 configuration system buffering Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureBuffering.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Note: Run this command from the same directory where the file is located. Buffering schema The full schema definition for the system buffering is in the System_Buffering_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Buffering parameters The following parameters are available for configuring buffering: Parameter Required Type Description EnablePersistentBuffering Optional boolean Enables or disables on-disk buffering Allowed value: true or false Default value: true Note: If you disable persistent buffering, in-memory buffering is used. In-memory buffering is limited by value in the MaxBufferSizeMB property. MaxBufferSizeMB Optional integer Defines the maximum size of the buffer files that are persisted on disk or used in memory when EnablePersistentBuffering is set to false per configured endpoint. The unit is specified in MB (1 Megabyte = 1048576 bytes). Consider the capacity and the type of storage medium to determine a suitable value for this parameter. Minimum value: 1 Maximum value: 2147483647 Default value: 1024 BufferLocation Required string Defines the location of the buffer files. Absolute paths are required. Consider the access-control list (ACL) when you set this parameter. Allowed value: Valid path to a folder location in the file system Default value: Windows: %ProgramData%\\OSIsoft\\Adapters\\{AdapterInstance}\\Buffers Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Buffers  usr share OSIsoft Adapters {AdapterInstance} Buffers Examples The following examples are buffering configurations made through the curl REST client. Retrieve the buffering configuration curl -X GET \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Sample output: { \"bufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/Modbus/Buffers\", \"C: ProgramData OSIsoft Adapters Modbus Buffers\", \"maxBufferSizeMB\": 1024, \"enablePersistentBuffering\": true } 200 OK response indicates success. Update MaxBufferSizeMb parameter curl -d \"{ \\\"MaxBufferSizeMB\\\": 100 }\" -H \"Content-Type: application/json\" application json\" -X PATCH \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" 204 No Content response indicates success. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/buffering api v1 configuration system buffering GET Gets the buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PUT Replaces the existing buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PATCH Update parameter, partial configuration"
                                                                  },
    "V1.2/Main/V1.3/Configuration/configuration-tools.html":  {
                                                                  "href":  "V1.2/Main/V1.3/Configuration/configuration-tools.html",
                                                                  "title":  "Configuration tools",
                                                                  "keywords":  "Configuration tools You can configure PI adapters with the EdgeCmd utility, OSIsoft\u0027s proprietary tool for configuring adapters, or a commonly-used REST tool. EdgeCmd utility The EdgeCmd utility enables adapter configuration on both Linux and Windows operating systems. For more information on using the EdgeCmd utility, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . REST tools The following tools are available to make REST calls: curl curl is a command line tool used to make HTTP calls and is supported on both Windows and Linux operating systems. You can script curl with Bash or PowerShell on Linux or Windows and you can use it to perform adapter administrative and programming tasks. curl commands are used in configuration and management examples throughout this document. For more information, see curl (https://curl.haxx.se/) (https:  curl.haxx.se ) . Postman Postman is a REST tool for systems with GUI components. PI adapters are supported on platforms without GUIs. Postman is particularly useful for learning more about PI Adapter REST APIs. For more information, see Postman (https://www.postman.com/) (https:  www.postman.com ) ."
                                                              },
    "V1.2/Main/V1.3/Configuration/configure-a-network-proxy.html":  {
                                                                        "href":  "V1.2/Main/V1.3/Configuration/configure-a-network-proxy.html",
                                                                        "title":  "Configure a network proxy",
                                                                        "keywords":  "Configure a network proxy Some network architectures may need a network proxy between the PI adapter and the egress endpoint. The process for configuring the adapter to egress data through a network proxy varies depending on the proxy type. HTTPS forward proxy For the adapter to use an HTTPS forward proxy while egressing, configure the https_proxy environment variable. The value of this environment variable must contain the URL of the proxy server, beginning with http . The format of the string is [user[:password]@]http://hostname[:port] [user[:password]@]http:  hostname[:port] . HTTPS proxy environment variable Parameter Required Description user Optional The user name for the HTTPS forward proxy. password Optional The password for the HTTPS forward proxy specified user name. If you specify user , password remains optional. port Optional If you do not specify port , the default 80 is used. Note: Usage of the https_proxy environment variable may affect other .NET or .NET Core applications. If you set this environment variable, it will affect the adapter egress endpoints and the adapter health endpoints. Example: myUser@http://192.168.2.2 myUser@http:  192.168.2.2 myUser:myPassword@http://proxymachine.domain:3128 myUser:myPassword@http:  proxymachine.domain:3128 http://proxymachine.domain http:  proxymachine.domain In Windows, this may look something like: For more information on how to configure system environment variables, refer to your platform specific documentation: Windows: setx Ubuntu: EnvironmentVariables Debian: EnvironmentVariables Docker: Environment variables in Compose Example of an architecture with an https forward proxy: Reverse proxy For the adapter to use a reverse proxy while egressing, you must configure the reverse proxy as an egress endpoint. Example: [{ \"Id\": \"PI Web API Through Proxy\", \"Endpoint\": \"https://\u003creverseProxy\u003e:\u003cport\u003e/piwebapi/omf/\", \"https:  \u003creverseProxy\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cpiWebApiUser\u003e\", \"Password\": \"\u003cpiWebApiPassword\u003e\" }] Example of an architecture with a reverse proxy:"
                                                                    },
    "V1.2/Main/V1.3/Configuration/data-filters-configuration.html":  {
                                                                         "href":  "V1.2/Main/V1.3/Configuration/data-filters-configuration.html",
                                                                         "title":  "Data filters configuration",
                                                                         "keywords":  "Data filters configuration PI adapters can be configured to perform data filtering to save network bandwidth. Every data item in the data selection configuration can be assigned the ID of a data filter. The adapter will then filter data for those data items based on the data filter configuration. Configure data filters Complete the following steps to change the data filters configuration: Using any text editor, create a file that contains the data filters configuration in the JSON format. For content structure, see Data filters example . For all available parameters, see Data filters parameters . Save the file, for example, as ConfigureDataFilters.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter, for example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureDataFilters.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters\" Note: Run this command from the same directory where the file is located. On successful execution, the change that you have made to data filters takes effect immediately during runtime. Data filters schema The full schema definition for the data filters configuration is in the AdapterName_DataFilters_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Data filters parameters The following parameters are available for configuring data filters: Parameter Required Type Description Id Required string Unique identifier for the data filter. Allowed value: any string identifier AbsoluteDeadband Optional double Specifies the absolute change in data value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing absolute deadband number Default value: null PercentChange Optional double Specifies the percent change from previous value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing percent change Default value: null ExpirationPeriod Optional timespan The length in time that can elapse after an event before automatically storing the next event. The expected format is HH:MM:SS.###. * Allowed value: any timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"ExpirationPeriod\": 25 specifies 25 seconds, or \"ExpirationPeriod\": 125 specifies 2 minutes and 5 seconds. Data filters example [ { \"Id\": \"DuplicateData\", \"AbsoluteDeadband\": 0, \"PercentChange\": null, \"ExpirationPeriod\": \"01:00:00\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters GET Gets all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters DELETE Deletes all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters POST Adds an array of data filters or a single data filter. Fails if any data filter already exists. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PUT Replaces all data. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PATCH Allows partial updating of configured data filter. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id GET Gets configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id DELETE Deletes configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id PUT Replaces data filter by id . Fails if data filter does not exist. Note: Replace ComponentId with the Id of your adapter component, for example, Modbus1."
                                                                     },
    "V1.2/Main/V1.3/Configuration/discovery-configuration.html":  {
                                                                      "href":  "V1.2/Main/V1.3/Configuration/discovery-configuration.html",
                                                                      "title":  "Discovery configuration",
                                                                      "keywords":  "Discovery configuration You can perform a data discovery for existing data pieces on demand. Data discovery is initiated through REST calls and it is tied to a specific discovery ID, which you can either specify or let the adapter generate. Data discovery includes different routes. For example, you can choose to do the following: Retrieve the discovery results Query the discovery status Cancel or delete discoveries Merge discovery results with the data selection item Retrieve results from a current discovery and compare it with results from a previous discovery Retrieve results from a current discovery and compare it with results from a current data selection configuration Configure discovery Start any of the Configuration tools capable of making HTTP requests. Run a POST command with the Id of the discovery and autoSelect set to either true or false to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Discoveries http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Discoveries . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"Id\\\":\\\"TestDiscovery\\\", \\\"autoSelect\\\":true }\" -X POST \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Discoveries\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Discoveries\" \u003c!-- Only Id, Query and AutoSelect will have effect when initiating the discovery query. The other parameters for the \u0027discovery state\u0027 are redundant and will be overridden even if specified in the configuration. To avoid any confusion we could mention only the 3 relevant ones to the customer for configuring discovery. The table below is the State of the discovrery is mainly for intepreting discovery result. --\u003e Discovery parameters Parameter Type Description id string The ID of the discovery. Note: You cannot run multiple discoveries with the same ID. query string A filter that is specific to the data source. The query filter can limit the scope of the discovery. For more information, see the Data source configuration topic of your specific adapter. startTime datetime Time when the discovery started. endTime datetime Time when the discovery ended. progress double Progress of the discovery (number of topics found through the discovery) itemsFound integer Number of data pieces that the discovery found on the data source. newItems integer Number of new data pieces that the discovery found in comparison to the previous discovery. newAssets integer Number of new assets that the discovery found in comparison to the previous discovery. resultUri integer URL at which you can access the results of the discovery. autoSelect boolean When set to true , the result of the discovery gets pushed to the data selection. status reference Status of the discovery, for example Active or Complete . errors string Errors encountered during the discovery. Discoveries status example The following example shows the status of all discoveries. The discovery id in this example was auto-generated. Note: This is an example. It does not necessarily reflect the adapter you are currently using. [ { \"id\": \"8ff855f1-a636-490a-bb31-207410a6e607\", \"query\": null, \"startTime\": \"2020-09-30T19:34:01.8180401+02:00\", \"endTime\": \"2020-09-30T19:34:01.8368776+02:00\", \"progress\": 30, \"itemsFound\": 4, \"newItems\": 0, \"newAssets\": 0, \"resultUri\": \"http://127.0.0.1:5590/api/v1/Configuration/OpcUa1/Discoveries/8ff855f1-a636-490a-bb31-207410a6e607/result\", \"http:  127.0.0.1:5590 api v1 Configuration OpcUa1 Discoveries 8ff855f1-a636-490a-bb31-207410a6e607 result\", \"autoSelect\": false, \"status\": \"Complete\", \"errors\": null } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries GET Returns status of all discoveries api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries POST Initiates a new discovery and returns its Id api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries DELETE Cancels and deletes all saved discoveries api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId GET Gets the status of an individual discovery Note: If a discovery with the specified ID does not exist, you will get an error message api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId DELETE Cancels and deletes discovery and result api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result  result GET Returns the result of a discovery api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result?diff=  result?diff= previousId GET Returns the difference between the result and the previous result api/v1/configuration/ api v1 configuration  componentId /dataselection?diff=  dataselection?diff= discoveryId GET Returns the difference between the data selection configuration and the discovery results api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result  result DELETE Cancels and deletes discovery result. Note: The discovery ID is still valid, but the Status property of a discovery query will contain a status of canceled api/v1/configuration/ api v1 configuration  componentId /dataselection/select?discoveryid=  dataselection select?discoveryid= discoveryId POST Adds the discovered items to data selection with selected set to true api/v1/configuration/ api v1 configuration  componentId /dataselection/unselect?discoveryid=  dataselection unselect?discoveryid= discoveryId POST Adds the discovered items to data selection with selected set to false Note: Replace componentId with the ID of your adapter component, for example OpcUa1. Replace discoveryId with the Id of the discovery for which you want to perform the action."
                                                                  },
    "V1.2/Main/V1.3/Configuration/egress-endpoint-configuration/configure-a-network-proxy.html":  {
                                                                                                      "href":  "V1.2/Main/V1.3/Configuration/egress-endpoint-configuration/configure-a-network-proxy.html",
                                                                                                      "title":  "Configure a network proxy",
                                                                                                      "keywords":  "Configure a network proxy Some network architectures may need a network proxy between the PI adapter and the egress endpoint. The process for configuring the adapter to egress data through a network proxy varies depending on the proxy type. HTTPS forward proxy For the adapter to use an HTTPS forward proxy while egressing, configure the https_proxy environment variable. For information on how to configure system environment variables, refer to your platform specific documentation: Windows: setx Ubuntu: EnvironmentVariables Debian: EnvironmentVariables Docker: Environment variables in Compose The value of this environment variable must contain the URL of the proxy server, beginning with http . The format of the string is [user[:password]@]http://hostname[:port] [user[:password]@]http:  hostname[:port] . HTTPS proxy environment variable Parameter Required Description user Optional The user name for the HTTPS forward proxy. password Optional The password for the HTTPS forward proxy specified user name. If you specify user , password remains optional. port Optional If you do not specify port , the default 80 is used. Note: Usage of the https_proxy environment variable may affect other .NET or .NET Core applications. If you set this environment variable, it will affect the adapter egress endpoints and the adapter health endpoints. Examples: myUser@http://192.168.2.2 myUser@http:  192.168.2.2 myUser:myPassword@http://proxymachine.domain:3128 myUser:myPassword@http:  proxymachine.domain:3128 http://proxymachine.domain http:  proxymachine.domain In Windows, this may look something like: Example of an architecture with an https forward proxy: Reverse proxy For the adapter to use a reverse proxy while egressing, you must configure the reverse proxy as an egress endpoint. For information on how to configure an egress endpoint, see Egress endpoints configuration . Example: [{ \"Id\": \"PI Web API Through Proxy\", \"Endpoint\": \"https://\u003creverseProxy\u003e:\u003cport\u003e/piwebapi/omf/\", \"https:  \u003creverseProxy\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cpiWebApiUser\u003e\", \"Password\": \"\u003cpiWebApiPassword\u003e\" }] Example of an architecture with a reverse proxy:"
                                                                                                  },
    "V1.2/Main/V1.3/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html":  {
                                                                                                        "href":  "V1.2/Main/V1.3/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html",
                                                                                                        "title":  "Prepare egress destinations",
                                                                                                        "keywords":  "Prepare egress destinations OCS and PI Server destinations may require additional configuration to receive OMF messages. OCS To prepare OCS to receive OMF messages from the adapter, create an OMF connection in OCS. Creating an OMF connection results in an available OMF endpoint that can be used by the adapter egress mechanism. Complete the following steps to create an OMF connection: Create a Client . The Client Id and Client Secret will be used for the corresponding properties in the egress configuration. Create an OMF type Connection . The connection should link the created client to an existing namespace where the data will be stored. The OMF Endpoint URL for the connection will be used as the egress configuration Endpoint property. PI Server To prepare a PI Server to receive OMF messages from the adapter, a PI Web API OMF endpoint must be available. Complete the following steps: Install PI Web API and enable the OSIsoft Message Format (OMF) Services feature. During configuration, choose an AF database and PI Data Archive where metadata and data will be stored. The account used in an egress configuration needs permissions to create AF elements, element templates, and PI points. Configure PI Web API to use Basic authentication. For complete steps, as well as best practices and recommendations, see the PI Web API User Guide on Live Library. Note: The certificate used by PI Web API must be trusted by the device running the adapter, otherwise the egress configuration ValidateEndpointCertificate property needs to be set to false (this can be the case with a self-signed certificate but should only be used for testing purposes). Note: To continue to send OMF egress messages to the PI Web API endpoint after upgrading PI Web API, restart the adapter service."
                                                                                                    },
    "V1.2/Main/V1.3/Configuration/egress-endpoints-configuration.html":  {
                                                                             "href":  "V1.2/Main/V1.3/Configuration/egress-endpoints-configuration.html",
                                                                             "title":  "Egress endpoints configuration",
                                                                             "keywords":  "Egress endpoints configuration PI adapters collect time series data, which they can send to a permanent data store (endpoint). This operation is called data egress. The following endpoints are available for data egress: OSIsoft Cloud Services (OCS) PI servers through PI Web API Edge Data Store (EDS) For long term storage and analysis, you can configure any adapter to send time series data to one or several of these endpoints in any combination. An egress endpoint is comprised of the properties specified under Egress endpoint parameters . Data egress to a PI server creates a PI point in the PI adapter configuration. Data egress to OCS or EDS creates a stream in the PI adapter configuration. Note: Egress to EDS requires the adapter to be on the same server as EDS. The name of the PI point or OCS or EDS stream is a combination of the StreamIdPrefix specified in the adapter data source configuration and the StreamId specified in the adapter data selection configuration. Configure egress endpoints Note: You cannot add egress configurations manually because some parameters are encrypted when stored to disk. You must use the REST endpoints to add or edit egress configuration. For additional endpoint configurations, see REST URLs . Complete the following steps to configure egress endpoints: Using any text editor, create a file that contains one or more egress endpoints in the JSON format. For content structure, see Examples . For a table of all available parameters, see Egress endpoint parameters . Save the file. For example, ConfigureEgressEndpoints.json . Use any of the Configuration tools capable of making HTTP requests and run the appropriate command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/ http:  localhost:5590 api v1 configuration OmfEgress dataendpoints  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Examples using curl : Note: Run the commands from the same directory where the file is located. Add endpoints Note: Run either the POST or the PUT command. For more information, see REST URLs . curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints\" curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Delete an endpoint curl -X DELETE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Update an endpoint curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X UPDATE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" View endpoints curl -X GET \"http://localhost:5590/api/v1/configuration/OmfEgress/DataEndpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress DataEndpoints\" Egress endpoint configuration schema The full schema definition for the egress endpoint configuration is in the OmfEgress_DataEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Egress endpoint parameters The following parameters are available for configuring egress endpoints: Parameter Required Type Description Id Optional string Unique identifier Allowed value: any string identifier Default value: new GUID Endpoint Required string Destination that accepts OMF v1.2 messages. Supported destinations include OCS, PI Server, and EDS. Allowed value: well-formed http or https endpoint string Default: null Username Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null Note: If your username contains a backslash, you must add an escape character, for example, type OilCompany\\TestUser as OilCompany\\\\TestUser . EDS: Allowed value: any string, can be null if the endpoint URL schema is HTTP Password Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, can be null if the endpoint URL schema is HTTP ClientId Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string, can be null if the endpoint URL schema is HTTP Default: null ClientSecret Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string, can be null if the endpoint URL schema is HTTP Default: null TokenEndpoint Optional for OCS endpoint string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination certificate. Note: Only use for testing with self-signed certificates. Allowed value: true or false Default value: true Note: If the URL schema for the egress endpoint is HTTP, which is typical for EDS, then you do not need to specify credentials. Examples The following examples are valid egress configurations: Egress data to OCS [{ \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" }] Egress data to PI Web API [{ \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" }] Egress data to EDS [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints GET Gets all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints DELETE Deletes all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints POST Adds an array of egress endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PUT Replaces all egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PATCH Allows partial updating of configured endpoints. Note: The request must be an array containing one or more endpoints. Each endpoint in the array must include its Id . api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} GET Gets configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} DELETE Deletes configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PUT Updates or creates a new endpoint with the specified Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PATCH Allows partial updating of configured endpoint by Id Egress execution details After configuring an egress endpoint, egress is immediately run for that endpoint. Egress is handled individually per configured endpoint. When data is egressed for the first time, types and containers are egressed to the configured endpoint. After that only new or changed types or containers are egressed. Type creation must be successful in order to create containers. Container creation must be successful in order to egress data. If you delete an egress endpoint, data flow immediately stops for that endpoint. Buffered data in a deleted endpoint is permanently lost. Type, container, and data items are batched into one or more OMF messages when egressing. As per the requirements defined in OMF, a single message payload will not exceed 192KB in size. Compression is automatically applied to outbound egress messages. On the egress destination, failure to add a single item results in the message failing. Types, containers, and data are egressed as long as the destination continues to respond to HTTP requests."
                                                                         },
    "V1.2/Main/V1.3/Configuration/general-configuration.html":  {
                                                                    "href":  "V1.2/Main/V1.3/Configuration/general-configuration.html",
                                                                    "title":  "General configuration",
                                                                    "keywords":  "General configuration You can configure PI adapters to produce and store diagnostics data at a designated health endpoint, and to send metadata for created streams. For more information about available diagnostics data, see Adapter diagnostics and Egress diagnostics . For more information about available metadata and what metadata are sent per metadata level, see Adapter Metadata . Configure general Start any of the Configuration tools capable of making HTTP requests. Run a PUT command to the following endpoint, setting enableDiagnostics to either true or false and MetadataLevel to None , Low , Medium , or High : http://localhost:5590/api/v1/configuration/system/general http:  localhost:5590 api v1 configuration system general Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"enableDiagnostics\\\":true, \\\"enableMetadata\\\":false }\" -X PUT \"http://localhost:5590/api/v1/configuration/system/general\" \"http:  localhost:5590 api v1 configuration system general\" General schema The full schema definition for the general configuration is in the System_General_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas General parameters The following parameters are available for configuring general: Parameter Required Type Description EnableDiagnostics Optional boolean Determines if diagnostics are enabled Allowed value: true or false Default value: true MetadataLevel Optional reference Defines amount of metadata sent to OMF endpoints. Allowed value: None , Low , Medium , and High Default value: Medium Example Retrieve the general configuration Example using curl : curl -X GET \"http://localhost:{port}/api/v1/configuration/system/general\" \"http:  localhost:{port} api v1 configuration system general\" Sample output: { \"EnableDiagnostics\": true, \"MetadataLevel\": \"Medium\" } REST URLs Relative URL HTTP verb Action api/v1/configuration/system/General api v1 configuration system General GET Gets the general configuration api/v1/configuration/system/General api v1 configuration system General PUT Replaces the existing general configuration api/v1/configuration/system/General api v1 configuration system General PATCH Allows partial updating of general configuration"
                                                                },
    "V1.2/Main/V1.3/Configuration/health-endpoint-configuration.html":  {
                                                                            "href":  "V1.2/Main/V1.3/Configuration/health-endpoint-configuration.html",
                                                                            "title":  "Health endpoint configuration",
                                                                            "keywords":  "Health endpoint configuration You can configure PI adapters to produce and store health data at a designated health endpoint. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information about adapter health, see Adapter health . Configure health endpoint A health endpoint designates an OMF endpoint where adapter health information is sent. You can configure multiple health endpoints. Use any text editor to create a file that contains one or more health endpoints in the JSON format. For content structure, see Examples . For a table of all available health endpoint parameters, see Health endpoint parameters . Save the file. For example, ConfigureHealthEndpoints.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints http:  localhost:5590 api v1 configuration system healthendpoints Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/healthendpoints\" \"http:  localhost:5590 api v1 configuration system healthendpoints\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints/{Id} http:  localhost:5590 api v1 configuration system healthendpoints {Id} Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/healthendpoints/OCS\" \"http:  localhost:5590 api v1 configuration system healthendpoints OCS\" Health endpoints schema The full schema definition for the health endpoint configuration is in the System_HealthEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Health endpoint parameters The following parameters are available for configuring health endpoints: Parameter Required Type Description Id Optional string Uniquely identifies the endpoint. This can be any alphanumeric string. If left blank, a unique value is generated automatically. Allowed value: any string identifier Default value: new GUID Endpoint Required string The URL of the OMF endpoint to receive this health data Allowed value: well-formed http or https endpoint string Default: null Username Required for PI Web API and EDS endpoints string The username used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null Password Required for PI Web API endpoints string The password used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null ClientId Required for OCS endpoints string The client ID used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null ClientSecret Required for OCS endpoints string The client secret used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null TokenEndpoint Optional for OCS endpoints string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination security certificate. Use for testing only with self-signed certificates; OSIsoft recommends keeping this set to the default, true, in production environments. Allowed value: true or false Default value: true Examples OCS endpoint { \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" } PI Web API endpoint { \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" } EDS endpoint [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints GET Gets all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints DELETE Deletes all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints POST Adds an array of health endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PUT Replaces all health endpoints. Note: Requires an array of endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PATCH Allows partial updating of configured health endpoints Note: The request must be an array containing one or more health endpoints. Each health endpoint in the array must include its Id . api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id GET Gets configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id DELETE Deletes configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PUT Updates or creates a new health endpoint with the specified Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PATCH Allows partial updating of configured health endpoint by Id Note: Replace Id with the Id of the health endpoint."
                                                                        },
    "V1.2/Main/V1.3/Configuration/logging-configuration.html":  {
                                                                    "href":  "V1.2/Main/V1.3/Configuration/logging-configuration.html",
                                                                    "title":  "Logging configuration",
                                                                    "keywords":  "Logging configuration PI adapters write daily log messages for the adapter, the system, and OMF egress to flat text files in the following locations: ??? Windows: %ProgramData%\\OSIsoft\\Adapters{AdapterInstance}\\Logs ??? Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Logs  usr share OSIsoft Adapters {AdapterInstance} Logs Each message in the log displays the message severity level, timestamp, and the message itself. Configure logging Complete the following steps to change the logging configuration: Using any text editor, create a file that contains the logging configuration in the JSON format. For content structure, see Example . For all available parameters, see Logging parameters . Save the file. For example, ConfigureLogging.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, OpcUa1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureLogging.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging\" On successful execution, the log-level change takes effect immediately during runtime. The other configurations (log file size and file count) are updated after the adapter is restarted. Note: Any parameter not specified in the updated configuration file reverts to the default schema value. Logging schema The full schema definition for the logging configuration is in the component specific logging file: AdapterName_Logging_schema.json , OmfEgress_Logging_schema.json , or System_Logging_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Logging parameters The following parameters are available for configuring logging: Parameter Required Type Description LogLevel Optional reference The logLevel sets the minimum severity for messages to be included in the logs. Messages with a severity below the level set are not included. The log levels in their increasing order of severity are as follows: Trace , Debug , Information , Warning , Error , Critical , and None . Default log level: Information For detailed information about the log levels, see LogLevel . LogFileSizeLimitBytes Optional integer The maximum size (in bytes) of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1000 Maximum value: 9223372036854775807 Default value: 34636833 LogFileCountLimit Optional integer The maximum number of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1 Maximum value: 2147483647 Default value: 31 LogLevel Level Description Trace Logs that contain the most detailed messages. These messages may contain sensitive application data like actual received values, which is why these messages should not be enabled in production environment. Note: Trace is translated to Verbose in the log file. Debug Logs that can be used to troubleshoot data flow issues by recording metrics and detailed flow related information. Information Logs that track the general flow of the application. Any non-repetitive general information like the following can be useful for diagnosing potential application errors: - Version information related to the software at startup - External services used - Data source connection string - Number of measurements - Egress URL - Change of state ???Starting??? or ???Stopping??? - Configuration Warning Logs that highlight an abnormal or unexpected event in the application flow that does not otherwise cause the application execution to stop. Warning messages can indicate an unconfigured data source state, that a communication with backup failover instance has been lost, an insecure communication channel in use, or any other event that could require attention but that does not impact data flow. Error Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity and not an application-wide failure. It can indicate an invalid configuration, unavailable external endpoint, internal flow error, and so on. Critical Logs that describe an unrecoverable application or system crash or a catastrophic failure that requires immediate attention. This can indicate application wide failures like beta timeout expired, unable to start self-hosted endpoint, unable to access vital resource (for example, Data Protection key file), and so on. Note: Critical is translated to Fatal in the log file. None Logging is disabled for the given component. Example Default logging configuration By default, logging captures Information, Warning, Error, and Critical messages in the message logs. The following logging configuration is the installation default for a component: { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 } REST URLs Relative URL HTTP verb Action api/v1/configuration/System/Logging api v1 configuration System Logging GET Retrieves the system logging configuration api/v1/configuration/System/Logging api v1 configuration System Logging PUT Updates the system logging configuration api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging GET Retrieves the logging configuration of the specified adapter component api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging PUT Updates the logging configuration of the specified adapter component Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1 or OpcUa1."
                                                                },
    "V1.2/Main/V1.3/Configuration/schedules-configuration.html":  {
                                                                      "href":  "V1.2/Main/V1.3/Configuration/schedules-configuration.html",
                                                                      "title":  "Schedules configuration",
                                                                      "keywords":  "Schedules configuration You can configure PI adapters to run scans based on a schedule. If the adapter supports schedules, each data item in the data selection configuration can be assigned a schedule. The adapter will then sample data for those data items at the scheduled time. Note: If the adapter supports scheduling and you start an ingress component without a schedules configuration, a default schedules configuration will be added to be used as an example. Note: When the adapter framework scheduler misses or skips a scan due to any reason, either one of the following messages is printed: Scan skipped for schedule id \u003cId\u003e or Scan missed for schedule \u003cid\u003e . Configure schedules Complete the following steps to change the schedules configuration: Using any text editor, create a file that contains the schedules configuration in the JSON format. For content structure, see Example . For all available parameters, see Schedules parameters . Save the file. For example, ConfigureSchedules.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSchedules.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules\" On successful execution, the schedules change takes effect immediately during runtime. Schedules schema The full schema definition for the schedules configuration is in the AdapterName_Schedules_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Schedules parameters The following parameters are available for configuring schedules: Parameter Required Type Description Id Required string Unique identifier for the schedule Allowed value: any string identifier Period Required string The data sampling rate of the schedule. The expected format is HH:MM:SS.###. * Invalid input: null , negative timespan, zero Default value: null (must be specified) Offset Optional string The offset from the midnight when the schedule starts. The expected format is HH:MM:SS.### * Invalid input: negative timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"Period\": 25 specifies 25 seconds, or \"Period\": 125 specifies 2 minutes and 5 seconds. Example [ { \"Id\": \"schedule1\", \"Period\": \"00:00:01.500\", \"Offset\": \"00:02:03\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules GET Gets all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules DELETE Deletes all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules POST Adds an array of schedules or a single schedule. Fails if any schedule already exists api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules PUT Replaces all schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id GET Gets configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id DELETE Deletes configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PUT Replaces schedule by id . Fails if schedule does not exist api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PATCH Allows partial updating of configured schedule by id Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1."
                                                                  },
    "V1.2/Main/V1.3/Configuration/system-and-adapter-configuration.html":  {
                                                                               "href":  "V1.2/Main/V1.3/Configuration/system-and-adapter-configuration.html",
                                                                               "title":  "System and adapter configuration",
                                                                               "keywords":  "System and adapter configuration You can configure the system component and adapter component together using a single file. Change system and adapter configuration Change the system and adapter configuration by importing the JSON file using a REST client: Using any text editor, create a file that contains the System and adapter configuration in the JSON format. For content structure, see Example . Save the file. For example, ConfigureSystemAndAdapter.json . Use any of the Configuration Tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSystemAndAdapter.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration\" \"http:  localhost:5590 api v1 configuration\" Note: In order for some of the adapter specific configurations to take effect, you have to restart the adapter. If the operation fails due to errors in the configuration, the count of the error and suitable error messages are returned in the result. Example Note : The following is an example configuration; it does not necessarily represent the configuration of the adapter that you are currently using. The data source and data selection configurations are different for every adapter. Sample OPC UA adapter configuration { \"OpcUa1\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataSource\": { \"EndpointUrl\": \"opc.tcp://OPCUAServerEndpoint/OPCUA/Server\", \"opc.tcp:  OPCUAServerEndpoint OPCUA Server\", \"UseSecureConnection\": false, \"StreamPrefix\": \"OPC_Prefix_\", \"UserName\": null, \"Password\": null, \"RootNodeIds\": null, \"IncomingTimestamp\": \"Source\", \"applyPrefixToStreamId\": true }, \"DataSelection\": [ { \"Selected\": true, \"Name\": \"Sawtooth\", \"NodeId\": \"ns=3;s=Sawtooth\", \"StreamId\": \"SawtoothStream\" } ] }, \"System\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"HealthEndpoints\": [ ], \"Diagnostics\": { \"enableDiagnostics\": true }, \"Components\": [ { \"componentId\": \"Egress\", \"componentType\": \"OmfEgress\" }, { \"componentId\": \"OpcUa1\", \"componentType\": \"OpcUa\" } ], \"Buffering\": { \"BufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/OpcUa/Buffers\", \"C: ProgramData OSIsoft Adapters OpcUa Buffers\", \"MaxBufferSizeMB\": -1, \"EnableBuffering\": true } }, \"OmfEgress\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataEndpoints\": [ { \"id\": \"WebAPI EndPoint\", \"endpoint\": \"https://PIWEBAPIServer/piwebapi/omf\", \"https:  PIWEBAPIServer piwebapi omf\", \"userName\": \"USERNAME\", \"password\": \"PASSWORD\" }, { \"id\": \"OCS Endpoint\", \"endpoint\": \"https://OCSEndpoint/omf\", \"https:  OCSEndpoint omf\", \"clientId\": \"CLIENTID\", \"clientSecret\": \"CLIENTSECRET\" }, { \"Id\": \"EDS\", \"Endpoint\": \"http://localhost: \"http:  localhost: /api/v1/tenants/default/namespaces/default/omf\"  api v1 tenants default namespaces default omf\" \"UserName\": \"eds\", \"Password\": \"eds\" } ] } } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  PUT Replaces the configuration for the entire adapter"
                                                                           },
    "V1.2/Main/V1.3/Configuration/system-components-configuration.html":  {
                                                                              "href":  "V1.2/Main/V1.3/Configuration/system-components-configuration.html",
                                                                              "title":  "System components configuration",
                                                                              "keywords":  "System components configuration PI adapters use JSON configuration files in a protected directory on Windows and Linux to store configuration that is read on startup. While the files are accessible to view, OSIsoft recommends that you use REST or the EdgeCmd utility for any changes you make to the files. As part of making adapters as secure as possible, any passwords or secrets that you configure are stored in encrypted form where cryptographic key material is stored separately in a secure location. If you edit the files directly, the adapter may not work as expected. Note: You can edit any single component or facet of the system individually using REST, but you can also configure the system as a whole with a single REST call. Configure system components The configuration of system components includes adding, updating, and deleting components. Add a system component Complete the following steps to add a new component to the system: Note: The examples in this procedure do not necessarily represent the adapter that your are currently using. Using any text editor, create a file that contains the component to be added to the system in the JSON format. For content structure, see Examples . For a table of all available parameters, see System components parameters . Note: The OmfEgress component is required for this initial release for adapters to run. You can add additional components, but only a single OmfEgress component is supported. The following example adds a Modbus TCP adapter: { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" } Note: A unique ComponentId is necessary for each component in the system. This example uses the ComponentId Modbus1 since it is the first Modbus TCP adapter to be added. Save the file. For example, AddComponent.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003ccomponentId\u003e http:  localhost:5590 api v1 configuration system components \u003ccomponentId\u003e Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components/Modbus1\" \"http:  localhost:5590 api v1 configuration system components Modbus1\" After the curl command completes successfully, you can configure or use the new component. Update system components Complete the following steps to update the components of the system, for example, by adding or deleting one or more adapter components. Using any text editor, create a file that contains the current system components configuration. For information on how to retrieve the system components configuration, see REST URLs . Delete or add components as you need. Note: You cannot delete the OmfEgress component. Save the file. For example, UpdateComponents.json Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@UpdateComponents.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" Delete a system component Complete the following steps to delete a specific existing component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint, replacing \u003cComponentId\u003e with the ID of the component that you want to delete: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e/ http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. Delete OpcUa1 component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1/\" \"http:  localhost:5590 api v1 configuration system components OpcUa1 \" All the logs and configurations files for the deleted components are moved to the corresponding logs/Removed logs Removed or Configuration/Removed Configuration Removed folder. System components schema The full schema definition for the system components configuration is in the System_Components_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas System components parameters You can configure the following parameters for system components: Parameters Required Type Description ComponentId Required string The ID of the component 1 . It can be any alphanumeric string, for example, Modbus1. A properly configured ComponentID follows these rules: Cannot contain leading or trailing space Cannot use the following characters: \u003e \u003c /   : ? # [ ] @ ! $ \u0026 * \\ \" ( ) \\\\ + , ; = \\| ` { } ComponentType Required string The type of the component, for example, Modbus. There are two types of components: OmfEgress and the adapter. 1 1 Note: The OmfEgress component is required to run the adapter. Both its ComponentId and ComponentType are reserved and should not be modified. Examples Default system components configuration The default System_Components.json file for the System component contains the following information. [ { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] System components configuration with two adapter instances Note: This is an example configuration; it does not necessarily include the adapter that you are currently using. [ { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"Modbus2\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components api v1 configuration system components GET Retrieves the system components configuration api/v1/configuration/system/components api v1 configuration system components POST Adds a new component to the system configuration api/v1/configuration/system/components api v1 configuration system components PUT Updates the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId DELETE Deletes a specific component from the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId PUT Creates a new component with the specified componentId in the system configuration"
                                                                          },
    "V1.2/Main/V1.3/Diagnostics/adapter-diagnostics.html":  {
                                                                "href":  "V1.2/Main/V1.3/Diagnostics/adapter-diagnostics.html",
                                                                "title":  "Adapter diagnostics",
                                                                "keywords":  "Adapter diagnostics The adapter and its components produce different kinds of diagnostics data that is sent to all health endpoints. The System_Diagnostics.json file contains a flag that determines whether diagnostics are enabled. You can change this at runtime through REST calls or the EdgeCmd utility. Diagnostics data are collected by default. To egress diagnostics related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available diagnostics data Every minute, dynamic data is sent to configured health endpoints. The following diagnostics data are available: System Stream count IO rate Error rate AF structure After running diagnostics with a health endpoint configured to a PI server, you can use PI System Explorer to view the diagnostics for a given adapter. The element hierarchy is shown in the following image. The Elements root contains a link to an Adapters node. This is the root node for all adapter instances. Below Adapters , you will find one or more adapter nodes. Each node\u0027s title is defined by the node\u0027s corresponding computer name and service name in this format: {ComputerName}.{ServiceName} . For example, in the following image, MachineName is the computer name and OpcUa is the service name. To see the System.Diagnostics values, click on an adapter node and set the tab to Attributes . Example values are shown in the image."
                                                            },
    "V1.2/Main/V1.3/Diagnostics/egress-diagnostics.html":  {
                                                               "href":  "V1.2/Main/V1.3/Diagnostics/egress-diagnostics.html",
                                                               "title":  "Egress diagnostics",
                                                               "keywords":  "Egress diagnostics The Egress component of the adapter produces the following diagnostics stream: IO rate The Diagnostics.Egress.IORate dynamic type includes the following values, which are logged in a stream with the Id {machineName}.{serviceName}.OmfEgress.{EndpointId}.IORate . IORate includes only sequential data successfully sent to an egress endpoint. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                                           },
    "V1.2/Main/V1.3/Diagnostics/error-rate.html":  {
                                                       "href":  "V1.2/Main/V1.3/Diagnostics/error-rate.html",
                                                       "title":  "Error rate",
                                                       "keywords":  "Error rate The Diagnostics.Adapter.ErrorRate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.ErrorRate . Property Type Description timestamp string Timestamp of event ErrorRate double One-minute rolling average of error rate (streams/second) (streams second)"
                                                   },
    "V1.2/Main/V1.3/Diagnostics/io-rate.html":  {
                                                    "href":  "V1.2/Main/V1.3/Diagnostics/io-rate.html",
                                                    "title":  "IO rate",
                                                    "keywords":  "IO rate The Diagnostics.Adapter.IORate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.IORate . IORate includes only sequential data collected from a data source. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                                },
    "V1.2/Main/V1.3/Diagnostics/stream-count.html":  {
                                                         "href":  "V1.2/Main/V1.3/Diagnostics/stream-count.html",
                                                         "title":  "Stream count",
                                                         "keywords":  "Stream count The Diagnostics.StreamCountEvent dynamic type includes the following values, which are logged in a stream with the Id {componentid}.StreamCount . The StreamCount and TypeCount include only types and streams created for sequential data received from a data source. Property Type Description timestamp string Timestamp of event StreamCount int Number of streams created by the adapter instance TypeCount int Number of types created by the adapter instance"
                                                     },
    "V1.2/Main/V1.3/Diagnostics/system.html":  {
                                                   "href":  "V1.2/Main/V1.3/Diagnostics/system.html",
                                                   "title":  "System",
                                                   "keywords":  "System The Diagnostics.System dynamic type includes the following values which are logged in a stream with the Id System.Diagnostics . This diagnostic stream contains system level information related to the host platform that the adapter is running on. Property Type Description timestamp string Timestamp of event ProcessIdentifier int Process Id of the host process StartTime string Time at which the host process started WorkingSet long Amount of physical memory in bytes, allocated for the host process TotalProcessorTime double Total processor time for the host process expressed in seconds TotalUserProcessorTime double User processor time for the host process expressed in seconds TotalPrivilegedProcessorTime double Privileged processor time for the host process expressed in seconds ThreadCount int Number of threads in the host process HandleCount int Number of handles opened by the host process ManagedMemorySize double Number of bytes currently thought to be allocated in managed memory Unit of Measure = megabytes PrivateMemorySize double Amount of paged memory in bytes allocated for the host process Unit of Measure = megabytes PeakPagedMemorySize double Maximum amount of memory in the virtual memory paging file in bytes used by the host process. Unit of Measure = megabytes StorageTotalSize double Total size of the storage medium in use by the system Unit of Measure = megabytes StorageFreeSpace double Free space available Unit of Measure = megabytes Each adapter component produces its own diagnostics streams."
                                               },
    "V1.2/Main/V1.3/Health/adapter-health.html":  {
                                                      "href":  "V1.2/Main/V1.3/Health/adapter-health.html",
                                                      "title":  "Adapter health",
                                                      "keywords":  "Adapter health PI Adapters produce different kinds of health data that can be egressed to different health endpoints. To egress health related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available health data Dynamic data is sent every minute to configured health endpoints. The following health data is available: Device status Next Health Message Expected AF structure With a health endpoint configured to a PI server, you can use PI System Explorer to view the health of a given adapter. The element hierarchy is shown in the following image."
                                                  },
    "V1.2/Main/V1.3/Health/device-status.html":  {
                                                     "href":  "V1.2/Main/V1.3/Health/device-status.html",
                                                     "title":  "Device status",
                                                     "keywords":  "Device status The device status indicates the health of this component and if it is currently communicating properly with the data source. This time-series data is stored within a PI point or OCS stream, depending on the endpoint type. During healthy steady-state operation, a value of Good is expected. Property Type Description Time string Timestamp of the event DeviceStatus string The value of the DeviceStatus The possible statuses are: Status Meaning Good The component is connected to the data source and it is collecting data. ConnectedNoData The component is connected to the data source but it is not receiving data from it. AttemptingFailover The adapter is attempting to fail over. Starting The component is currently in the process of starting up and is not yet connected to the data source. DeviceInError The component encountered an error either while connecting to the data source or attempting to collect data. Shutdown The component is either in the process of shutting down or has finished. Removed The adapter component has been removed and will no longer collect data. NotConfigured The adapter component has been created but is not yet configured."
                                                 },
    "V1.2/Main/V1.3/Health/health-and-diagnostics.html":  {
                                                              "href":  "V1.2/Main/V1.3/Health/health-and-diagnostics.html",
                                                              "title":  "Health and Diagnostics",
                                                              "keywords":  "Health and Diagnostics PI Adapters produce various types of health data. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information on available health data, see Adapter health . PI Adapters also produce diagnostic data. You can use diagnostic data to find more information about a particular adapter instance. Diagnostic data lives alongside the health data and you can egress it using a health endpoint and setting EnableDiagnostics to true . You can configure EnableDiagnostics in the system\u0027s General configuration . For more information on available diagnostics data, see Adapter diagnostics . Health endpoint differences Two OMF endpoints are currently supported for adapter health data: PI Web API OSIsoft Cloud Services There are a few differences in how these two systems treat the associated health and diagnostics data. PI Web API parses the information and sends it to configured PI servers for the OMF endpoint. The static data is used to create a hierarchy on a PI AF server similar to the following example: The dynamic health data is time-series data that is stored in PI points on a PI Data Archive. You can see it in the AF hierarchy as PI point data reference attributes. OSIsoft Cloud Services does not currently provide a way to store the static metadata. For OCS-based adapter health endpoints, only the dynamic data is stored. Each value is its own stream with the timestamp property as the single index."
                                                          },
    "V1.2/Main/V1.3/Health/next-health-message-expected.html":  {
                                                                    "href":  "V1.2/Main/V1.3/Health/next-health-message-expected.html",
                                                                    "title":  "Next health message expected",
                                                                    "keywords":  "Next health message expected This property is similar to a heartbeat. A new value for NextHealthMessageExpected is sent by an individual adapter data component on a periodic basis while it is functioning properly. This value is a timestamp that indicates when the next value should be received. When monitoring, if the next value is not received by the indicated time, this likely means that there is an issue. It could be an issue with the adapter, adapter component, network connection between the health endpoint and the adapter, and so on. Property Type Description Time string Timestamp of the event NextHealthMessageExpected string Timestamp when next value is expected"
                                                                },
    "V1.2/Main/V1.3/Installation/installation.html":  {
                                                          "href":  "V1.2/Main/V1.3/Installation/installation.html",
                                                          "title":  "Installation",
                                                          "keywords":  "Installation Adapters are installed on a local machine using an install kit downloaded from the OSIsoft Customer Portal. For instructions on downloading and installing adapters, see Install the adapter . Alternatively, you can build custom installers or containers for Linux. For more information, see the Docker instructions in the documentation of the respective adapter."
                                                      },
    "V1.2/Main/V1.3/Installation/install-the-adapter.html":  {
                                                                 "href":  "V1.2/Main/V1.3/Installation/install-the-adapter.html",
                                                                 "title":  "Install the adapter",
                                                                 "keywords":  "Install the adapter You can install adapters on either a Windows or Linux operating system. Before installing the adapter, see the respective system requirements to ensure your machine is properly configured to provide optimum adapter operation. Windows Complete the following steps to install a PI adapter on a Windows computer: Download the Windows .msi file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Run the .msi file. Follow the setup wizard. You can change the installation folder or port number during setup. The default port number is 5590 . Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and try the script again. If the installation was successful, a JSON copy of the default system configuration is returned. Linux Complete the following steps to install a PI adapter on a Linux computer: Download the appropriate Linux distribution file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Open a terminal. Run the sudo app install command. Examples : To install the Linux ARM Debian package, run the command sudo apt install ./PI . PI Adapter for OpcUa_{version}-arm_.deb To install the Linux x64 package, run the command sudo apt install ./PI . PI Adapter for Modbus_{version}-x64_.deb Note: The previous file names are examples. They do not necessarily represent the adapter that you are currently using. Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and run the command again. If the installation was successful, a JSON copy of the default system configuration is returned."
                                                             },
    "V1.2/Main/V1.3/Installation/uninstall-the-adapter.html":  {
                                                                   "href":  "V1.2/Main/V1.3/Installation/uninstall-the-adapter.html",
                                                                   "title":  "Uninstall the adapter",
                                                                   "keywords":  "Uninstall the adapter Complete the procedure corresponding to your specific operating system to uninstall the adapter: Windows To delete the PI adapter program files from a Windows device, use the Windows Control Panel uninstall application process. Note: The configuration, data, and log files are not deleted by the uninstall process. Optional: To delete data, configuration, and log files, delete the directory %ProgramData%\\OSIsoft\\Adapters\\AdapterName . This deletes all data processed by the adapter, in addition to the configuration and log files. Linux To delete PI Adapter software from a Linux device, open a terminal window and run the following command: sudo apt remove pi.adapter.\u003cAdapterName\u003e Optional: To delete data, configuration, and log files, run the following command: sudo rm -r /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e  usr share OSIsoft Adapters \u003cAdapterName\u003e This deletes all data processed by the adapter, in addition to the configuration and log files."
                                                               },
    "V1.2/Main/V1.3/Metadata/adapter-metadata.html":  {
                                                          "href":  "V1.2/Main/V1.3/Metadata/adapter-metadata.html",
                                                          "title":  "Adapter metadata",
                                                          "keywords":  "Adapter metadata If the metadataLevel is set to Low or higher in the General configuration , adapter streams created by the ingress components include the following metadata: Datasource: {ComponentId} AdapterType: {ComponentType} ComponentId corresponds to the adapter components\u0027 data source configured in the Components configuration . ComponentType corresponds to the adapter type. For example, Modbus or OpcUa. Metadata for health and diagnostics streams If you configure a health endpoint and enable metadata, they are included in the health streams ( Device status and Next health message expected ) together with ComponentId and ComponentType . If you enable diagnostics in General configuration , metadata are included in the diagnostics streams ( Stream count , IO rate , Error rate ) together with ComponentId and ComponentType . The adapter may also send its own stream metadata not including health and diagnostics streams. For more information about what custom metadata is included in each stream, see the user guide for your adapter. Note: Metadata is only sent for streams created by the ingress components. Currently, the only endpoint that persists sent metadata is OCS (OSIsoft Cloud Services)."
                                                      },
    "V1.2/Main/V1.3/technical-support-and-feedback.html":  {
                                                               "href":  "V1.2/Main/V1.3/technical-support-and-feedback.html",
                                                               "title":  "Technical support and feedback",
                                                               "keywords":  "Technical support and feedback OSIsoft provides several ways to report issues and provide feedback on PI Adapters. Technical support For technical assistance with PI Adapters, contact OSIsoft Technical Support through the OSIsoft Customer Portal . We can help you identify the problem, provide workarounds and address any concerns you may have. Remote access to your facilities may be necessary during the session. Note: You must have an account set up in the OSIsoft Customer Portal before you can open a case. If you do not have a portal account, see How to Get a Login to OSIsoft Customer Portal . Alternatively, call OSIsoft Technical Support at +1 510-297-5828. When you contact OSIsoft Technical Support, be prepared to provide this information: Product name, version, and build numbers Details about your computer platform (CPU type, operating system, and version number) Time that the difficulty started Log files at that time Details of any environment changes prior to the start of the issue Summary of the issue, including any relevant log files during the time the issue occurred \u003c!--To view a brief primer on PI Adapters, see the [PI Adapters playbook](https://customers.osisoft.com/s/knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) playbook](https:  customers.osisoft.com s knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) in the OSIsoft Customer Portal.--\u003e Product feedback To submit product feedback for PI Adapters, visit the PI Adapters feedback page . The product team at OSIsoft regularly monitors the page. Documentation feedback To submit documentation feedback for PI Adapters, send an email to documentation@osisoft.com . Be sure to include the following information with your feedback: Product name and version Documentation topic URL Details of the suggestion or error The technical documentation team at OSIsoft will review and respond to your feedback."
                                                           },
    "V1.2/Main/V1.3/Troubleshooting/troubleshoot-the-adapter.html":  {
                                                                         "href":  "V1.2/Main/V1.3/Troubleshooting/troubleshoot-the-adapter.html",
                                                                         "title":  "Troubleshoot the adapter",
                                                                         "keywords":  "Troubleshoot the adapter PI adapters provide features for troubleshooting issues related to connectivity, data flow, and configuration. Resources include adapter logs and the Wireshark troubleshooting tool . If you are still unable to resolve issues or need additional guidance, contact OSIsoft Technical Support through the OSIsoft Customer Portal . Note: Make sure to also check the troubleshooting information specific to your adapter in this user guide. Logs Messages from the System and OmfEgress logs provide information on the status of the adapter. For example, they show if a connection from the adapter to an egress endpoint exists. Perform the following steps to view the System and OmfEgress logs: Navigate to the logs directory: Windows: %ProgramData%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Logs Linux: /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e/Logs  usr share OSIsoft Adapters \u003cAdapterName\u003e Logs . Example: A successful connection to a PI Web API egress endpoint displays the following message in the OmfEgress log: 2020-11-02 11:08:51.870 -06:00 [Information] Data will be sent to the following OMF endpoint: Id: \u003comfegress id\u003e Endpoint: \u003cpi web api URL\u003e (note: the pi web api default port is 443) ValidateEndpointCertificate: \u003ctrue or false\u003e Optional: Change the log level of the adapter to receive more information and context. For more information, see Logging configuration . ASP .NET Core platform The ASP .NET Core platform log provides information from the Kestrel web server that hosts the application. The log will only be present in case EDS encounters heartbeat failures or if the adapter throughput is too high. Perform the following steps to spread the load among multiple adapters: Decrease the scan frequency. Lower the amount of data selection items. \u003c!--## PI Web API and OCS user documentation PI Web API and OCS user documentation provides troubleshooting information for \u003cplaceholder\u003e --\u003e Wireshark Wireshark is a protocol-specific troubleshooting tool that supports all current adapter protocols. Perform the following steps if you want to use Wireshark to capture traffic from the data source to the adapter or from the adapter to the OMF destination. Download Wireshark . Familiarize yourself with the tool and read the Wireshark user guide . Health and diagnostics egress to PI Web API The adapter sends health and diagnostics data to PI Web API; in some cases, conflicts may occur that are due to changes or perceived changes in PI Web API. For example, a 409 - Conflict error message displays if you upgrade your adapter version and the PI points do not match in the upgraded version. However, data is continued to be sent as long as containers are created, so buffering only starts if no containers are created. To resolve the conflict, perform the following steps: Stop the adapter. Delete the Health folder inside of the Buffers folder. Stop PI Web API. Delete the relevant adapter created AF structure. Delete the associated health and diagnostics PI points on any or all PI Data Archives created by PI Web API. Start PI Web API. Start the adapter. Adapter connection to egress endpoint Certain egress health information in both PI Web API and OCS show if an adapter connection to an egress endpoint exists. To verify an active connection, perform one of the following procedures: PI Web API connection Perform the following steps to determine if a connection to the PI Web API endpoint exists: Open PI Web API. Select the OmfEgress component of your adapter, for example GVAdapterUbuntu.OpcUa.OmfEgress . Make sure that the following PI points have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate OCS connection Perform the following steps to determine if a connection to the OCS endpoint exists: Open OCS. Click Sequential Data Store \u003e Streams . Makes sure that the following streams have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate TCP connection Perform the following steps to see all established TCP sessions in Linux: Open a terminal. Type the following command: ss -o state established -t -p Press Enter."
                                                                     },
    "V1.2/Main/V1.4/Administration/administration.html":  {
                                                              "href":  "V1.2/Main/V1.4/Administration/administration.html",
                                                              "title":  "Administration",
                                                              "keywords":  "Administration With the PI adapter administration level functions, you can start and stop an adapter service and the individual adapter ingress components. You can also retrieve product version information and delete an adapter. The examples in the administration topics use curl , a commonly available tool on both Windows and Linux. You can use the same operations with any programming language or tool that supports making REST calls. You can also configure PI adapters with the EdgeCmd utility. For more information, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . To validate successful configurations, you can accomplish data retrieval steps ( GET commands) using a browser, if available on your device. For more information on PI adapter configuration tools, see Configuration tools ."
                                                          },
    "V1.2/Main/V1.4/Administration/delete-an-adapter-component.html":  {
                                                                           "href":  "V1.2/Main/V1.4/Administration/delete-an-adapter-component.html",
                                                                           "title":  "Delete an adapter component",
                                                                           "keywords":  "Delete an adapter component When you remove an adapter component, the configuration and log files are saved into a sub-directory in case they are needed later. Any associated types, streams, and data remain on the respective endpoints. Complete the following steps to delete an adapter component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e Note: You must make an empty DELETE command against the Id of the component you want to delete. 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Delete OpcUa1 adapter component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1\" \"http:  localhost:5590 api v1 configuration system components OpcUa1\" File relocation All configuration and log files are renamed and moved. The files are renamed according to the timestamp of removal, for example, FileName.json_removed_yyyy-MM-dd--hh-mm-ss . Configuration files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Configuration\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Configuration/Removed  usr share OSIsoft Adapters AdapterName Configuration Removed Log files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Logs\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Logs/Removed  usr share OSIsoft Adapters AdapterName Logs Removed In the following example, one Modbus adapter service is installed on a particular Windows node with the name ModbusService1 . A Modbus component with the name ModbusDeviceX was added and configured to this Modbus adapter and later removed. Linux follows a similar behavior. This is the resulting relocation and renaming scheme after deletion: Note: This is an example; it does not necessarily represent the adapter that you are currently using. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components/ api v1 configuration system components  ComponentId DELETE Deletes specified component Note: Replace ComponentId with the Id of the component that you want to delete."
                                                                       },
    "V1.2/Main/V1.4/Administration/retrieve-product-version-information.html":  {
                                                                                    "href":  "V1.2/Main/V1.4/Administration/retrieve-product-version-information.html",
                                                                                    "title":  "Retrieve product version information",
                                                                                    "keywords":  "Retrieve product version information The product version information includes the application version, the version of the underlying .NET Core framework, and the operating system that the adapter is running on. Complete the following steps to retrieve the product version information of a PI adapter: Use any of the Configuration tools capable of making HTTP requests. Run a GET command to the following endpoint: http://localhost:5590/api/v1/Diagnostics/ProductInformation http:  localhost:5590 api v1 Diagnostics ProductInformation Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Get product information for adapter hosted on port 5590 curl -X GET \"http://localhost:5590/api/v1/Diagnostics/ProductInformation \"http:  localhost:5590 api v1 Diagnostics ProductInformation Example result: { \"Application Version\":\"1.2.0.37\", \".Net Core Version\":\".NET Core 3.1.5\", \"Operating System\":\"Linux 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020\" }"
                                                                                },
    "V1.2/Main/V1.4/Administration/start-and-stop-an-adapter.html":  {
                                                                         "href":  "V1.2/Main/V1.4/Administration/start-and-stop-an-adapter.html",
                                                                         "title":  "Start and stop an adapter",
                                                                         "keywords":  "Start and stop an adapter Complete the procedure appropriate for your operating system to start or stop an adapter service: Windows Open Windows services. Select PI Adapter for AdapterName , for example, PI Adapter for Modbus. Note: This is an example; it does not necessarily represent the adapter that you are currently using. Depending on whether your adapter is running or not, click either Start or Stop . Linux Open command line. Depending on whether your adapter is running or not, type one of the following commands: Example: Start PI Adapter for OPC UA sudo systemctl start pi.adapter.opcua Example: Stop PI Adapter for Modbus TCP sudo systemctl stop pi.adapter.modbus Note: These commands are examples; they do not necessarily represent the adapter that you are currently using. Press Enter."
                                                                     },
    "V1.2/Main/V1.4/Administration/start-and-stop-ingress-component.html":  {
                                                                                "href":  "V1.2/Main/V1.4/Administration/start-and-stop-ingress-component.html",
                                                                                "title":  "Start and stop ingress component",
                                                                                "keywords":  "Start and stop ingress component To control data ingress, you can start and stop the ingress components of an adapter whenever necessary. By default, all currently configured ingress components are started. Start an ingress component Complete the following steps to start an individual ingress component: Use any of the Configuration tools capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to start: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Start http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Start Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Start the OpcUa1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/OpcUa1/Start\" \"http:  localhost:5590 api v1 Administration OpcUa1 Start\" Stop an ingress component Complete the following steps to stop an individual ingress component: Start any configuration tool capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to stop: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Stop http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Stop Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Stop the Modbus1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/Modbus1/Stop\" \"http:  localhost:5590 api v1 Administration Modbus1 Stop\""
                                                                            },
    "V1.2/Main/V1.4/Configuration/buffering-configuration.html":  {
                                                                      "href":  "V1.2/Main/V1.4/Configuration/buffering-configuration.html",
                                                                      "title":  "Buffering configuration",
                                                                      "keywords":  "Buffering configuration You can configure PI adapters to buffer data egressed from the adapter to endpoints. Buffering is configured through the buffering configuration parameters in the system configuration. Note: OSIsoft recommends that you do not modify the default buffering location unless it is necessary. Changes to the buffering configuration parameters only take effect during adapter service startup. Configure buffering Using any text editor, create a file that contains the buffering configuration in the JSON format. For content structure, see the sample output in Examples - Retrieve the buffering configuration . For a table of all available parameters, see Buffering parameters . Save the file. For example, ConfigureBuffering.json . Use any of the Configuration tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/buffering http:  localhost:5590 api v1 configuration system buffering Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureBuffering.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Note: Run this command from the same directory where the file is located. Buffering schema The full schema definition for the system buffering is in the System_Buffering_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Buffering parameters The following parameters are available for configuring buffering: Parameter Required Type Description EnablePersistentBuffering Optional boolean Enables or disables on-disk buffering Allowed value: true or false Default value: true Note: If you disable persistent buffering, in-memory buffering is used. In-memory buffering is limited by value in the MaxBufferSizeMB property. MaxBufferSizeMB Optional integer Defines the maximum size of the buffer files that are persisted on disk or used in memory when EnablePersistentBuffering is set to false per configured endpoint. The unit is specified in MB (1 Megabyte = 1048576 bytes). Consider the capacity and the type of storage medium to determine a suitable value for this parameter. Minimum value: 1 Maximum value: 2147483647 Default value: 1024 BufferLocation Required string Defines the location of the buffer files. Absolute paths are required. Consider the access-control list (ACL) when you set this parameter. Allowed value: Valid path to a folder location in the file system Default value: Windows: %ProgramData%\\OSIsoft\\Adapters\\{AdapterInstance}\\Buffers Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Buffers  usr share OSIsoft Adapters {AdapterInstance} Buffers Examples The following examples are buffering configurations made through the curl REST client. Retrieve the buffering configuration curl -X GET \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Sample output: { \"bufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/Modbus/Buffers\", \"C: ProgramData OSIsoft Adapters Modbus Buffers\", \"maxBufferSizeMB\": 1024, \"enablePersistentBuffering\": true } 200 OK response indicates success. Update MaxBufferSizeMb parameter curl -d \"{ \\\"MaxBufferSizeMB\\\": 100 }\" -H \"Content-Type: application/json\" application json\" -X PATCH \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" 204 No Content response indicates success. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/buffering api v1 configuration system buffering GET Gets the buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PUT Replaces the existing buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PATCH Update parameter, partial configuration"
                                                                  },
    "V1.2/Main/V1.4/Configuration/configuration-tools.html":  {
                                                                  "href":  "V1.2/Main/V1.4/Configuration/configuration-tools.html",
                                                                  "title":  "Configuration tools",
                                                                  "keywords":  "Configuration tools You can configure PI adapters with the EdgeCmd utility, OSIsoft\u0027s proprietary tool for configuring adapters, or a commonly-used REST tool. EdgeCmd utility The EdgeCmd utility enables adapter configuration on both Linux and Windows operating systems. For more information on using the EdgeCmd utility, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . REST tools The following tools are available to make REST calls: curl curl is a command line tool used to make HTTP calls and is supported on both Windows and Linux operating systems. You can script curl with Bash or PowerShell on Linux or Windows and you can use it to perform adapter administrative and programming tasks. curl commands are used in configuration and management examples throughout this document. For more information, see curl (https://curl.haxx.se/) (https:  curl.haxx.se ) . Postman Postman is a REST tool for systems with GUI components. PI adapters are supported on platforms without GUIs. Postman is particularly useful for learning more about PI Adapter REST APIs. For more information, see Postman (https://www.postman.com/) (https:  www.postman.com ) ."
                                                              },
    "V1.2/Main/V1.4/Configuration/configure-a-network-proxy.html":  {
                                                                        "href":  "V1.2/Main/V1.4/Configuration/configure-a-network-proxy.html",
                                                                        "title":  "Configure a network proxy",
                                                                        "keywords":  "Configure a network proxy Some network architectures may need a network proxy between the PI adapter and the egress endpoint. The process for configuring the adapter to egress data through a network proxy varies depending on the proxy type. HTTPS forward proxy For the adapter to use an HTTPS forward proxy while egressing, configure the https_proxy environment variable. The value of this environment variable must contain the URL of the proxy server, beginning with http . The format of the string is [user[:password]@]http://hostname[:port] [user[:password]@]http:  hostname[:port] . HTTPS proxy environment variable Parameter Required Description user Optional The user name for the HTTPS forward proxy. password Optional The password for the HTTPS forward proxy specified user name. If you specify user , password remains optional. port Optional If you do not specify port , the default 80 is used. Note: Usage of the https_proxy environment variable may affect other .NET or .NET Core applications. If you set this environment variable, it will affect the adapter egress endpoints and the adapter health endpoints. Example: myUser@http://192.168.2.2 myUser@http:  192.168.2.2 myUser:myPassword@http://proxymachine.domain:3128 myUser:myPassword@http:  proxymachine.domain:3128 http://proxymachine.domain http:  proxymachine.domain In Windows, this may look something like: For more information on how to configure system environment variables, refer to your platform specific documentation: Windows: setx Ubuntu: EnvironmentVariables Debian: EnvironmentVariables Docker: Environment variables in Compose Example of an architecture with an https forward proxy: Reverse proxy For the adapter to use a reverse proxy while egressing, you must configure the reverse proxy as an egress endpoint. Example: [{ \"Id\": \"PI Web API Through Proxy\", \"Endpoint\": \"https://\u003creverseProxy\u003e:\u003cport\u003e/piwebapi/omf/\", \"https:  \u003creverseProxy\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cpiWebApiUser\u003e\", \"Password\": \"\u003cpiWebApiPassword\u003e\" }] Example of an architecture with a reverse proxy:"
                                                                    },
    "V1.2/Main/V1.4/Configuration/data-filters-configuration.html":  {
                                                                         "href":  "V1.2/Main/V1.4/Configuration/data-filters-configuration.html",
                                                                         "title":  "Data filters configuration",
                                                                         "keywords":  "Data filters configuration PI adapters can be configured to perform data filtering to save network bandwidth. Every data item in the data selection configuration can be assigned the ID of a data filter. The adapter will then filter data for those data items based on the data filter configuration. Configure data filters Complete the following steps to change the data filters configuration: Using any text editor, create a file that contains the data filters configuration in the JSON format. For content structure, see Data filters example . For all available parameters, see Data filters parameters . Save the file, for example, as ConfigureDataFilters.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter, for example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureDataFilters.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters\" Note: Run this command from the same directory where the file is located. On successful execution, the change that you have made to data filters takes effect immediately during runtime. Data filters schema The full schema definition for the data filters configuration is in the AdapterName_DataFilters_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Data filters parameters The following parameters are available for configuring data filters: Parameter Required Type Description Id Required string Unique identifier for the data filter. Allowed value: any string identifier AbsoluteDeadband Optional double Specifies the absolute change in data value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing absolute deadband number Default value: null PercentChange Optional double Specifies the percent change from previous value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing percent change Default value: null ExpirationPeriod Optional timespan The length in time that can elapse after an event before automatically storing the next event. The expected format is HH:MM:SS.###. * Allowed value: any timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"ExpirationPeriod\": 25 specifies 25 seconds, or \"ExpirationPeriod\": 125 specifies 2 minutes and 5 seconds. Data filters example [ { \"Id\": \"DuplicateData\", \"AbsoluteDeadband\": 0, \"PercentChange\": null, \"ExpirationPeriod\": \"01:00:00\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters GET Gets all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters DELETE Deletes all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters POST Adds an array of data filters or a single data filter. Fails if any data filter already exists. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PUT Replaces all data. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PATCH Allows partial updating of configured data filter. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id GET Gets configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id DELETE Deletes configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id PUT Replaces data filter by id . Fails if data filter does not exist. Note: Replace ComponentId with the Id of your adapter component, for example, Modbus1."
                                                                     },
    "V1.2/Main/V1.4/Configuration/discovery-configuration.html":  {
                                                                      "href":  "V1.2/Main/V1.4/Configuration/discovery-configuration.html",
                                                                      "title":  "Discovery configuration",
                                                                      "keywords":  "Discovery configuration You can perform a data discovery for existing data pieces on demand. Data discovery is initiated through REST calls and it is tied to a specific discovery Id, which you can either specify or let the adapter generate it. Data discovery includes different routes. For example, you can choose to do the following: Retrieve the discovery results Query the discovery status Cancel or delete discoveries Merge discovery results with the data selection item Retrieve results from a current discovery and compare it with results from a previous or discovery Retrieve results from a current discovery and compare it with results from a current data selection configuration Configure discovery Start any of the Configuration tools capable of making HTTP requests. Run a POST command with the Id of the discovery and autoSelect set to either true or false to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Discoveries http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Discoveries . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"Id\\\":\\\"TestDiscovery\\\", \\\"autoSelect\\\":true }\" -X POST \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Discoveries\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Discoveries\" \u003c!--- ## Discovery schema The full schema definition for the general configuration is in the `\u003cAdapterName\u003e_Discovery_schema.json` file located in one of the following folders: Windows: `%ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas` Linux: `/opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas` ` opt OSIsoft Adapters \u003cAdapterName\u003e Schemas` ---\u003e Discovery parameters Parameter Type Description id string The Id of the discovery. Note: You cannot run multiple discoveries with the same Id. query string A filter that is specific to the data source. The query filter can limit the scope of the discovery. For more information, see the Data source configuration topic. startTime datetime Time when the discovery started. endTime datetime Time when the discovery ended. progress double Progress of the discovery. itemsFound integer Number of data pieces that the discovery found on the data source. newItems integer Number of new data pieces that the discovery found in comparison to the previous discovery. newAssets integer Number of new assets that the discovery found in comparison to the previous discovery. resultUri integer URL at which you can access the results of the discovery. autoSelect boolean When set to true , the result of the discovery gets pushed to the data selection. status reference Status of the discovery, for example Active or Complete . errors string Errors encountered during the discovery. Discoveries status example The following example shows the status of all discoveries. The discovery id in this example was auto-generated. Note: This is an example. It does not necessarily reflect the adapter you are currently using. [ { \"id\": \"8ff855f1-a636-490a-bb31-207410a6e607\", \"query\": null, \"startTime\": \"2020-09-30T19:34:01.8180401+02:00\", \"endTime\": \"2020-09-30T19:34:01.8368776+02:00\", \"progress\": 30, \"itemsFound\": 4, \"newItems\": 0, \"newAssets\": 0, \"resultUri\": \"http://127.0.0.1:5590/api/v1/Configuration/OpcUa1/Discoveries/8ff855f1-a636-490a-bb31-207410a6e607/result\", \"http:  127.0.0.1:5590 api v1 Configuration OpcUa1 Discoveries 8ff855f1-a636-490a-bb31-207410a6e607 result\", \"autoSelect\": false, \"status\": \"Complete\", \"errors\": null } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries GET Returns status of all discoveries api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries POST Initiates a new discovery and returns its Id api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries DELETE Cancels and deletes all saved discoveries api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId GET Gets the status of an individual discovery Note: If a discovery with the specified Id does not exist, you will get an error message api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId DELETE Cancels and deletes discovery and result api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result  result GET Returns the result of a discovery api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result?diff=  result?diff= previousId GET Returns the difference between the result and the previous result api/v1/configuration/ api v1 configuration  componentId /dataselection?diff=  dataselection?diff= discoveryId GET Returns the difference between the data selection configuration and the discovery results api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result  result DELETE Cancels and deletes discovery result. Note: The discovery Id is still valid, but a query will contain a status of canceled Only the Status property will contain a canceled status, but not the query api/v1/configuration/ api v1 configuration  componentId /dataselection/select?discoveryid=  dataselection select?discoveryid= discoveryId POST Adds the discovered items to data selection with selected set to true api/v1/configuration/ api v1 configuration  componentId /dataselection/unselect?discoveryid=  dataselection unselect?discoveryid= discoveryId POST Adds the discovered items to data selection with selected set to false Note: Replace componentId with the Id of your adapter component, for example OpcUa1. Replace discoveryId with the Id of the discovery for which you want to perform the action."
                                                                  },
    "V1.2/Main/V1.4/Configuration/egress-endpoint-configuration/configure-a-network-proxy.html":  {
                                                                                                      "href":  "V1.2/Main/V1.4/Configuration/egress-endpoint-configuration/configure-a-network-proxy.html",
                                                                                                      "title":  "Configure a network proxy",
                                                                                                      "keywords":  "Configure a network proxy Some network architectures may need a network proxy between the PI adapter and the egress endpoint. The process for configuring the adapter to egress data through a network proxy varies depending on the proxy type. HTTPS forward proxy For the adapter to use an HTTPS forward proxy while egressing, configure the https_proxy environment variable. The value of this environment variable must contain the URL of the proxy server, beginning with http . The format of the string is [user[:password]@]http://hostname[:port] [user[:password]@]http:  hostname[:port] . HTTPS proxy environment variable Parameter Required Description user Optional The user name for the HTTPS forward proxy. password Optional The password for the HTTPS forward proxy specified user name. If you specify user , password remains optional. port Optional If you do not specify port , the default 80 is used. Note: Usage of the https_proxy environment variable may affect other .NET or .NET Core applications. If you set this environment variable, it will affect the adapter egress endpoints and the adapter health endpoints. Example: myUser@http://192.168.2.2 myUser@http:  192.168.2.2 myUser:myPassword@http://proxymachine.domain:3128 myUser:myPassword@http:  proxymachine.domain:3128 http://proxymachine.domain http:  proxymachine.domain In Windows, this may look something like: For more information on how to configure system environment variables, refer to your platform specific documentation: Windows: setx Ubuntu: EnvironmentVariables Debian: EnvironmentVariables Docker: Environment variables in Compose Example of an architecture with an https forward proxy: Reverse proxy For the adapter to use a reverse proxy while egressing, you must configure the reverse proxy as an egress endpoint. Example: [{ \"Id\": \"PI Web API Through Proxy\", \"Endpoint\": \"https://\u003creverseProxy\u003e:\u003cport\u003e/piwebapi/omf/\", \"https:  \u003creverseProxy\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cpiWebApiUser\u003e\", \"Password\": \"\u003cpiWebApiPassword\u003e\" }] Example of an architecture with a reverse proxy:"
                                                                                                  },
    "V1.2/Main/V1.4/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html":  {
                                                                                                        "href":  "V1.2/Main/V1.4/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html",
                                                                                                        "title":  "Prepare egress destinations",
                                                                                                        "keywords":  "Prepare egress destinations OCS and PI Server destinations may require additional configuration to receive OMF messages. OCS To prepare OCS to receive OMF messages from the adapter, create an OMF connection in OCS. Creating an OMF connection results in an available OMF endpoint that can be used by the adapter egress mechanism. Complete the following steps to create an OMF connection: Create a Client . The Client Id and Client Secret will be used for the corresponding properties in the egress configuration. Create an OMF type Connection . The connection should link the created client to an existing namespace where the data will be stored. The OMF Endpoint URL for the connection will be used as the egress configuration Endpoint property. PI Server To prepare a PI Server to receive OMF messages from the adapter, a PI Web API OMF endpoint must be available. Complete the following steps: Install PI Web API and enable the OSIsoft Message Format (OMF) Services feature. During configuration, choose an AF database and PI Data Archive where metadata and data will be stored. The account used in an egress configuration needs permissions to create AF elements, element templates, and PI points. Configure PI Web API to use Basic authentication. For complete steps, as well as best practices and recommendations, see the PI Web API User Guide on Live Library. Note: The certificate used by PI Web API must be trusted by the device running the adapter, otherwise the egress configuration ValidateEndpointCertificate property needs to be set to false (this can be the case with a self-signed certificate but should only be used for testing purposes). Note: To continue to send OMF egress messages to the PI Web API endpoint after upgrading PI Web API, restart the adapter service."
                                                                                                    },
    "V1.2/Main/V1.4/Configuration/egress-endpoints-configuration.html":  {
                                                                             "href":  "V1.2/Main/V1.4/Configuration/egress-endpoints-configuration.html",
                                                                             "title":  "Egress endpoints configuration",
                                                                             "keywords":  "Egress endpoints configuration PI adapters collect time series data, which they can send to a permanent data store (endpoint). This operation is called data egress. The following endpoints are available for data egress: OSIsoft Cloud Services (OCS) PI servers through PI Web API Edge Data Store (EDS) For long term storage and analysis, you can configure any adapter to send time series data to one or several of these endpoints in any combination. An egress endpoint is comprised of the properties specified under Egress endpoint parameters . Data egress to a PI server creates a PI point in the PI adapter configuration. Data egress to OCS or EDS creates a stream in the PI adapter configuration. Note: Egress to EDS requires the adapter to be on the same server as EDS. The name of the PI point or OCS or EDS stream is a combination of the StreamIdPrefix specified in the adapter data source configuration and the StreamId specified in the adapter data selection configuration. Configure egress endpoints Note: You cannot add egress configurations manually because some parameters are encrypted when stored to disk. You must use the REST endpoints to add or edit egress configuration. For additional endpoint configurations, see REST URLs . Complete the following steps to configure egress endpoints: Using any text editor, create a file that contains one or more egress endpoints in the JSON format. For content structure, see Examples . For a table of all available parameters, see Egress endpoint parameters . Save the file. For example, ConfigureEgressEndpoints.json . Use any of the Configuration tools capable of making HTTP requests and run the appropriate command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/ http:  localhost:5590 api v1 configuration OmfEgress dataendpoints  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Examples using curl : Note: Run the commands from the same directory where the file is located. Add endpoints Note: Run either the POST or the PUT command. For more information, see REST URLs . curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints\" curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Delete an endpoint curl -X DELETE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Update an endpoint curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X UPDATE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" View endpoints curl -X GET \"http://localhost:5590/api/v1/configuration/OmfEgress/DataEndpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress DataEndpoints\" Egress endpoint configuration schema The full schema definition for the egress endpoint configuration is in the OmfEgress_DataEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Egress endpoint parameters The following parameters are available for configuring egress endpoints: Parameter Required Type Description Id Optional string Unique identifier Allowed value: any string identifier Default value: new GUID Endpoint Required string Destination that accepts OMF v1.2 messages. Supported destinations include OCS, PI Server, and EDS. Allowed value: well-formed http or https endpoint string Default: null Username Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null Note: If your username contains a backslash, you must add an escape character, for example, type OilCompany\\TestUser as OilCompany\\\\TestUser . EDS: Allowed value: any string, can be null if the endpoint URL schema is HTTP Password Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, can be null if the endpoint URL schema is HTTP ClientId Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string, can be null if the endpoint URL schema is HTTP Default: null ClientSecret Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string, can be null if the endpoint URL schema is HTTP Default: null TokenEndpoint Optional for OCS endpoint string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination certificate. Note: Only use for testing with self-signed certificates. Allowed value: true or false Default value: true Note: If the URL schema for the egress endpoint is HTTP, which is typical for EDS, then you do not need to specify credentials. Examples The following examples are valid egress configurations: Egress data to OCS [{ \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" }] Egress data to PI Web API [{ \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" }] Egress data to EDS [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints GET Gets all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints DELETE Deletes all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints POST Adds an array of egress endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PUT Replaces all egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PATCH Allows partial updating of configured endpoints. Note: The request must be an array containing one or more endpoints. Each endpoint in the array must include its Id . api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} GET Gets configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} DELETE Deletes configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PUT Updates or creates a new endpoint with the specified Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PATCH Allows partial updating of configured endpoint by Id Egress execution details After configuring an egress endpoint, egress is immediately run for that endpoint. Egress is handled individually per configured endpoint. When data is egressed for the first time, types and containers are egressed to the configured endpoint. After that only new or changed types or containers are egressed. Type creation must be successful in order to create containers. Container creation must be successful in order to egress data. If you delete an egress endpoint, data flow immediately stops for that endpoint. Buffered data in a deleted endpoint is permanently lost. Type, container, and data items are batched into one or more OMF messages when egressing. As per the requirements defined in OMF, a single message payload will not exceed 192KB in size. Compression is automatically applied to outbound egress messages. On the egress destination, failure to add a single item results in the message failing. Types, containers, and data are egressed as long as the destination continues to respond to HTTP requests."
                                                                         },
    "V1.2/Main/V1.4/Configuration/general-configuration.html":  {
                                                                    "href":  "V1.2/Main/V1.4/Configuration/general-configuration.html",
                                                                    "title":  "General configuration",
                                                                    "keywords":  "General configuration You can configure PI adapters to produce and store diagnostics data at a designated health endpoint, and to send metadata for created streams. For more information about available diagnostics data, see Adapter diagnostics and Egress diagnostics . For more information about available metadata and what metadata are sent per metadata level, see Adapter Metadata . Configure general Start any of the Configuration tools capable of making HTTP requests. Run a PUT command to the following endpoint, setting enableDiagnostics to either true or false and MetadataLevel to None , Low , Medium , or High : http://localhost:5590/api/v1/configuration/system/general http:  localhost:5590 api v1 configuration system general Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"enableDiagnostics\\\":true, \\\"enableMetadata\\\":false }\" -X PUT \"http://localhost:5590/api/v1/configuration/system/general\" \"http:  localhost:5590 api v1 configuration system general\" General schema The full schema definition for the general configuration is in the System_General_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas General parameters The following parameters are available for configuring general: Parameter Required Type Description EnableDiagnostics Optional boolean Determines if diagnostics are enabled Allowed value: true or false Default value: true MetadataLevel Optional reference Defines amount of metadata sent to OMF endpoints. Allowed value: None , Low , Medium , and High Default value: Medium Example Retrieve the general configuration Example using curl : curl -X GET \"http://localhost:{port}/api/v1/configuration/system/general\" \"http:  localhost:{port} api v1 configuration system general\" Sample output: { \"EnableDiagnostics\": true, \"MetadataLevel\": \"Medium\" } REST URLs Relative URL HTTP verb Action api/v1/configuration/system/General api v1 configuration system General GET Gets the general configuration api/v1/configuration/system/General api v1 configuration system General PUT Replaces the existing general configuration api/v1/configuration/system/General api v1 configuration system General PATCH Allows partial updating of general configuration"
                                                                },
    "V1.2/Main/V1.4/Configuration/health-endpoint-configuration.html":  {
                                                                            "href":  "V1.2/Main/V1.4/Configuration/health-endpoint-configuration.html",
                                                                            "title":  "Health endpoint configuration",
                                                                            "keywords":  "Health endpoint configuration You can configure PI adapters to produce and store health data at a designated health endpoint. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information about adapter health, see Adapter health . Configure health endpoint A health endpoint designates an OMF endpoint where adapter health information is sent. You can configure multiple health endpoints. Use any text editor to create a file that contains one or more health endpoints in the JSON format. For content structure, see Examples . For a table of all available health endpoint parameters, see Health endpoint parameters . Save the file. For example, ConfigureHealthEndpoints.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints http:  localhost:5590 api v1 configuration system healthendpoints Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/healthendpoints\" \"http:  localhost:5590 api v1 configuration system healthendpoints\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints/{Id} http:  localhost:5590 api v1 configuration system healthendpoints {Id} Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/healthendpoints/OCS\" \"http:  localhost:5590 api v1 configuration system healthendpoints OCS\" Health endpoints schema The full schema definition for the health endpoint configuration is in the System_HealthEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Health endpoint parameters The following parameters are available for configuring health endpoints: Parameter Required Type Description Id Optional string Uniquely identifies the endpoint. This can be any alphanumeric string. If left blank, a unique value is generated automatically. Allowed value: any string identifier Default value: new GUID Endpoint Required string The URL of the OMF endpoint to receive this health data Allowed value: well-formed http or https endpoint string Default: null Username Required for PI Web API and EDS endpoints string The username used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null Password Required for PI Web API endpoints string The password used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null ClientId Required for OCS endpoints string The client ID used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null ClientSecret Required for OCS endpoints string The client secret used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null TokenEndpoint Optional for OCS endpoints string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination security certificate. Use for testing only with self-signed certificates; OSIsoft recommends keeping this set to the default, true, in production environments. Allowed value: true or false Default value: true Examples OCS endpoint { \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" } PI Web API endpoint { \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" } EDS endpoint [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints GET Gets all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints DELETE Deletes all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints POST Adds an array of health endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PUT Replaces all health endpoints. Note: Requires an array of endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PATCH Allows partial updating of configured health endpoints Note: The request must be an array containing one or more health endpoints. Each health endpoint in the array must include its Id . api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id GET Gets configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id DELETE Deletes configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PUT Updates or creates a new health endpoint with the specified Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PATCH Allows partial updating of configured health endpoint by Id Note: Replace Id with the Id of the health endpoint."
                                                                        },
    "V1.2/Main/V1.4/Configuration/logging-configuration.html":  {
                                                                    "href":  "V1.2/Main/V1.4/Configuration/logging-configuration.html",
                                                                    "title":  "Logging configuration",
                                                                    "keywords":  "Logging configuration PI adapters write daily log messages for the adapter, the system, and OMF egress to flat text files in the following locations: ??? Windows: %ProgramData%\\OSIsoft\\Adapters{AdapterInstance}\\Logs ??? Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Logs  usr share OSIsoft Adapters {AdapterInstance} Logs Each message in the log displays the message severity level, timestamp, and the message itself. Configure logging Complete the following steps to change the logging configuration: Using any text editor, create a file that contains the logging configuration in the JSON format. For content structure, see Example . For all available parameters, see Logging parameters . Save the file. For example, ConfigureLogging.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, OpcUa1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureLogging.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging\" On successful execution, the log-level change takes effect immediately during runtime. The other configurations (log file size and file count) are updated after the adapter is restarted. Note: Any parameter not specified in the updated configuration file reverts to the default schema value. Logging schema The full schema definition for the logging configuration is in the component specific logging file: AdapterName_Logging_schema.json , OmfEgress_Logging_schema.json , or System_Logging_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Logging parameters The following parameters are available for configuring logging: Parameter Required Type Description LogLevel Optional reference The logLevel sets the minimum severity for messages to be included in the logs. Messages with a severity below the level set are not included. The log levels in their increasing order of severity are as follows: Trace , Debug , Information , Warning , Error , Critical , and None . Default log level: Information For detailed information about the log levels, see LogLevel . LogFileSizeLimitBytes Optional integer The maximum size (in bytes) of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1000 Maximum value: 9223372036854775807 Default value: 34636833 LogFileCountLimit Optional integer The maximum number of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1 Maximum value: 2147483647 Default value: 31 LogLevel Level Description Trace Logs that contain the most detailed messages. These messages may contain sensitive application data like actual received values, which is why these messages should not be enabled in production environment. Note: Trace is translated to Verbose in the log file. Debug Logs that can be used to troubleshoot data flow issues by recording metrics and detailed flow related information. Information Logs that track the general flow of the application. Any non-repetitive general information like the following can be useful for diagnosing potential application errors: - Version information related to the software at startup - External services used - Data source connection string - Number of measurements - Egress URL - Change of state ???Starting??? or ???Stopping??? - Configuration Warning Logs that highlight an abnormal or unexpected event in the application flow that does not otherwise cause the application execution to stop. Warning messages can indicate an unconfigured data source state, that a communication with backup failover instance has been lost, an insecure communication channel in use, or any other event that could require attention but that does not impact data flow. Error Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity and not an application-wide failure. It can indicate an invalid configuration, unavailable external endpoint, internal flow error, and so on. Critical Logs that describe an unrecoverable application or system crash or a catastrophic failure that requires immediate attention. This can indicate application wide failures like beta timeout expired, unable to start self-hosted endpoint, unable to access vital resource (for example, Data Protection key file), and so on. Note: Critical is translated to Fatal in the log file. None Logging is disabled for the given component. Example Default logging configuration By default, logging captures Information, Warning, Error, and Critical messages in the message logs. The following logging configuration is the installation default for a component: { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 } REST URLs Relative URL HTTP verb Action api/v1/configuration/System/Logging api v1 configuration System Logging GET Retrieves the system logging configuration api/v1/configuration/System/Logging api v1 configuration System Logging PUT Updates the system logging configuration api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging GET Retrieves the logging configuration of the specified adapter component api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging PUT Updates the logging configuration of the specified adapter component Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1 or OpcUa1."
                                                                },
    "V1.2/Main/V1.4/Configuration/schedules-configuration.html":  {
                                                                      "href":  "V1.2/Main/V1.4/Configuration/schedules-configuration.html",
                                                                      "title":  "Schedules configuration",
                                                                      "keywords":  "Schedules configuration You can configure PI adapters to run scans based on a schedule. If the adapter supports schedules, each data item in the data selection configuration can be assigned a schedule. The adapter will then sample data for those data items at the scheduled time. Note: If the adapter supports scheduling and you start an ingress component without a schedules configuration, a default schedules configuration will be added to be used as an example. Note: When the adapter framework scheduler misses or skips a scan due to any reason, either one of the following messages is printed: Scan skipped for schedule id \u003cId\u003e or Scan missed for schedule \u003cid\u003e . Configure schedules Complete the following steps to change the schedules configuration: Using any text editor, create a file that contains the schedules configuration in the JSON format. For content structure, see Example . For all available parameters, see Schedules parameters . Save the file. For example, ConfigureSchedules.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSchedules.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules\" On successful execution, the schedules change takes effect immediately during runtime. Schedules schema The full schema definition for the schedules configuration is in the AdapterName_Schedules_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Schedules parameters The following parameters are available for configuring schedules: Parameter Required Type Description Id Required string Unique identifier for the schedule Allowed value: any string identifier Period Required string The data sampling rate of the schedule. The expected format is HH:MM:SS.###. * Invalid input: null , negative timespan, zero Default value: null (must be specified) Offset Optional string The offset from the midnight when the schedule starts. The expected format is HH:MM:SS.### * Invalid input: negative timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"Period\": 25 specifies 25 seconds, or \"Period\": 125 specifies 2 minutes and 5 seconds. Example [ { \"Id\": \"schedule1\", \"Period\": \"00:00:01.500\", \"Offset\": \"00:02:03\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules GET Gets all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules DELETE Deletes all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules POST Adds an array of schedules or a single schedule. Fails if any schedule already exists api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules PUT Replaces all schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id GET Gets configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id DELETE Deletes configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PUT Replaces schedule by id . Fails if schedule does not exist api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PATCH Allows partial updating of configured schedule by id Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1."
                                                                  },
    "V1.2/Main/V1.4/Configuration/system-and-adapter-configuration.html":  {
                                                                               "href":  "V1.2/Main/V1.4/Configuration/system-and-adapter-configuration.html",
                                                                               "title":  "System and adapter configuration",
                                                                               "keywords":  "System and adapter configuration You can configure the system component and adapter component together using a single file. Change system and adapter configuration Change the system and adapter configuration by importing the JSON file using a REST client: Using any text editor, create a file that contains the System and adapter configuration in the JSON format. For content structure, see Example . Save the file. For example, ConfigureSystemAndAdapter.json . Use any of the Configuration Tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSystemAndAdapter.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration\" \"http:  localhost:5590 api v1 configuration\" Note: In order for some of the adapter specific configurations to take effect, you have to restart the adapter. If the operation fails due to errors in the configuration, the count of the error and suitable error messages are returned in the result. Example Note : The following is an example configuration; it does not necessarily represent the configuration of the adapter that you are currently using. The data source and data selection configurations are different for every adapter. Sample OPC UA adapter configuration { \"OpcUa1\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataSource\": { \"EndpointUrl\": \"opc.tcp://OPCUAServerEndpoint/OPCUA/Server\", \"opc.tcp:  OPCUAServerEndpoint OPCUA Server\", \"UseSecureConnection\": false, \"StreamPrefix\": \"OPC_Prefix_\", \"UserName\": null, \"Password\": null, \"RootNodeIds\": null, \"IncomingTimestamp\": \"Source\", \"applyPrefixToStreamId\": true }, \"DataSelection\": [ { \"Selected\": true, \"Name\": \"Sawtooth\", \"NodeId\": \"ns=3;s=Sawtooth\", \"StreamId\": \"SawtoothStream\" } ] }, \"System\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"HealthEndpoints\": [ ], \"Diagnostics\": { \"enableDiagnostics\": true }, \"Components\": [ { \"componentId\": \"Egress\", \"componentType\": \"OmfEgress\" }, { \"componentId\": \"OpcUa1\", \"componentType\": \"OpcUa\" } ], \"Buffering\": { \"BufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/OpcUa/Buffers\", \"C: ProgramData OSIsoft Adapters OpcUa Buffers\", \"MaxBufferSizeMB\": -1, \"EnableBuffering\": true } }, \"OmfEgress\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataEndpoints\": [ { \"id\": \"WebAPI EndPoint\", \"endpoint\": \"https://PIWEBAPIServer/piwebapi/omf\", \"https:  PIWEBAPIServer piwebapi omf\", \"userName\": \"USERNAME\", \"password\": \"PASSWORD\" }, { \"id\": \"OCS Endpoint\", \"endpoint\": \"https://OCSEndpoint/omf\", \"https:  OCSEndpoint omf\", \"clientId\": \"CLIENTID\", \"clientSecret\": \"CLIENTSECRET\" }, { \"Id\": \"EDS\", \"Endpoint\": \"http://localhost: \"http:  localhost: /api/v1/tenants/default/namespaces/default/omf\"  api v1 tenants default namespaces default omf\" \"UserName\": \"eds\", \"Password\": \"eds\" } ] } } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  PUT Replaces the configuration for the entire adapter"
                                                                           },
    "V1.2/Main/V1.4/Configuration/system-components-configuration.html":  {
                                                                              "href":  "V1.2/Main/V1.4/Configuration/system-components-configuration.html",
                                                                              "title":  "System components configuration",
                                                                              "keywords":  "System components configuration PI adapters use JSON configuration files in a protected directory on Windows and Linux to store configuration that is read on startup. While the files are accessible to view, OSIsoft recommends that you use REST or the EdgeCmd utility for any changes you make to the files. As part of making adapters as secure as possible, any passwords or secrets that you configure are stored in encrypted form where cryptographic key material is stored separately in a secure location. If you edit the files directly, the adapter may not work as expected. Note: You can edit any single component or facet of the system individually using REST, but you can also configure the system as a whole with a single REST call. Configure system components The configuration of system components includes adding, updating, and deleting components. Add a system component Complete the following steps to add a new component to the system: Note: The examples in this procedure do not necessarily represent the adapter that your are currently using. Using any text editor, create a file that contains the component to be added to the system in the JSON format. For content structure, see Examples . For a table of all available parameters, see System components parameters . Note: The OmfEgress component is required for this initial release for adapters to run. You can add additional components, but only a single OmfEgress component is supported. The following example adds a Modbus TCP adapter: { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" } Note: A unique ComponentId is necessary for each component in the system. This example uses the ComponentId Modbus1 since it is the first Modbus TCP adapter to be added. Save the file. For example, AddComponent.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003ccomponentId\u003e http:  localhost:5590 api v1 configuration system components \u003ccomponentId\u003e Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components/Modbus1\" \"http:  localhost:5590 api v1 configuration system components Modbus1\" After the curl command completes successfully, you can configure or use the new component. Update system components Complete the following steps to update the components of the system, for example, by adding or deleting one or more adapter components. Using any text editor, create a file that contains the current system components configuration. For information on how to retrieve the system components configuration, see REST URLs . Delete or add components as you need. Note: You cannot delete the OmfEgress component. Save the file. For example, UpdateComponents.json Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@UpdateComponents.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" Delete a system component Complete the following steps to delete a specific existing component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint, replacing \u003cComponentId\u003e with the ID of the component that you want to delete: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e/ http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. Delete OpcUa1 component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1/\" \"http:  localhost:5590 api v1 configuration system components OpcUa1 \" All the logs and configurations files for the deleted components are moved to the corresponding logs/Removed logs Removed or Configuration/Removed Configuration Removed folder. System components schema The full schema definition for the system components configuration is in the System_Components_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\AdapterName\\Schemas Linux: /opt/OSIsoft/Adapters/AdapterName/Schemas  opt OSIsoft Adapters AdapterName Schemas System components parameters You can configure the following parameters for system components: Parameters Required Type Description ComponentId Required string The ID of the component 1 . It can be any alphanumeric string, for example, Modbus1. A properly configured ComponentID follows these rules: Cannot contain leading or trailing space Cannot use the following characters: \u003e \u003c /   : ? # [ ] @ ! $ \u0026 * \\ \" ( ) \\\\ + , ; = \\| ` { } Note: The ComponentId is added to each container message that an adapter component sends to an OMF endpoint. It is displayed as the data source information (point source) in PI Web API. ComponentType Required string The type of the component, for example, Modbus. There are two types of components: OmfEgress and the adapter. 1 1 Note: The OmfEgress component is required to run the adapter. Both its ComponentId and ComponentType are reserved and should not be modified. Examples Default system components configuration The default System_Components.json file for the System component contains the following information. [ { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] System components configuration with two adapter instances Note: This is an example configuration; it does not necessarily include the adapter that you are currently using. [ { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"Modbus2\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components api v1 configuration system components GET Retrieves the system components configuration api/v1/configuration/system/components api v1 configuration system components POST Adds a new component to the system configuration api/v1/configuration/system/components api v1 configuration system components PUT Updates the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId DELETE Deletes a specific component from the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId PUT Creates a new component with the specified componentId in the system configuration"
                                                                          },
    "V1.2/Main/V1.4/Diagnostics/adapter-diagnostics.html":  {
                                                                "href":  "V1.2/Main/V1.4/Diagnostics/adapter-diagnostics.html",
                                                                "title":  "Adapter diagnostics",
                                                                "keywords":  "Adapter diagnostics The adapter and its components produce different kinds of diagnostics data that is sent to all health endpoints. The System_Diagnostics.json file contains a flag that determines whether diagnostics are enabled. You can change this at runtime through REST calls or the EdgeCmd utility. Diagnostics data are collected by default. To egress diagnostics related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available diagnostics data Every minute, dynamic data is sent to configured health endpoints. The following diagnostics data are available: System Stream count IO rate Error rate AF structure After running diagnostics with a health endpoint configured to a PI server, you can use PI System Explorer to view the diagnostics for a given adapter. The element hierarchy is shown in the following image. The Elements root contains a link to an Adapters node. This is the root node for all adapter instances. Below Adapters , you will find one or more adapter nodes. Each node\u0027s title is defined by the node\u0027s corresponding computer name and service name in this format: {ComputerName}.{ServiceName} . For example, in the following image, MachineName is the computer name and OpcUa is the service name. To see the System.Diagnostics values, click on an adapter node and set the tab to Attributes . Example values are shown in the image."
                                                            },
    "V1.2/Main/V1.4/Diagnostics/egress-diagnostics.html":  {
                                                               "href":  "V1.2/Main/V1.4/Diagnostics/egress-diagnostics.html",
                                                               "title":  "Egress diagnostics",
                                                               "keywords":  "Egress diagnostics The Egress component of the adapter produces the following diagnostics stream: IO rate The Diagnostics.Egress.IORate dynamic type includes the following values, which are logged in a stream with the Id {machineName}.{serviceName}.OmfEgress.{EndpointId}.IORate . IORate includes only sequential data successfully sent to an egress endpoint. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                                           },
    "V1.2/Main/V1.4/Diagnostics/error-rate.html":  {
                                                       "href":  "V1.2/Main/V1.4/Diagnostics/error-rate.html",
                                                       "title":  "Error rate",
                                                       "keywords":  "Error rate The Diagnostics.Adapter.ErrorRate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.ErrorRate . Property Type Description timestamp string Timestamp of event ErrorRate double One-minute rolling average of error rate (streams/second) (streams second)"
                                                   },
    "V1.2/Main/V1.4/Diagnostics/io-rate.html":  {
                                                    "href":  "V1.2/Main/V1.4/Diagnostics/io-rate.html",
                                                    "title":  "IO rate",
                                                    "keywords":  "IO rate The Diagnostics.Adapter.IORate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.IORate . IORate includes only sequential data collected from a data source. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                                },
    "V1.2/Main/V1.4/Diagnostics/stream-count.html":  {
                                                         "href":  "V1.2/Main/V1.4/Diagnostics/stream-count.html",
                                                         "title":  "Stream count",
                                                         "keywords":  "Stream count The Diagnostics.StreamCountEvent dynamic type includes the following values, which are logged in a stream with the Id {componentid}.StreamCount . The StreamCount and TypeCount include only types and streams created for sequential data received from a data source. Property Type Description timestamp string Timestamp of event StreamCount int Number of streams created by the adapter instance TypeCount int Number of types created by the adapter instance"
                                                     },
    "V1.2/Main/V1.4/Diagnostics/system.html":  {
                                                   "href":  "V1.2/Main/V1.4/Diagnostics/system.html",
                                                   "title":  "System",
                                                   "keywords":  "System The Diagnostics.System dynamic type includes the following values which are logged in a stream with the Id System.Diagnostics . This diagnostic stream contains system level information related to the host platform that the adapter is running on. Property Type Description timestamp string Timestamp of event ProcessIdentifier int Process Id of the host process StartTime string Time at which the host process started WorkingSet long Amount of physical memory in bytes, allocated for the host process TotalProcessorTime double Total processor time for the host process expressed in seconds TotalUserProcessorTime double User processor time for the host process expressed in seconds TotalPrivilegedProcessorTime double Privileged processor time for the host process expressed in seconds ThreadCount int Number of threads in the host process HandleCount int Number of handles opened by the host process ManagedMemorySize double Number of bytes currently thought to be allocated in managed memory Unit of Measure = megabytes PrivateMemorySize double Amount of paged memory in bytes allocated for the host process Unit of Measure = megabytes PeakPagedMemorySize double Maximum amount of memory in the virtual memory paging file in bytes used by the host process. Unit of Measure = megabytes StorageTotalSize double Total size of the storage medium in use by the system Unit of Measure = megabytes StorageFreeSpace double Free space available Unit of Measure = megabytes Each adapter component produces its own diagnostics streams."
                                               },
    "V1.2/Main/V1.4/Health/adapter-health.html":  {
                                                      "href":  "V1.2/Main/V1.4/Health/adapter-health.html",
                                                      "title":  "Adapter health",
                                                      "keywords":  "Adapter health PI Adapters produce different kinds of health data that can be egressed to different health endpoints. To egress health related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available health data Dynamic data is sent every minute to configured health endpoints. The following health data is available: Device status Next Health Message Expected AF structure With a health endpoint configured to a PI server, you can use PI System Explorer to view the health of a given adapter. The element hierarchy is shown in the following image."
                                                  },
    "V1.2/Main/V1.4/Health/device-status.html":  {
                                                     "href":  "V1.2/Main/V1.4/Health/device-status.html",
                                                     "title":  "Device status",
                                                     "keywords":  "Device status The device status indicates the health of this component and if it is currently communicating properly with the data source. This time-series data is stored within a PI point or OCS stream, depending on the endpoint type. During healthy steady-state operation, a value of Good is expected. Property Type Description Time string Timestamp of the event DeviceStatus string The value of the DeviceStatus The possible statuses are: Status Meaning Good The component is connected to the data source and it is collecting data. ConnectedNoData The component is connected to the data source but it is not receiving data from it. AttemptingFailover The adapter is attempting to fail over. Starting The component is currently in the process of starting up and is not yet connected to the data source. DeviceInError The component encountered an error either while connecting to the data source or attempting to collect data. Shutdown The component is either in the process of shutting down or has finished. Removed The adapter component has been removed and will no longer collect data. NotConfigured The adapter component has been created but is not yet configured."
                                                 },
    "V1.2/Main/V1.4/Health/health-and-diagnostics.html":  {
                                                              "href":  "V1.2/Main/V1.4/Health/health-and-diagnostics.html",
                                                              "title":  "Health and Diagnostics",
                                                              "keywords":  "Health and Diagnostics PI Adapters produce various types of health data. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information on available health data, see Adapter health . PI Adapters also produce diagnostic data. You can use diagnostic data to find more information about a particular adapter instance. Diagnostic data lives alongside the health data and you can egress it using a health endpoint and setting EnableDiagnostics to true . You can configure EnableDiagnostics in the system\u0027s General configuration . For more information on available diagnostics data, see Adapter diagnostics . Health endpoint differences Two OMF endpoints are currently supported for adapter health data: PI Web API OSIsoft Cloud Services There are a few differences in how these two systems treat the associated health and diagnostics data. PI Web API parses the information and sends it to configured PI servers for the OMF endpoint. The static data is used to create a hierarchy on a PI AF server similar to the following example: The dynamic health data is time-series data that is stored in PI points on a PI Data Archive. You can see it in the AF hierarchy as PI point data reference attributes. OSIsoft Cloud Services does not currently provide a way to store the static metadata. For OCS-based adapter health endpoints, only the dynamic data is stored. Each value is its own stream with the timestamp property as the single index."
                                                          },
    "V1.2/Main/V1.4/Health/next-health-message-expected.html":  {
                                                                    "href":  "V1.2/Main/V1.4/Health/next-health-message-expected.html",
                                                                    "title":  "Next health message expected",
                                                                    "keywords":  "Next health message expected This property is similar to a heartbeat. A new value for NextHealthMessageExpected is sent by an individual adapter data component on a periodic basis while it is functioning properly. This value is a timestamp that indicates when the next value should be received. When monitoring, if the next value is not received by the indicated time, this likely means that there is an issue. It could be an issue with the adapter, adapter component, network connection between the health endpoint and the adapter, and so on. Property Type Description Time string Timestamp of the event NextHealthMessageExpected string Timestamp when next value is expected"
                                                                },
    "V1.2/Main/V1.4/Installation/installation.html":  {
                                                          "href":  "V1.2/Main/V1.4/Installation/installation.html",
                                                          "title":  "Installation",
                                                          "keywords":  "Installation Adapters are installed on a local machine using an install kit downloaded from the OSIsoft Customer Portal. For instructions on downloading and installing adapters, see Install the adapter . Alternatively, you can build custom installers or containers for Linux. For more information, see the Docker instructions in the documentation of the respective adapter."
                                                      },
    "V1.2/Main/V1.4/Installation/install-the-adapter.html":  {
                                                                 "href":  "V1.2/Main/V1.4/Installation/install-the-adapter.html",
                                                                 "title":  "Install the adapter",
                                                                 "keywords":  "Install the adapter You can install adapters on either a Windows or Linux operating system. Before installing the adapter, see the respective system requirements to ensure your machine is properly configured to provide optimum adapter operation. Windows Complete the following steps to install a PI adapter on a Windows computer: Download the Windows .msi file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Run the .msi file. Follow the setup wizard. You can change the installation folder or port number during setup. The default port number is 5590 . Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and try the script again. If the installation was successful, a JSON copy of the default system configuration is returned. Linux Complete the following steps to install a PI adapter on a Linux computer: Download the appropriate Linux distribution file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Open a terminal. Run the sudo app install command. Examples : To install the Linux ARM Debian package, run the command sudo apt install ./PI . PI Adapter for OpcUa_{version}-arm_.deb To install the Linux x64 package, run the command sudo apt install ./PI . PI Adapter for Modbus_{version}-x64_.deb Note: The previous file names are examples. They do not necessarily represent the adapter that you are currently using. Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and run the command again. If the installation was successful, a JSON copy of the default system configuration is returned."
                                                             },
    "V1.2/Main/V1.4/Installation/uninstall-the-adapter.html":  {
                                                                   "href":  "V1.2/Main/V1.4/Installation/uninstall-the-adapter.html",
                                                                   "title":  "Uninstall the adapter",
                                                                   "keywords":  "Uninstall the adapter Complete the procedure corresponding to your specific operating system to uninstall the adapter: Windows To delete the PI adapter program files from a Windows device, use the Windows Control Panel uninstall application process. Note: The configuration, data, and log files are not deleted by the uninstall process. Optional: To delete data, configuration, and log files, delete the directory %ProgramData%\\OSIsoft\\Adapters\\AdapterName . This deletes all data processed by the adapter, in addition to the configuration and log files. Linux To delete PI Adapter software from a Linux device, open a terminal window and run the following command: sudo apt remove pi.adapter.\u003cAdapterName\u003e Optional: To delete data, configuration, and log files, run the following command: sudo rm -r /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e  usr share OSIsoft Adapters \u003cAdapterName\u003e This deletes all data processed by the adapter, in addition to the configuration and log files."
                                                               },
    "V1.2/Main/V1.4/Metadata/adapter-metadata.html":  {
                                                          "href":  "V1.2/Main/V1.4/Metadata/adapter-metadata.html",
                                                          "title":  "Adapter metadata",
                                                          "keywords":  "Adapter metadata If the metadataLevel is set to Low or higher in the General configuration , adapter streams created by the ingress components include the following metadata: Datasource: {ComponentId} AdapterType: {ComponentType} ComponentId corresponds to the adapter components\u0027 data source configured in the Components configuration . ComponentType corresponds to the adapter type. For example, Modbus or OpcUa. Metadata for health and diagnostics streams If you configure a health endpoint and enable metadata, they are included in the health streams ( Device status and Next health message expected ) together with ComponentId and ComponentType . If you enable diagnostics in General configuration , metadata are included in the diagnostics streams ( Stream count , IO rate , Error rate ) together with ComponentId and ComponentType . The adapter may also send its own stream metadata not including health and diagnostics streams. For more information about what custom metadata is included in each stream, see the user guide for your adapter. Note: Metadata is only sent for streams created by the ingress components. Currently, the only endpoint that persists sent metadata is OCS (OSIsoft Cloud Services)."
                                                      },
    "V1.2/Main/V1.4/technical-support-and-feedback.html":  {
                                                               "href":  "V1.2/Main/V1.4/technical-support-and-feedback.html",
                                                               "title":  "Technical support and feedback",
                                                               "keywords":  "Technical support and feedback OSIsoft provides several ways to report issues and provide feedback on PI Adapters. Technical support For technical assistance with PI Adapters, contact OSIsoft Technical Support through the OSIsoft Customer Portal . We can help you identify the problem, provide workarounds and address any concerns you may have. Remote access to your facilities may be necessary during the session. Note: You must have an account set up in the OSIsoft Customer Portal before you can open a case. If you do not have a portal account, see How to Get a Login to OSIsoft Customer Portal . Alternatively, call OSIsoft Technical Support at +1 510-297-5828. When you contact OSIsoft Technical Support, be prepared to provide this information: Product name, version, and build numbers Details about your computer platform (CPU type, operating system, and version number) Time that the difficulty started Log files at that time Details of any environment changes prior to the start of the issue Summary of the issue, including any relevant log files during the time the issue occurred \u003c!--To view a brief primer on PI Adapters, see the [PI Adapters playbook](https://customers.osisoft.com/s/knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) playbook](https:  customers.osisoft.com s knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) in the OSIsoft Customer Portal.--\u003e Product feedback To submit product feedback for PI Adapters, visit the PI Adapters feedback page . The product team at OSIsoft regularly monitors the page. Documentation feedback To submit documentation feedback for PI Adapters, send an email to documentation@osisoft.com . Be sure to include the following information with your feedback: Product name and version Documentation topic URL Details of the suggestion or error The technical documentation team at OSIsoft will review and respond to your feedback."
                                                           },
    "V1.2/Main/V1.4/Troubleshooting/troubleshoot-the-adapter.html":  {
                                                                         "href":  "V1.2/Main/V1.4/Troubleshooting/troubleshoot-the-adapter.html",
                                                                         "title":  "Troubleshoot the adapter",
                                                                         "keywords":  "Troubleshoot the adapter PI adapters provide features for troubleshooting issues related to connectivity, data flow, and configuration. Resources include adapter logs and the Wireshark troubleshooting tool . If you are still unable to resolve issues or need additional guidance, contact OSIsoft Technical Support through the OSIsoft Customer Portal . Note: Make sure to also check the troubleshooting information specific to your adapter in this user guide. Logs Messages from the System and OmfEgress logs provide information on the status of the adapter. For example, they show if a connection from the adapter to an egress endpoint exists. Perform the following steps to view the System and OmfEgress logs: Navigate to the logs directory: Windows: %ProgramData%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Logs Linux: /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e/Logs  usr share OSIsoft Adapters \u003cAdapterName\u003e Logs . Example: A successful connection to a PI Web API egress endpoint displays the following message in the OmfEgress log: 2020-11-02 11:08:51.870 -06:00 [Information] Data will be sent to the following OMF endpoint: Id: \u003comfegress id\u003e Endpoint: \u003cpi web api URL\u003e (note: the pi web api default port is 443) ValidateEndpointCertificate: \u003ctrue or false\u003e Optional: Change the log level of the adapter to receive more information and context. For more information, see Logging configuration . ASP .NET Core platform The ASP .NET Core platform log provides information from the Kestrel web server that hosts the application. The log will only be present in case EDS encounters heartbeat failures or if the adapter throughput is too high. Perform the following steps to spread the load among multiple adapters: Decrease the scan frequency. Lower the amount of data selection items. \u003c!--## PI Web API and OCS user documentation PI Web API and OCS user documentation provides troubleshooting information for \u003cplaceholder\u003e --\u003e Wireshark Wireshark is a protocol-specific troubleshooting tool that supports all current adapter protocols. Perform the following steps if you want to use Wireshark to capture traffic from the data source to the adapter or from the adapter to the OMF destination. Download Wireshark . Familiarize yourself with the tool and read the Wireshark user guide . Health and diagnostics egress to PI Web API The adapter sends health and diagnostics data to PI Web API; in some cases, conflicts may occur that are due to changes or perceived changes in PI Web API. For example, a 409 - Conflict error message displays if you upgrade your adapter version and the PI points do not match in the upgraded version. However, data is continued to be sent as long as containers are created, so buffering only starts if no containers are created. To resolve the conflict, perform the following steps: Stop the adapter. Delete the Health folder inside of the Buffers folder. Stop PI Web API. Delete the relevant adapter created AF structure. Delete the associated health and diagnostics PI points on any or all PI Data Archives created by PI Web API. Start PI Web API. Start the adapter. Adapter connection to egress endpoint Certain egress health information in both PI Web API and OCS show if an adapter connection to an egress endpoint exists. To verify an active connection, perform one of the following procedures: PI Web API connection Perform the following steps to determine if a connection to the PI Web API endpoint exists: Open PI Web API. Select the OmfEgress component of your adapter, for example GVAdapterUbuntu.OpcUa.OmfEgress . Make sure that the following PI points have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate OCS connection Perform the following steps to determine if a connection to the OCS endpoint exists: Open OCS. Click Sequential Data Store \u003e Streams . Makes sure that the following streams have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate TCP connection Perform the following steps to see all established TCP sessions in Linux: Open a terminal. Type the following command: ss -o state established -t -p Press Enter."
                                                                     },
    "V1.2/Main/V1/Administration/Administration.html":  {
                                                            "href":  "V1.2/Main/V1/Administration/Administration.html",
                                                            "title":  "Administration",
                                                            "keywords":  "Administration With the PI adapter administration level functions, you can start and stop an adapter service and the individual adapter ingress components. You can also retrieve product version information and delete an adapter. The examples in the administration topics use curl , a commonly available tool on both Windows and Linux. You can use the same operations with any programming language or tool that supports making REST calls. You can also configure PI adapters with the EdgeCmd utility. For more information, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . To validate successful configurations, you can accomplish data retrieval steps ( GET commands) using a browser, if available on your device. For more information on PI adapter configuration tools, see Configuration tools ."
                                                        },
    "V1.2/Main/V1/Administration/delete-an-adapter-component.html":  {
                                                                         "href":  "V1.2/Main/V1/Administration/delete-an-adapter-component.html",
                                                                         "title":  "Delete an adapter component",
                                                                         "keywords":  "Delete an adapter component When you remove an adapter component, the configuration and log files are saved into a sub-directory in case they are needed later. Any associated types, streams, and data remain on the respective endpoints. Complete the following steps to delete an adapter component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e Note: You must make an empty DELETE command against the Id of the component you want to delete. 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Delete OpcUa1 adapter component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1\" \"http:  localhost:5590 api v1 configuration system components OpcUa1\" File relocation All configuration and log files are renamed and moved. The files are renamed according to the timestamp of removal, for example, FileName.json_removed_yyyy-MM-dd--hh-mm-ss . Configuration files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Configuration\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Configuration/Removed  usr share OSIsoft Adapters AdapterName Configuration Removed Log files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Logs\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Logs/Removed  usr share OSIsoft Adapters AdapterName Logs Removed In the following example, one Modbus adapter service is installed on a particular Windows node with the name ModbusService1 . A Modbus component with the name ModbusDeviceX was added and configured to this Modbus adapter and later removed. Linux follows a similar behavior. This is the resulting relocation and renaming scheme after deletion: Note: This is an example; it does not necessarily represent the adapter that you are currently using. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components/ api v1 configuration system components  ComponentId DELETE Deletes specified component Note: Replace ComponentId with the Id of the component that you want to delete."
                                                                     },
    "V1.2/Main/V1/Administration/retrieve-product-version-information.html":  {
                                                                                  "href":  "V1.2/Main/V1/Administration/retrieve-product-version-information.html",
                                                                                  "title":  "Retrieve product version information",
                                                                                  "keywords":  "Retrieve product version information The product version information includes the application version, the version of the underlying .NET Core framework, and the operating system that the adapter is running on. Complete the following steps to retrieve the product version information of a PI adapter: Use any of the Configuration tools capable of making HTTP requests. Run a GET command to the following endpoint: http://localhost:5590/api/v1/Diagnostics/ProductInformation http:  localhost:5590 api v1 Diagnostics ProductInformation Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Get product information for adapter hosted on port 5590 curl -X GET \"http://localhost:5590/api/v1/Diagnostics/ProductInformation \"http:  localhost:5590 api v1 Diagnostics ProductInformation Example result: { \"Application Version\":\"1.2.0.37\", \".Net Core Version\":\".NET Core 3.1.5\", \"Operating System\":\"Linux 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020\" }"
                                                                              },
    "V1.2/Main/V1/Administration/start-and-stop-an-adapter.html":  {
                                                                       "href":  "V1.2/Main/V1/Administration/start-and-stop-an-adapter.html",
                                                                       "title":  "Start and stop an adapter",
                                                                       "keywords":  "Start and stop an adapter Complete the procedure appropriate for your operating system to start or stop an adapter service: Windows Open Windows services. Select PI Adapter for AdapterName , for example, PI Adapter for Modbus. Note: This is an example; it does not necessarily represent the adapter that you are currently using. Depending on whether your adapter is running or not, click either Start or Stop . Linux Open command line. Depending on whether your adapter is running or not, type one of the following commands: Example: Start PI Adapter for OPC UA sudo systemctl start pi.adapter.opcua Example: Stop PI Adapter for Modbus TCP sudo systemctl stop pi.adapter.modbus Note: These commands are examples; they do not necessarily represent the adapter that you are currently using. Press Enter."
                                                                   },
    "V1.2/Main/V1/Administration/start-and-stop-ingress-component.html":  {
                                                                              "href":  "V1.2/Main/V1/Administration/start-and-stop-ingress-component.html",
                                                                              "title":  "Start and stop ingress component",
                                                                              "keywords":  "Start and stop ingress component To control data ingress, you can start and stop the ingress components of an adapter whenever necessary. By default, all currently configured ingress components are started. Start an ingress component Complete the following steps to start an individual ingress component: Use any of the Configuration tools capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to start: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Start http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Start Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Start the OpcUa1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/OpcUa1/Start\" \"http:  localhost:5590 api v1 Administration OpcUa1 Start\" Stop an ingress component Complete the following steps to stop an individual ingress component: Start any configuration tool capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to stop: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Stop http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Stop Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Stop the Modbus1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/Modbus1/Stop\" \"http:  localhost:5590 api v1 Administration Modbus1 Stop\""
                                                                          },
    "V1.2/Main/V1/ARCHIVE/Adapter diagnostics_old.html":  {
                                                              "href":  "V1.2/Main/V1/ARCHIVE/Adapter diagnostics_old.html",
                                                              "title":  "Adapter diagnostics",
                                                              "keywords":  "Adapter diagnostics OSIsoft adapters produce diagnostic data which you can use to find more information about a particular adapter instance. This data lives alongside the health data and you can egress it using a Health Endpoint and setting EnableDiagnostics = true. For configuration of health endpoints, see \u003c/Health/Health.md\u003e. \u003c Health Health.md\u003e. AF hierarchy When you use PI Web API as a health endpoint, an AF hierarchy is created containing both the diagnostics and health data and metadata. Currently, OSIsoft Cloud Services does not provide a way to store static metadata and only contains the dynamic streams. For more information or to see an example of this hierarchy, see \u003c/Health/Health.md\u003e. \u003c Health Health.md\u003e. Stream count The stream count indicates the number of streams and associated types being produced and sent data for a particular adapter instance. Type Property Description string Timestamp Timestamp of event int StreamCount Overall number of streams created by the adapter instance int TypeCount Overall number of types created by the adapter instance IO rate The IO rate indicates the running average number of streams per second being produced by an adapter instance. Type Property Description string Timestamp Timestamp of event double IORate Average data rate (streams/second) (streams second) Error rate The error rate indicates the average number of errors per second occurring for a particular adapter instance. Type Property Description string Timestamp Timestamp of event double ErrorRate Average error rate (streams/second) (streams second)"
                                                          },
    "V1.2/Main/V1/ARCHIVE/Diagnostics configuration.html":  {
                                                                "href":  "V1.2/Main/V1/ARCHIVE/Diagnostics configuration.html",
                                                                "title":  "Diagnostics configuration",
                                                                "keywords":  "Diagnostics configuration You can configure OSIsoft adapters to produce and store diagnostics data at a designated health endpoint. For more information about available diagnostics data, see Adapter diagnostics . Configure diagnostics Start any of the Configuration tools capable of making HTTP requests. Run a PUT command to the following endpoint and set the enableDiagnostics parameter to either true or false : http://localhost:5590/api/v1/configuration/system/diagnostics http:  localhost:5590 api v1 configuration system diagnostics Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \"enableDiagnostics\":true }\" -X PUT \"http://localhost:5590/api/v1/configuration/system/diagnostics\" \"http:  localhost:5590 api v1 configuration system diagnostics\" Diagnostics schema The full schema definition for the diagnostics configuration is in the System_Diagnostics_schema.json here: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\AdapterName\\Schemas Linux: /opt/OSIsoft/Adapters/AdapterName/Schemas  opt OSIsoft Adapters AdapterName Schemas Diagnostics parameters The following parameters are available for configuring diagnostics: Parameter Required Type Description EnableDiagnostics Required boolean Determines whether Diagnostics are enabled Example Retrieve the diagnostics configuration Example using curl : curl -X GET \"http://localhost:{port}/api/v1/configuration/system/diagnostics\" \"http:  localhost:{port} api v1 configuration system diagnostics\" Sample output: { \"enableDiagnostics\": true } REST URLs Relative URL HTTP verb Action api/v1/configuration/system/diagnostics api v1 configuration system diagnostics GET Gets the diagnostics configuration api/v1/configuration/system/diagnostics api v1 configuration system diagnostics PUT Replaces the existing diagnostics configuration"
                                                            },
    "V1.2/Main/V1/ARCHIVE/Egress_DataEndpoints_schema.html":  {
                                                                  "href":  "V1.2/Main/V1/ARCHIVE/Egress_DataEndpoints_schema.html",
                                                                  "title":  "Egress endpoint configuration schema",
                                                                  "keywords":  "Egress endpoint configuration schema [{ \"endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e/piwebapi/omf/\", server\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" }, { \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" } ] Abstract Extensible Status Identifiable Custom Properties Additional Properties Defined In Can be instantiated Yes Experimental No Forbidden Forbidden Egress_DataEndpoints_schema.json EgressEndpointConfiguration Properties Property Type Required Nullable Defined by ClientId string Optional Yes EgressEndpointConfiguration (this schema) ClientSecret string Optional Yes EgressEndpointConfiguration (this schema) Endpoint string Required No EgressEndpointConfiguration (this schema) Id string Optional Yes EgressEndpointConfiguration (this schema) Password string Optional Yes EgressEndpointConfiguration (this schema) TokenEndpoint string Optional Yes EgressEndpointConfiguration (this schema) UserName string Optional Yes EgressEndpointConfiguration (this schema) ValidateEndpointCertificate boolean Optional No EgressEndpointConfiguration (this schema) ClientId ClientId is optional type: string defined in this schema ClientId Type string , nullable ClientSecret ClientSecret is optional type: string defined in this schema ClientSecret Type string , nullable Endpoint Endpoint is required type: string defined in this schema Endpoint Type string minimum length: 1 characters Id Id is optional type: string defined in this schema Id Type string , nullable Password Password is optional type: string defined in this schema Password Type string , nullable TokenEndpoint TokenEndpoint is optional type: string defined in this schema TokenEndpoint Type string , nullable UserName UserName is optional type: string defined in this schema UserName Type string , nullable ValidateEndpointCertificate ValidateEndpointCertificate is optional type: boolean defined in this schema ValidateEndpointCertificate Type boolean All of the following requirements need to be fulfilled. Requirement 1 object with following properties: Property Type Required ClientId string Optional ClientSecret string Optional Endpoint string Required Id string Optional Password string Optional TokenEndpoint string Optional UserName string Optional ValidateEndpointCertificate boolean Optional ClientId ClientId is optional type: string ClientId Type string , nullable ClientSecret ClientSecret is optional type: string ClientSecret Type string , nullable Endpoint Endpoint is required type: string Endpoint Type string minimum length: 1 characters Id Id is optional type: string Id Type string , nullable Password Password is optional type: string Password Type string , nullable TokenEndpoint TokenEndpoint is optional type: string TokenEndpoint Type string , nullable UserName UserName is optional type: string UserName Type string , nullable ValidateEndpointCertificate ValidateEndpointCertificate is optional type: boolean ValidateEndpointCertificate Type boolean"
                                                              },
    "V1.2/Main/V1/Configuration/buffering-configuration.html":  {
                                                                    "href":  "V1.2/Main/V1/Configuration/buffering-configuration.html",
                                                                    "title":  "Buffering configuration",
                                                                    "keywords":  "Buffering configuration You can configure PI adapters to buffer data egressed from the adapter to egress and health endpoints. Buffering is configured through the buffering configuration parameters in the system configuration. You can configure buffering as memory only or on disk. Note: OSIsoft recommends that you do not modify the default buffering location unless it is necessary. Changes to the buffering configuration parameters only take effect during adapter service startup. Configure buffering Using any text editor, create a file that contains the buffering configuration in the JSON format. For content structure, see the sample output in Examples - Retrieve the buffering configuration . For a table of all available parameters, see Buffering parameters . Save the file. For example, ConfigureBuffering.json . Use any of the Configuration tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/buffering http:  localhost:5590 api v1 configuration system buffering Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureBuffering.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Note: Run this command from the same directory where the file is located. Buffering schema The full schema definition for the system buffering is in the System_Buffering_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Buffering parameters The following parameters are available for configuring buffering: Parameter Required Type Description EnablePersistentBuffering Optional boolean Enables or disables on-disk buffering Allowed value: true or false Default value: true Note: If you disable persistent buffering, in-memory buffering is used. In-memory buffering is limited by value in the MaxBufferSizeMB property. MaxBufferSizeMB Optional integer Defines the maximum size of the buffer files that are persisted on disk 1 or used in memory 2 when EnablePersistentBuffering is set to false per configured endpoint. The unit is specified in MB (1 Megabyte = 1048576 bytes). Consider the capacity and the type of storage medium to determine a suitable value for this parameter. Minimum value: 1 Maximum value: 2147483647 Default value: 1024 BufferLocation Required string Defines the location of the buffer files. Absolute paths are required. Consider the access-control list (ACL) when you set this parameter. Allowed value: Valid path to a folder location in the file system Default value: Windows: %ProgramData%\\OSIsoft\\Adapters\\{AdapterInstance}\\Buffers Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Buffers  usr share OSIsoft Adapters {AdapterInstance} Buffers 1 Buffering to disk - disk is only used if required; The MaxBufferSizeMB per an endpoint and buffer file is 20MB of storage. When MaxBufferSizeMB is reached, the oldest buffer file is deleted and a new buffer file created. When the buffer file of a MaxBufferSizeMB of 20MB fills, a new buffer file is created and the previous buffer file deleted. Note: The following rules apply in case of an error when creating a new buffer file: Attempt to delete oldest buffer file and retry. If unable to buffer, errors are logged to indicate data loss. If a buffer file is corrupted, an attempt is made to recover individual records and any failure to recover records is logged. 2 Buffering only to memory : The MaxBufferSizeMB of health endpoints is limited to 20MB of memory. When MaxBufferSizeMB is reached, only the oldest message in the memory buffer is removed. Depending on the size of a new message, several old messages are removed. Examples The following examples are buffering configurations made through the curl REST client. Retrieve the buffering configuration curl -X GET \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Sample output: { \"bufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/Modbus/Buffers\", \"C: ProgramData OSIsoft Adapters Modbus Buffers\", \"maxBufferSizeMB\": 1024, \"enablePersistentBuffering\": true } 200 OK response indicates success. Update MaxBufferSizeMb parameter curl -d \"{ \\\"MaxBufferSizeMB\\\": 100 }\" -H \"Content-Type: application/json\" application json\" -X PATCH \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" 204 No Content response indicates success. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/buffering api v1 configuration system buffering GET Gets the buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PUT Replaces the existing buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PATCH Update parameter, partial configuration"
                                                                },
    "V1.2/Main/V1/Configuration/configuration-tools.html":  {
                                                                "href":  "V1.2/Main/V1/Configuration/configuration-tools.html",
                                                                "title":  "Configuration tools",
                                                                "keywords":  "Configuration tools You can configure PI adapters with the EdgeCmd utility, OSIsoft\u0027s proprietary tool for configuring adapters, or a commonly-used REST tool. EdgeCmd utility The EdgeCmd utility enables adapter configuration on both Linux and Windows operating systems. For more information on using the EdgeCmd utility, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . REST tools The following tools are available to make REST calls: curl curl is a command line tool used to make HTTP calls and is supported on both Windows and Linux operating systems. You can script curl with Bash or PowerShell on Linux or Windows and you can use it to perform adapter administrative and programming tasks. curl commands are used in configuration and management examples throughout this document. For more information, see curl (https://curl.haxx.se/) (https:  curl.haxx.se ) . Postman Postman is a REST tool for systems with GUI components. PI adapters are supported on platforms without GUIs. Postman is particularly useful for learning more about PI Adapter REST APIs. For more information, see Postman (https://www.postman.com/) (https:  www.postman.com ) ."
                                                            },
    "V1.2/Main/V1/Configuration/data-filters-configuration.html":  {
                                                                       "href":  "V1.2/Main/V1/Configuration/data-filters-configuration.html",
                                                                       "title":  "Data filters configuration",
                                                                       "keywords":  "Data filters configuration PI adapters can be configured to perform data filtering to save network bandwidth. Every data item in the data selection configuration can be assigned the ID of a data filter. The adapter will then filter data for those data items based on the data filter configuration. Configure data filters Complete the following steps to change the data filters configuration: Using any text editor, create a file that contains the data filters configuration in the JSON format. For content structure, see Data filters example . For all available parameters, see Data filters parameters . Save the file, for example, as ConfigureDataFilters.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter, for example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureDataFilters.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters\" Note: Run this command from the same directory where the file is located. On successful execution, the change that you have made to data filters takes effect immediately during runtime. Data filters schema The full schema definition for the data filters configuration is in the AdapterName_DataFilters_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Data filters parameters The following parameters are available for configuring data filters: Parameter Required Type Description Id Required string Unique identifier for the data filter. Allowed value: any string identifier AbsoluteDeadband Optional double Specifies the absolute change in data value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing absolute deadband number Default value: null PercentChange Optional double Specifies the percent change from previous value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing percent change Default value: null ExpirationPeriod Optional timespan The length in time that can elapse after an event before automatically storing the next event. The expected format is HH:MM:SS.###. * Allowed value: any timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"ExpirationPeriod\": 25 specifies 25 seconds, or \"ExpirationPeriod\": 125 specifies 2 minutes and 5 seconds. Data filters example [ { \"Id\": \"DuplicateData\", \"AbsoluteDeadband\": 0, \"PercentChange\": null, \"ExpirationPeriod\": \"01:00:00\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters GET Gets all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters DELETE Deletes all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters POST Adds an array of data filters or a single data filter. Fails if any data filter already exists. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PUT Replaces all data. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PATCH Allows partial updating of configured data filter. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id GET Gets configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id DELETE Deletes configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id PUT Replaces data filter by id . Fails if data filter does not exist. Note: Replace ComponentId with the Id of your adapter component, for example, Modbus1."
                                                                   },
    "V1.2/Main/V1/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html":  {
                                                                                                      "href":  "V1.2/Main/V1/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html",
                                                                                                      "title":  "Prepare egress destinations",
                                                                                                      "keywords":  "Prepare egress destinations OCS and PI Server destinations may require additional configuration to receive OMF messages. OCS To prepare OCS to receive OMF messages from the adapter, create an OMF connection in OCS. Creating an OMF connection results in an available OMF endpoint that can be used by the adapter egress mechanism. Complete the following steps to create an OMF connection: Create a Client . The Client Id and Client Secret will be used for the corresponding properties in the egress configuration. Create an OMF type Connection . The connection should link the created client to an existing namespace where the data will be stored. The OMF Endpoint URL for the connection will be used as the egress configuration Endpoint property. PI Server To prepare a PI Server to receive OMF messages from the adapter, a PI Web API OMF endpoint must be available. Complete the following steps: Install PI Web API and enable the OSIsoft Message Format (OMF) Services feature. During configuration, choose an AF database and PI Data Archive where metadata and data will be stored. The account used in an egress configuration needs permissions to create AF elements, element templates, and PI points. Configure PI Web API to use Basic authentication. For complete steps, as well as best practices and recommendations, see the PI Web API User Guide on Live Library. Note: The certificate used by PI Web API must be trusted by the device running the adapter, otherwise the egress configuration ValidateEndpointCertificate property needs to be set to false (this can be the case with a self-signed certificate but should only be used for testing purposes). Note: To continue to send OMF egress messages to the PI Web API endpoint after upgrading PI Web API, restart the adapter service."
                                                                                                  },
    "V1.2/Main/V1/Configuration/egress-endpoints-configuration.html":  {
                                                                           "href":  "V1.2/Main/V1/Configuration/egress-endpoints-configuration.html",
                                                                           "title":  "Egress endpoints configuration",
                                                                           "keywords":  "Egress endpoints configuration PI adapters collect time series data, which they can send to a permanent data store (endpoint). This operation is called data egress. The following endpoints are available for data egress: OSIsoft Cloud Services (OCS) PI servers through PI Web API Edge Data Store (EDS) For long term storage and analysis, you can configure any adapter to send time series data to one or several of these endpoints in any combination. An egress endpoint is comprised of the properties specified under Egress endpoint parameters . Data egress to a PI server creates a PI point in the PI adapter configuration. Data egress to OCS or EDS creates a stream in the PI adapter configuration. Note: Egress to EDS requires the adapter to be on the same server as EDS. The name of the PI point or OCS or EDS stream is a combination of the StreamIdPrefix specified in the adapter data source configuration and the StreamId specified in the adapter data selection configuration. Configure egress endpoints Note: You cannot add egress configurations manually because some parameters are encrypted when stored to disk. You must use the REST endpoints to add or edit egress configuration. For additional endpoint configurations, see REST URLs . Complete the following steps to configure egress endpoints: Using any text editor, create a file that contains one or more egress endpoints in the JSON format. For content structure, see Examples . For a table of all available parameters, see Egress endpoint parameters . Save the file. For example, ConfigureEgressEndpoints.json . Use any of the Configuration tools capable of making HTTP requests and run the appropriate command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/ http:  localhost:5590 api v1 configuration OmfEgress dataendpoints  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Examples using curl : Note: Run the commands from the same directory where the file is located. Add endpoints Note: Run either the POST or the PUT command. For more information, see REST URLs . curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints\" curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Delete an endpoint curl -X DELETE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Update an endpoint curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X UPDATE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" View endpoints curl -X GET \"http://localhost:5590/api/v1/configuration/OmfEgress/DataEndpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress DataEndpoints\" Egress endpoint configuration schema The full schema definition for the egress endpoint configuration is in the OmfEgress_DataEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Egress endpoint parameters The following parameters are available for configuring egress endpoints: Parameter Required Type Description Id Optional string Unique identifier Allowed value: any string identifier Default value: new GUID Endpoint Required string Destination that accepts OMF v1.1 messages. Supported destinations include OCS, PI Server, and EDS. Allowed value: well-formed http or https endpoint string Default: null Username Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null Note: If your username contains a backslash, you must add an escape character, for example, type OilCompany\\TestUser as OilCompany\\\\TestUser . EDS: Allowed value: any string, but cannot be null . Password Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null ClientId Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string Default: null ClientSecret Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string Default: null TokenEndpoint Optional for OCS endpoint string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination certificate. Note: Only use for testing with self-signed certificates. Allowed value: true or false Default value: true Examples The following examples are valid egress configurations: Egress data to OCS [{ \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" }] Egress data to PI Web API [{ \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" }] Egress data to EDS [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints GET Gets all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints DELETE Deletes all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints POST Adds an array of egress endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PUT Replaces all egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PATCH Allows partial updating of configured endpoints. Note: The request must be an array containing one or more endpoints. Each endpoint in the array must include its Id . api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} GET Gets configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} DELETE Deletes configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PUT Updates or creates a new endpoint with the specified Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PATCH Allows partial updating of configured endpoint by Id Egress execution details After configuring an egress endpoint, egress is immediately run for that endpoint. Egress is handled individually per configured endpoint. When data is egressed for the first time, types and containers are egressed to the configured endpoint. After that only new or changed types or containers are egressed. Type creation must be successful in order to create containers. Container creation must be successful in order to egress data. If you delete an egress endpoint, data flow immediately stops for that endpoint. Buffered data in a deleted endpoint is permanently lost. Type, container, and data items are batched into one or more OMF messages when egressing. As per the requirements defined in OMF, a single message payload will not exceed 192KB in size. Compression is automatically applied to outbound egress messages. On the egress destination, failure to add a single item results in the message failing. Types, containers, and data are egressed as long as the destination continues to respond to HTTP requests."
                                                                       },
    "V1.2/Main/V1/Configuration/general-configuration.html":  {
                                                                  "href":  "V1.2/Main/V1/Configuration/general-configuration.html",
                                                                  "title":  "General configuration",
                                                                  "keywords":  "General configuration You can configure PI adapters to produce and store diagnostics data at a designated health endpoint, and to send metadata for created streams. For more information about available diagnostics data, see Adapter diagnostics and Egress diagnostics . For more information about available metadata and what metadata are sent per metadata level, see Adapter Metadata . Configure general Start any of the Configuration tools capable of making HTTP requests. Run a PUT command to the following endpoint, setting enableDiagnostics to either true or false and MetadataLevel to None , Low , Medium , or High : http://localhost:5590/api/v1/configuration/system/general http:  localhost:5590 api v1 configuration system general Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"enableDiagnostics\\\":true, \\\"enableMetadata\\\":false }\" -X PUT \"http://localhost:5590/api/v1/configuration/system/general\" \"http:  localhost:5590 api v1 configuration system general\" General schema The full schema definition for the general configuration is in the System_General_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas General parameters The following parameters are available for configuring general: Parameter Required Type Description EnableDiagnostics Optional boolean Determines if diagnostics are enabled Allowed value: true or false Default value: true MetadataLevel Optional reference Defines amount of metadata sent to OMF endpoints. Allowed value: None , Low , Medium , and High Default value: Medium Example Retrieve the general configuration Example using curl : curl -X GET \"http://localhost:{port}/api/v1/configuration/system/general\" \"http:  localhost:{port} api v1 configuration system general\" Sample output: { \"EnableDiagnostics\": true, \"MetadataLevel\": \"Medium\" } REST URLs Relative URL HTTP verb Action api/v1/configuration/system/General api v1 configuration system General GET Gets the general configuration api/v1/configuration/system/General api v1 configuration system General PUT Replaces the existing general configuration api/v1/configuration/system/General api v1 configuration system General PATCH Allows partial updating of general configuration"
                                                              },
    "V1.2/Main/V1/Configuration/health-endpoint-configuration.html":  {
                                                                          "href":  "V1.2/Main/V1/Configuration/health-endpoint-configuration.html",
                                                                          "title":  "Health endpoint configuration",
                                                                          "keywords":  "Health endpoint configuration You can configure PI adapters to produce and store health data at a designated health endpoint. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information about adapter health, see Adapter health . Configure health endpoint A health endpoint designates an OMF endpoint where adapter health information is sent. You can configure multiple health endpoints. Use any text editor to create a file that contains one or more health endpoints in the JSON format. For content structure, see Examples . For a table of all available health endpoint parameters, see Health endpoint parameters . Save the file. For example, ConfigureHealthEndpoints.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints http:  localhost:5590 api v1 configuration system healthendpoints Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/healthendpoints\" \"http:  localhost:5590 api v1 configuration system healthendpoints\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints/{Id} http:  localhost:5590 api v1 configuration system healthendpoints {Id} Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/healthendpoints/OCS\" \"http:  localhost:5590 api v1 configuration system healthendpoints OCS\" Health endpoints schema The full schema definition for the health endpoint configuration is in the System_HealthEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Health endpoint parameters The following parameters are available for configuring health endpoints: Parameter Required Type Description Id Optional string Uniquely identifies the endpoint. This can be any alphanumeric string. If left blank, a unique value is generated automatically. Allowed value: any string identifier Default value: new GUID Endpoint Required string The URL of the OMF endpoint to receive this health data Allowed value: well-formed http or https endpoint string Default: null Username Required for PI Web API and EDS endpoints string The username used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null Password Required for PI Web API endpoints string The password used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null ClientId Required for OCS endpoints string The client ID used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null ClientSecret Required for OCS endpoints string The client secret used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null TokenEndpoint Optional for OCS endpoints string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination security certificate. Use for testing only with self-signed certificates; OSIsoft recommends keeping this set to the default, true, in production environments. Allowed value: true or false Default value: true Examples OCS endpoint { \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" } PI Web API endpoint { \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" } EDS endpoint [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints GET Gets all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints DELETE Deletes all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints POST Adds an array of health endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PUT Replaces all health endpoints. Note: Requires an array of endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PATCH Allows partial updating of configured health endpoints Note: The request must be an array containing one or more health endpoints. Each health endpoint in the array must include its Id . api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id GET Gets configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id DELETE Deletes configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PUT Updates or creates a new health endpoint with the specified Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PATCH Allows partial updating of configured health endpoint by Id Note: Replace Id with the Id of the health endpoint."
                                                                      },
    "V1.2/Main/V1/Configuration/logging-configuration.html":  {
                                                                  "href":  "V1.2/Main/V1/Configuration/logging-configuration.html",
                                                                  "title":  "Logging configuration",
                                                                  "keywords":  "Logging configuration PI adapters write daily log messages for the adapter, the system, and OMF egress to flat text files in the following locations: ??? Windows: %ProgramData%\\OSIsoft\\Adapters\\{AdapterInstance}\\Logs ??? Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Logs  usr share OSIsoft Adapters {AdapterInstance} Logs Each message in the log displays the message severity level, timestamp, and the message itself. Configure logging Complete the following steps to change the logging configuration: Using any text editor, create a file that contains the logging configuration in the JSON format. For content structure, see Example . For all available parameters, see Logging parameters . Save the file. For example, ConfigureLogging.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, OpcUa1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureLogging.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging\" On successful execution, the log-level change takes effect immediately during runtime. The other configurations (log file size and file count) are updated after the adapter is restarted. Note: Any parameter not specified in the updated configuration file reverts to the default schema value. Logging schema The full schema definition for the logging configuration is in the component specific logging file: AdapterName_Logging_schema.json , OmfEgress_Logging_schema.json , or System_Logging_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Logging parameters The following parameters are available for configuring logging: Parameter Required Type Description LogLevel Optional reference The logLevel sets the minimum severity for messages to be included in the logs. Messages with a severity below the level set are not included. The log levels in their increasing order of severity are as follows: Trace , Debug , Information , Warning , Error , Critical , and None . Default log level: Information For detailed information about the log levels, see LogLevel . LogFileSizeLimitBytes Optional integer The maximum size (in bytes) of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1000 Maximum value: 9223372036854775807 Default value: 34636833 LogFileCountLimit Optional integer The maximum number of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1 Maximum value: 2147483647 Default value: 31 LogLevel Level Description Trace Logs that contain the most detailed messages. These messages may contain sensitive application data like actual received values, which is why these messages should not be enabled in production environment. Note: Trace is translated to Verbose in the log file. Debug Logs that can be used to troubleshoot data flow issues by recording metrics and detailed flow related information. Information Logs that track the general flow of the application. Any non-repetitive general information like the following can be useful for diagnosing potential application errors: - Version information related to the software at startup - External services used - Data source connection string - Number of measurements - Egress URL - Change of state ???Starting??? or ???Stopping??? - Configuration Warning Logs that highlight an abnormal or unexpected event in the application flow that does not otherwise cause the application execution to stop. Warning messages can indicate an unconfigured data source state, that a communication with backup failover instance has been lost, an insecure communication channel in use, or any other event that could require attention but that does not impact data flow. Error Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity and not an application-wide failure. It can indicate an invalid configuration, unavailable external endpoint, internal flow error, and so on. Critical Logs that describe an unrecoverable application or system crash or a catastrophic failure that requires immediate attention. This can indicate application wide failures like beta timeout expired, unable to start self-hosted endpoint, unable to access vital resource (for example, Data Protection key file), and so on. Note: Critical is translated to Fatal in the log file. None Logging is disabled for the given component. Example Default logging configuration By default, logging captures Information, Warning, Error, and Critical messages in the message logs. The following logging configuration is the installation default for a component: { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 } REST URLs Relative URL HTTP verb Action api/v1/configuration/System/Logging api v1 configuration System Logging GET Retrieves the system logging configuration api/v1/configuration/System/Logging api v1 configuration System Logging PUT Updates the system logging configuration api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging GET Retrieves the logging configuration of the specified adapter component api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging PUT Updates the logging configuration of the specified adapter component Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1 or OpcUa1."
                                                              },
    "V1.2/Main/V1/Configuration/schedules-configuration.html":  {
                                                                    "href":  "V1.2/Main/V1/Configuration/schedules-configuration.html",
                                                                    "title":  "Schedules configuration",
                                                                    "keywords":  "Schedules configuration You can configure PI adapters to run scans based on a schedule. If the adapter supports schedules, each data item in the data selection configuration can be assigned a schedule. The adapter will then sample data for those data items at the scheduled time. Note: If the adapter supports scheduling and you start an ingress component without a schedules configuration, a default schedules configuration will be added to be used as an example. Note: When the adapter framework scheduler misses or skips a scan due to any reason, either one of the following messages is printed: Scan skipped for schedule id \u003cId\u003e or Scan missed for schedule \u003cid\u003e . Configure schedules Complete the following steps to change the schedules configuration: Using any text editor, create a file that contains the schedules configuration in the JSON format. For content structure, see Example . For all available parameters, see Schedules parameters . Save the file. For example, ConfigureSchedules.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSchedules.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules\" On successful execution, the schedules change takes effect immediately during runtime. Schedules schema The full schema definition for the schedules configuration is in the AdapterName_Schedules_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Schedules parameters The following parameters are available for configuring schedules: Parameter Required Type Description Id Required string Unique identifier for the schedule Allowed value: any string identifier Period Required string The data sampling rate of the schedule. The expected format is HH:MM:SS.###. * Invalid input: null , negative timespan, zero Default value: null (must be specified) Offset Optional string The offset from the midnight when the schedule starts. The expected format is HH:MM:SS.### * Invalid input: negative timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"Period\": 25 specifies 25 seconds, or \"Period\": 125 specifies 2 minutes and 5 seconds. Example [ { \"Id\": \"schedule1\", \"Period\": \"00:00:01.500\", \"Offset\": \"00:02:03\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules GET Gets all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules DELETE Deletes all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules POST Adds an array of schedules or a single schedule. Fails if any schedule already exists api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules PUT Replaces all schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id GET Gets configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id DELETE Deletes configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PUT Replaces schedule by id . Fails if schedule does not exist api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PATCH Allows partial updating of configured schedule by id Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1."
                                                                },
    "V1.2/Main/V1/Configuration/system-and-adapter-configuration.html":  {
                                                                             "href":  "V1.2/Main/V1/Configuration/system-and-adapter-configuration.html",
                                                                             "title":  "System and adapter configuration",
                                                                             "keywords":  "System and adapter configuration You can configure the system component and adapter component together using a single file. Change system and adapter configuration Change the system and adapter configuration by importing the JSON file using a REST client: Using any text editor, create a file that contains the System and adapter configuration in the JSON format. For content structure, see Example . Save the file. For example, ConfigureSystemAndAdapter.json . Use any of the Configuration Tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSystemAndAdapter.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration\" \"http:  localhost:5590 api v1 configuration\" Note: In order for some of the adapter specific configurations to take effect, you have to restart the adapter. If the operation fails due to errors in the configuration, the count of the error and suitable error messages are returned in the result. Example Note : The following is an example configuration; it does not necessarily represent the configuration of the adapter that you are currently using. The data source and data selection configurations are different for every adapter. Sample OPC UA adapter configuration { \"OpcUa1\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataSource\": { \"EndpointUrl\": \"opc.tcp://OPCUAServerEndpoint/OPCUA/Server\", \"opc.tcp:  OPCUAServerEndpoint OPCUA Server\", \"UseSecureConnection\": false, \"StreamPrefix\": \"OPC_Prefix_\", \"UserName\": null, \"Password\": null, \"RootNodeIds\": null, \"IncomingTimestamp\": \"Source\", \"applyPrefixToStreamId\": true }, \"DataSelection\": [ { \"Selected\": true, \"Name\": \"Sawtooth\", \"NodeId\": \"ns=3;s=Sawtooth\", \"StreamId\": \"SawtoothStream\" } ] }, \"System\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"HealthEndpoints\": [ ], \"Diagnostics\": { \"enableDiagnostics\": true }, \"Components\": [ { \"componentId\": \"Egress\", \"componentType\": \"OmfEgress\" }, { \"componentId\": \"OpcUa1\", \"componentType\": \"OpcUa\" } ], \"Buffering\": { \"BufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/OpcUa/Buffers\", \"C: ProgramData OSIsoft Adapters OpcUa Buffers\", \"MaxBufferSizeMB\": -1, \"EnableBuffering\": true } }, \"OmfEgress\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataEndpoints\": [ { \"id\": \"WebAPI EndPoint\", \"endpoint\": \"https://PIWEBAPIServer/piwebapi/omf\", \"https:  PIWEBAPIServer piwebapi omf\", \"userName\": \"USERNAME\", \"password\": \"PASSWORD\" }, { \"id\": \"OCS Endpoint\", \"endpoint\": \"https://OCSEndpoint/omf\", \"https:  OCSEndpoint omf\", \"clientId\": \"CLIENTID\", \"clientSecret\": \"CLIENTSECRET\" }, { \"Id\": \"EDS\", \"Endpoint\": \"http://localhost: \"http:  localhost: /api/v1/tenants/default/namespaces/default/omf\"  api v1 tenants default namespaces default omf\" \"UserName\": \"eds\", \"Password\": \"eds\" } ] } } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  PUT Replaces the configuration for the entire adapter"
                                                                         },
    "V1.2/Main/V1/Configuration/system-components-configuration.html":  {
                                                                            "href":  "V1.2/Main/V1/Configuration/system-components-configuration.html",
                                                                            "title":  "System components configuration",
                                                                            "keywords":  "System components configuration PI adapters use JSON configuration files in a protected directory on Windows and Linux to store configuration that is read on startup. While the files are accessible to view, OSIsoft recommends that you use REST or the EdgeCmd utility for any changes you make to the files. As part of making adapters as secure as possible, any passwords or secrets that you configure are stored in encrypted form where cryptographic key material is stored separately in a secure location. If you edit the files directly, the adapter may not work as expected. Note: You can edit any single component or facet of the system individually using REST, but you can also configure the system as a whole with a single REST call. Configure system components The configuration of system components includes adding, updating, and deleting components. Add a system component Complete the following steps to add a new component to the system: Note: The examples in this procedure do not necessarily represent the adapter that your are currently using. Using any text editor, create a file that contains the component to be added to the system in the JSON format. For content structure, see Examples . For a table of all available parameters, see System components parameters . Note: The OmfEgress component is required for this initial release for adapters to run. You can add additional components, but only a single OmfEgress component is supported. The following example adds a Modbus TCP adapter: { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" } Note: A unique ComponentId is necessary for each component in the system. This example uses the ComponentId Modbus1 since it is the first Modbus TCP adapter to be added. Save the file. For example, AddComponent.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003ccomponentId\u003e http:  localhost:5590 api v1 configuration system components \u003ccomponentId\u003e Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components/Modbus1\" \"http:  localhost:5590 api v1 configuration system components Modbus1\" After the curl command completes successfully, you can configure or use the new component. Update system components Complete the following steps to update the components of the system, for example, by adding or deleting one or more adapter components. Using any text editor, create a file that contains the current system components configuration. For information on how to retrieve the system components configuration, see REST URLs . Delete or add components as you need. Note: You cannot delete the OmfEgress component. Save the file. For example, UpdateComponents.json Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@UpdateComponents.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" Delete a system component Complete the following steps to delete a specific existing component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint, replacing \u003cComponentId\u003e with the ID of the component that you want to delete: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e/ http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. Delete OpcUa1 component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1/\" \"http:  localhost:5590 api v1 configuration system components OpcUa1 \" All the logs and configurations files for the deleted components are moved to the corresponding logs/Removed logs Removed or Configuration/Removed Configuration Removed folder. System components schema The full schema definition for the system components configuration is in the System_Components_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\AdapterName\\Schemas Linux: /opt/OSIsoft/Adapters/AdapterName/Schemas  opt OSIsoft Adapters AdapterName Schemas System components parameters You can configure the following parameters for system components: Parameters Required Type Description ComponentId Required string The ID of the component 1 . It can be any alphanumeric string, for example, Modbus1. A properly configured ComponentID follows these rules: Cannot contain leading or trailing space Cannot use the following characters: \u003e \u003c /   : ? # [ ] @ ! $ \u0026 * \\ \" ( ) \\\\ + , ; = \\| ` { } ComponentType Required string The type of the component, for example, Modbus. There are two types of components: OmfEgress and the adapter. 1 1 Note: The OmfEgress component is required to run the adapter. Both its ComponentId and ComponentType are reserved and should not be modified. Examples Default system components configuration The default System_Components.json file for the System component contains the following information. [ { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] System components configuration with two adapter instances Note: This is an example configuration; it does not necessarily include the adapter that you are currently using. [ { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"Modbus2\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components api v1 configuration system components GET Retrieves the system components configuration api/v1/configuration/system/components api v1 configuration system components POST Adds a new component to the system configuration api/v1/configuration/system/components api v1 configuration system components PUT Updates the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId DELETE Deletes a specific component from the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId PUT Creates a new component with the specified componentId in the system configuration"
                                                                        },
    "V1.2/Main/V1/Diagnostics/adapter-diagnostics.html":  {
                                                              "href":  "V1.2/Main/V1/Diagnostics/adapter-diagnostics.html",
                                                              "title":  "Adapter diagnostics",
                                                              "keywords":  "Adapter diagnostics The adapter and its components produce different kinds of diagnostics data that is sent to all health endpoints. The System_Diagnostics.json file contains a flag that determines whether diagnostics are enabled. You can change this at runtime through REST calls or the EdgeCmd utility. Diagnostics data are collected by default. To egress diagnostics related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available diagnostics data Every minute, dynamic data is sent to configured health endpoints. The following diagnostics data are available: System Stream count IO rate Error rate AF structure After running diagnostics with a health endpoint configured to a PI server, you can use PI System Explorer to view the diagnostics for a given adapter. The element hierarchy is shown in the following image. The Elements root contains a link to an Adapters node. This is the root node for all adapter instances. Below Adapters , you will find one or more adapter nodes. Each node\u0027s title is defined by the node\u0027s corresponding computer name and service name in this format: {ComputerName}.{ServiceName} . For example, in the following image, MachineName is the computer name and OpcUa is the service name. To see the System.Diagnostics values, click on an adapter node and set the tab to Attributes . Example values are shown in the image."
                                                          },
    "V1.2/Main/V1/Diagnostics/egress-diagnostics.html":  {
                                                             "href":  "V1.2/Main/V1/Diagnostics/egress-diagnostics.html",
                                                             "title":  "Egress diagnostics",
                                                             "keywords":  "Egress diagnostics The Egress component of the adapter produces the following diagnostics stream: IO rate The Diagnostics.Egress.IORate dynamic type includes the following values, which are logged in a stream with the Id {machineName}.{serviceName}.OmfEgress.{EndpointId}.IORate . IORate includes only sequential data successfully sent to an egress endpoint. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                                         },
    "V1.2/Main/V1/Diagnostics/error-rate.html":  {
                                                     "href":  "V1.2/Main/V1/Diagnostics/error-rate.html",
                                                     "title":  "Error rate",
                                                     "keywords":  "Error rate The Diagnostics.Adapter.ErrorRate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.ErrorRate . Property Type Description timestamp string Timestamp of event ErrorRate double One-minute rolling average of error rate (streams/second) (streams second)"
                                                 },
    "V1.2/Main/V1/Diagnostics/io-rate.html":  {
                                                  "href":  "V1.2/Main/V1/Diagnostics/io-rate.html",
                                                  "title":  "IO rate",
                                                  "keywords":  "IO rate The Diagnostics.Adapter.IORate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.IORate . IORate includes only sequential data collected from a data source. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                              },
    "V1.2/Main/V1/Diagnostics/stream-count.html":  {
                                                       "href":  "V1.2/Main/V1/Diagnostics/stream-count.html",
                                                       "title":  "Stream count",
                                                       "keywords":  "Stream count The Diagnostics.StreamCountEvent dynamic type includes the following values, which are logged in a stream with the Id {componentid}.StreamCount . The StreamCount and TypeCount include only types and streams created for sequential data received from a data source. Property Type Description timestamp string Timestamp of event StreamCount int Number of streams created by the adapter instance TypeCount int Number of types created by the adapter instance"
                                                   },
    "V1.2/Main/V1/Diagnostics/System.html":  {
                                                 "href":  "V1.2/Main/V1/Diagnostics/System.html",
                                                 "title":  "System",
                                                 "keywords":  "System The Diagnostics.System dynamic type includes the following values which are logged in a stream with the Id System.Diagnostics . This diagnostic stream contains system level information related to the host platform that the adapter is running on. Property Type Description timestamp string Timestamp of event ProcessIdentifier int Process Id of the host process StartTime string Time at which the host process started WorkingSet long Amount of physical memory in bytes, allocated for the host process TotalProcessorTime double Total processor time for the host process expressed in seconds TotalUserProcessorTime double User processor time for the host process expressed in seconds TotalPrivilegedProcessorTime double Privileged processor time for the host process expressed in seconds ThreadCount int Number of threads in the host process HandleCount int Number of handles opened by the host process ManagedMemorySize double Number of bytes currently thought to be allocated in managed memory Unit of Measure = megabytes PrivateMemorySize double Amount of paged memory in bytes allocated for the host process Unit of Measure = megabytes PeakPagedMemorySize double Maximum amount of memory in the virtual memory paging file in bytes used by the host process. Unit of Measure = megabytes StorageTotalSize double Total size of the storage medium in use by the system Unit of Measure = megabytes StorageFreeSpace double Free space available Unit of Measure = megabytes Each adapter component produces its own diagnostics streams."
                                             },
    "V1.2/Main/V1/Health/adapter-health.html":  {
                                                    "href":  "V1.2/Main/V1/Health/adapter-health.html",
                                                    "title":  "Adapter health",
                                                    "keywords":  "Adapter health PI Adapters produce different kinds of health data that can be egressed to different health endpoints. To egress health related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available health data Dynamic data is sent every minute to configured health endpoints. The following health data is available: Device status Next Health Message Expected AF structure With a health endpoint configured to a PI server, you can use PI System Explorer to view the health of a given adapter. The element hierarchy is shown in the following image."
                                                },
    "V1.2/Main/V1/Health/device-status.html":  {
                                                   "href":  "V1.2/Main/V1/Health/device-status.html",
                                                   "title":  "Device status",
                                                   "keywords":  "Device status The device status indicates the health of this component and if it is currently communicating properly with the data source. This time-series data is stored within a PI point or OCS stream, depending on the endpoint type. During healthy steady-state operation, a value of Good is expected. Property Type Description Time string Timestamp of the event DeviceStatus string The value of the DeviceStatus The possible statuses are: Status Meaning Good The component is connected to the data source and it is collecting data. ConnectedNoData The component is connected to the data source but it is not receiving data from it. AttemptingFailover The adapter is attempting to fail over. Starting The component is currently in the process of starting up and is not yet connected to the data source. DeviceInError The component encountered an error either while connecting to the data source or attempting to collect data. Shutdown The component is either in the process of shutting down or has finished. Removed The adapter component has been removed and will no longer collect data. NotConfigured The adapter component has been created but is not yet configured."
                                               },
    "V1.2/Main/V1/Health/health-and-diagnostics.html":  {
                                                            "href":  "V1.2/Main/V1/Health/health-and-diagnostics.html",
                                                            "title":  "Health and Diagnostics",
                                                            "keywords":  "Health and Diagnostics PI Adapters produce various types of health data. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information on available health data, see Adapter health . PI Adapters also produce diagnostic data. You can use diagnostic data to find more information about a particular adapter instance. Diagnostic data lives alongside the health data and you can egress it using a health endpoint and setting EnableDiagnostics to true . You can configure EnableDiagnostics in the system\u0027s General configuration . For more information on available diagnostics data, see Adapter diagnostics . Health endpoint differences Two OMF endpoints are currently supported for adapter health data: PI Web API OSIsoft Cloud Services There are a few differences in how these two systems treat the associated health and diagnostics data. PI Web API parses the information and sends it to configured PI servers for the OMF endpoint. The static data is used to create a hierarchy on a PI AF server similar to the following example: The dynamic health data is time-series data that is stored in PI points on a PI Data Archive. You can see it in the AF hierarchy as PI point data reference attributes. OSIsoft Cloud Services does not currently provide a way to store the static metadata. For OCS-based adapter health endpoints, only the dynamic data is stored. Each value is its own stream with the timestamp property as the single index."
                                                        },
    "V1.2/Main/V1/Health/next-health-message-expected.html":  {
                                                                  "href":  "V1.2/Main/V1/Health/next-health-message-expected.html",
                                                                  "title":  "Next health message expected",
                                                                  "keywords":  "Next health message expected This property is similar to a heartbeat. A new value for NextHealthMessageExpected is sent by an individual adapter data component on a periodic basis while it is functioning properly. This value is a timestamp that indicates when the next value should be received. When monitoring, if the next value is not received by the indicated time, this likely means that there is an issue. It could be an issue with the adapter, adapter component, network connection between the health endpoint and the adapter, and so on. Property Type Description Time string Timestamp of the event NextHealthMessageExpected string Timestamp when next value is expected"
                                                              },
    "V1.2/Main/V1/Installation/Installation.html":  {
                                                        "href":  "V1.2/Main/V1/Installation/Installation.html",
                                                        "title":  "Installation",
                                                        "keywords":  "Installation Adapters are installed on a local machine using an install kit downloaded from the OSIsoft Customer Portal. For instructions on downloading and installing adapters, see Install the adapter . Alternatively, you can build custom installers or containers for Linux. For more information, see the Docker instructions in the documentation of the respective adapter."
                                                    },
    "V1.2/Main/V1/Installation/install-the-adapter.html":  {
                                                               "href":  "V1.2/Main/V1/Installation/install-the-adapter.html",
                                                               "title":  "Install the adapter",
                                                               "keywords":  "Install the adapter You can install adapters on either a Windows or Linux operating system. Before installing the adapter, see the respective system requirements to ensure your machine is properly configured to provide optimum adapter operation. Windows Complete the following steps to install a PI adapter on a Windows computer: Download the Windows .msi file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Run the .msi file. Follow the setup wizard. You can change the installation folder or port number during setup. The default port number is 5590 . Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and try the script again. If the installation was successful, a JSON copy of the default system configuration is returned. Linux Complete the following steps to install a PI adapter on a Linux computer: Download the appropriate Linux distribution file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Open a terminal. Run the sudo app install command. Examples : To install the Linux ARM Debian package, run the command sudo apt install ./OpcUa_linux-arm.deb . OpcUa_linux-arm.deb To install the Linux x64 package, run the command sudo apt install ./Modbus_linux-x64.deb . Modbus_linux-x64.deb Note: The previous file names are examples. They do not necessarily represent the adapter that you are currently using. Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and run the command again. If the installation was successful, a JSON copy of the default system configuration is returned."
                                                           },
    "V1.2/Main/V1/Installation/uninstall-the-adapter.html":  {
                                                                 "href":  "V1.2/Main/V1/Installation/uninstall-the-adapter.html",
                                                                 "title":  "Uninstall the adapter",
                                                                 "keywords":  "Uninstall the adapter Complete the procedure corresponding to your specific operating system to uninstall the adapter: Windows To delete the PI adapter program files from a Windows device, use the Windows Control Panel uninstall application process. Note: The configuration, data, and log files are not deleted by the uninstall process. Optional: To delete data, configuration, and log files, delete the directory %ProgramData%\\OSIsoft\\Adapters\\AdapterName . This deletes all data processed by the adapter, in addition to the configuration and log files. Linux To delete PI Adapter software from a Linux device, open a terminal window and run the following command: sudo apt remove pi.adapter.\u003cAdapterName\u003e Optional: To delete data, configuration, and log files, run the following command: sudo rm -r /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e  usr share OSIsoft Adapters \u003cAdapterName\u003e This deletes all data processed by the adapter, in addition to the configuration and log files."
                                                             },
    "V1.2/Main/V1/Metadata/adapter-metadata.html":  {
                                                        "href":  "V1.2/Main/V1/Metadata/adapter-metadata.html",
                                                        "title":  "Adapter metadata",
                                                        "keywords":  "Adapter metadata If the metadataLevel is set to Low or higher in the General configuration , adapter streams created by the ingress components include the following metadata: Datasource: {ComponentId} AdapterType: {ComponentType} ComponentId corresponds to the adapter components\u0027 data source configured in the Components configuration . ComponentType corresponds to the adapter type. For example, Modbus or OpcUa. Metadata for health and diagnostics streams If you configure a health endpoint and enable metadata, they are included in the health streams ( Device status and Next health message expected ) together with ComponentId and ComponentType . If you enable diagnostics in General configuration , metadata are included in the diagnostics streams ( Stream count , IO rate , Error rate ) together with ComponentId and ComponentType . The adapter may also send its own stream metadata not including health and diagnostics streams. For more information about what custom metadata is included in each stream, see the user guide for your adapter. Note: Metadata is only sent for streams created by the ingress components. Currently, the only endpoint that persists sent metadata is OCS (OSIsoft Cloud Services)."
                                                    },
    "V1.2/Main/V1/technical-support-and-feedback.html":  {
                                                             "href":  "V1.2/Main/V1/technical-support-and-feedback.html",
                                                             "title":  "Technical support and feedback",
                                                             "keywords":  "Technical support and feedback OSIsoft provides several ways to report issues and provide feedback on PI Adapters. Technical support For technical assistance with PI Adapters, contact OSIsoft Technical Support through the OSIsoft Customer Portal . We can help you identify the problem, provide workarounds and address any concerns you may have. Remote access to your facilities may be necessary during the session. Note: You must have an account set up in the OSIsoft Customer Portal before you can open a case. If you do not have a portal account, see How to Get a Login to OSIsoft Customer Portal . Alternatively, call OSIsoft Technical Support at +1 510-297-5828. When you contact OSIsoft Technical Support, be prepared to provide this information: Product name, version, and build numbers Details about your computer platform (CPU type, operating system, and version number) Time that the difficulty started Log files at that time Details of any environment changes prior to the start of the issue Summary of the issue, including any relevant log files during the time the issue occurred \u003c!--To view a brief primer on PI Adapters, see the [PI Adapters playbook](https://customers.osisoft.com/s/knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) playbook](https:  customers.osisoft.com s knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) in the OSIsoft Customer Portal.--\u003e Product feedback To submit product feedback for PI Adapters, visit the PI Adapters feedback page . The product team at OSIsoft regularly monitors the page. Documentation feedback To submit documentation feedback for PI Adapters, send an email to documentation@osisoft.com . Be sure to include the following information with your feedback: Product name and version Documentation topic URL Details of the suggestion or error The technical documentation team at OSIsoft will review and respond to your feedback."
                                                         },
    "V1.2/Main/V1/Troubleshooting/troubleshoot-the-adapter.html":  {
                                                                       "href":  "V1.2/Main/V1/Troubleshooting/troubleshoot-the-adapter.html",
                                                                       "title":  "Troubleshooting",
                                                                       "keywords":  "Troubleshooting PI adapters provide features for troubleshooting issues related to connectivity, data flow, and configuration. Resources include adapter logs and the Wireshark troubleshooting tool . If you are still unable to resolve issues or need additional guidance, contact OSIsoft Technical Support through the OSIsoft Customer Portal . Note: Make sure to also check the troubleshooting information specific to your adapter in this user guide. Logs Messages from the System and OmfEgress logs provide information on the status of the adapter. For example, they show if a connection from the adapter to an egress endpoint exists. Perform the following steps to view the System and OmfEgress logs: Navigate to the logs directory: Windows: %ProgramData%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Logs Linux: /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e/Logs  usr share OSIsoft Adapters \u003cAdapterName\u003e Logs . Example: A successful connection to a PI Web API egress endpoint displays the following message in the OmfEgress log: 2020-11-02 11:08:51.870 -06:00 [Information] Data will be sent to the following OMF endpoint: Id: \u003comfegress id\u003e Endpoint: \u003cpi web api URL\u003e (note: the pi web api default port is 443) ValidateEndpointCertificate: \u003ctrue or false\u003e Optional: Change the log level of the adapter to receive more information and context. For more information, see Logging configuration . ASP .NET Core platform The ASP .NET Core platform log provides information from the Kestrel web server that hosts the application. The log will only be present in case EDS encounters heartbeat failures or if the adapter throughput is too high. Perform the following steps to spread the load among multiple adapters: Decrease the scan frequency. Lower the amount of data selection items. \u003c!--## PI Web API and OCS user documentation PI Web API and OCS user documentation provides troubleshooting information for \u003cplaceholder\u003e --\u003e Wireshark Wireshark is a protocol-specific troubleshooting tool that supports all current adapter protocols. Perform the following steps if you want to use Wireshark to capture traffic from the data source to the adapter or from the adapter to the OMF destination. Download Wireshark . Familiarize yourself with the tool and read the Wireshark user guide . Health and diagnostics egress to PI Web API The adapter sends health and diagnostics data to PI Web API; in some cases, conflicts may occur that are due to changes or perceived changes in PI Web API. For example, a 409 - Conflict error message displays if you upgrade your adapter version and the PI points do not match in the upgraded version. However, data is continued to be sent as long as containers are created, so buffering only starts if no containers are created. To resolve the conflict, perform the following steps: Stop the adapter. Delete the Health folder inside of the Buffers folder. Stop PI Web API. Delete the relevant adapter created AF structure. Delete the associated health and diagnostics PI points on any or all PI Data Archives created by PI Web API. Start PI Web API. Start the adapter. Adapter connection to egress endpoint Certain egress health information in both PI Web API and OCS show if an adapter connection to an egress endpoint exists. To verify an active connection, perform one of the following procedures: PI Web API connection Perform the following steps to determine if a connection to the PI Web API endpoint exists: Open PI Web API. Select the OmfEgress component of your adapter, for example GVAdapterUbuntu.OpcUa.OmfEgress . Make sure that the following PI points have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate OCS connection Perform the following steps to determine if a connection to the OCS endpoint exists: Open OCS. Click Sequential Data Store \u003e Streams . Makes sure that the following streams have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate TCP connection Perform the following steps to see all established TCP sessions in Linux: Open a terminal. Type the following command: ss -o state established -t -p Press Enter."
                                                                   },
    "V1.2/pi-adapter-for-opc-ua-overview.html":  {
                                                     "href":  "V1.2/pi-adapter-for-opc-ua-overview.html",
                                                     "title":  "PI Adapter for OPC UA overview",
                                                     "keywords":  "PI Adapter for OPC UA overview The PI Adapter for OPC UA is a data-collection component that transfers time-series data from source devices to OMF endpoints in OSIsoft Cloud Services or PI Servers. OPC UA (OPC Unified Architecture) is an open standard, machine-to-machine communication protocol for industrial automation developed by the OPC Foundation. The adapter can connect to any device that uses the OPC UA communication protocol. Adapter installation You can install the adapter with a download kit that you can obtain from the OSIsoft Customer Portal. You can install the adapter on devices running either Windows or Linux operating systems. Adapter configuration Using REST API, you can configure all functions of the adapter. The configurations are stored in JSON files. For data ingress, you must define an adapter component in the system components configuration for each device to which the adapter will connect. You configure each adapter component with the connection information for the device and the data to collect. For data egress, you must specify destinations for the data, including security for the outgoing connection. Additional configurations are available to egress health and diagnostics data, add buffering configuration to protect against data loss, and record logging information for troubleshooting purposes. Once you have configured the adapter and it is sending data, you can use administration functions to manage the adapter or individual ingress components of the adapter. Health and diagnostics functions monitor the status of connected devices, adapter system functions, the number of active data streams, the rate of data ingress, the rate of errors, and the rate of data egress. EdgeCmd utility OSIsoft also provides the EdgeCmd utility, a proprietary command line tool to configure and administer an adapter on both Linux and Windows operating systems. EdgeCmd utility is installed separately from the adapter."
                                                 },
    "V1.2/PI-Adapter-for-OPC-UA-overview/pi-adapter-for-opc-ua-principles-of-operation.html":  {
                                                                                                   "href":  "V1.2/PI-Adapter-for-OPC-UA-overview/pi-adapter-for-opc-ua-principles-of-operation.html",
                                                                                                   "title":  "PI Adapter for OPC UA principles of operation",
                                                                                                   "keywords":  "PI Adapter for OPC UA principles of operation This adapter\u0027s operations focus on data collection and stream creation. Adapter configuration For the OPC UA adapter to start data collection, configure the following: Data source: Provide the data source from which the adapter should collect data. Data selection: Select the OPC UA items to which the adapter should subscribe for data. Logging: Set up the logging attributes to manage the adapter logging behavior. For more information, see PI Adapter for OPC UA data source configuration and PI Adapter for OPC UA data selection configuration . Connection The OPC UA adapter uses the binary opc.tcp protocol to communicate with the OPC UA servers. As part of the OPC UA server and client establishing a secured connection, each one sends its X.509-type certificate to the other for verification. Upon verification of the certificates, the server and client establishes a secured connection. For more information on secure connections, see PI Adapter for OPC UA security configuration . Data collection The OPC UA adapter collects time-series data from selected OPC UA dynamic variables through OPC UA subscriptions (unsolicited reads). The adapter supports the Data Access (DA) part of OPC UA specification. For more information, see Unified Architecture (https://opcfoundation.org/developer-tools/specifications-unified-architecture/part-8-data-access) (https:  opcfoundation.org developer-tools specifications-unified-architecture part-8-data-access) . Data types The following table lists OPC UA variable types that the adapter collects data from and types of streams that will be created. OPC UA data type Stream data type Boolean Boolean Byte Int16 SByte Int16 Int16 Int16 UInt16 UInt16 Int32 Int32 UInt32 UInt32 Int64 Int64 UInt64 UInt64 Float Float32 Double Float64 DateTime DateTime String String Stream creation The OPC UA adapter creates a stream with two properties for each selected OPC UA item. The properties are described in the following table: Property name Data type Description Timestamp DateTime Timestamp of the given OPC UA item value update. Value Based on type of incoming OPC UA value Value of the given OPC UA item update, which includes multiple properties in addition to the data value. Note: For OPC UA items that support EURange, the additional Minimum /   Maximum properties in OCS and the Zero /   Span properties in PI Web API are populated. For OPC UA items that support EngineeringUnits, such as AnalogItem, the additional UOM property in OCS and the Eng Units property in PI Web API are populated. The OPC UA adapter sends metadata with each stream it creates. Metadata common for every adapter type are ComponentId : Specifies the data source, for example OpcUa1 ComponentType : Specifies the type of adapter, for example OpcUa Metadata specific to the OPC UA adapter are BrowseName : The browse name as provided by the OPC UA server SourceId : The NodeId provided by the OPC UA server Note: A configured metadata level allows you to set the amount of metadata for the adapter. Specify the metadata level in General configuration . For the OPC UA adapter, the following metadata is sent for the individual level: None : No metadata Low : AdapterType (ComponentType) and DataSource (ComponentId) Medium : AdapterType (ComponentType), DataSource (ComponentId), BrowseName, and DisplayName High : AdapterType (ComponentType), DataSource (ComponentId), BrowseName, DisplayName, and SourceId Each stream created by the adapter for a given OPC UA item has a unique identifier (Stream ID). If you specify a custom stream ID for the OPC UA item in data selection configuration, the OPC UA adapter uses that stream ID to create the stream. Otherwise, the adapter constructs the stream ID using the following format, which is constructed from the OPC UA item node ID: \u003cAdapterComponentID\u003e.\u003cNamespaceIndex\u003e.\u003cIdentifier\u003e NamespaceIndex refers to the number specified in the ns keyword in the RootNodeIds parameter of the data source configuration. For more information, see PI Adapter for OPC UA data source configuration . Note: The naming convention is affected by StreamPrefix and DefaultStreamIdPattern settings in data source configuration."
                                                                                               },
    "V1.2/README.html":  {
                             "href":  "V1.2/README.html",
                             "title":  "PI Adapter for OPC UA",
                             "keywords":  "PI Adapter for OPC UA PI Adapter for OPC UA is a data-collection component that transfers time-series data from source devices to OMF (OSIsoft Message Format) endpoints in OSIsoft Cloud Services or PI Servers. This repository contains the documentation for PI Adapter for OPC UA. You can access a readable version of this documentation here. License ?? 2020 by OSIsoft, LLC. All rights reserved. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 http:  www.apache.org licenses LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."
                         },
    "V1.2/Release-notes/release-notes.html":  {
                                                  "href":  "V1.2/Release-notes/release-notes.html",
                                                  "title":  "Release notes",
                                                  "keywords":  "Release notes PI Adapter for OPC UA 1.1 Overview This represents the initial standalone release for PI Adapter for OPC UA. This product collects time series data and relevant metadata from an OPC UA (OPC Unified Architecture) server and sends it to configured OMF endpoints such as PI Web API and OSIsoft Cloud Services. PI Adapter for OPC UA can also collect health and diagnostics information. It supports buffering, unsolicited data collection, automatic discovery of available data items on a data source, and various Windows and Linux-based operating systems as well as containerization. For more information see PI Adapter for OPC UA overview . Known issues There are no known issues at this time. System requirements Refer to System requirements . Installation Refer to Install the adapter . Uninstallation Refer to Uninstall the adapter . Security information and guidance OSIsoft???s commitment Because the PI System often serves as a barrier protecting control system networks and mission-critical infrastructure assets, OSIsoft is committed to (1) delivering a high-quality product and (2) communicating clearly what security issues have been addressed. This release of PI Adapter for OPC UA is the highest quality and most secure version of the PI Adapter for OPC UA released to date. OSIsoft\u0027s commitment to improving the PI System is ongoing, and each future version should raise the quality and security bar even further. Vulnerability communication The practice of publicly disclosing internally discovered vulnerabilities is consistent with the Common Industrial Control System Vulnerability Disclosure Framework developed by the Industrial Control Systems Joint Working Group (ICSJWG). Despite the increased risk posed by greater transparency, OSIsoft is sharing this information to help you make an informed decision about when to upgrade to ensure your PI System has the best available protection. For more information, refer to OSIsoft???s Ethical Disclosure Policy (https://www.osisoft.com/ethical-disclosure-policy) (https:  www.osisoft.com ethical-disclosure-policy) . To report a security vulnerability, refer to OSIsoft\u0027s Report a Security Vulnerability (https://www.osisoft.com/report-a-security-vulnerability) (https:  www.osisoft.com report-a-security-vulnerability) . Vulnerability scoring OSIsoft has selected the Common Vulnerability Scoring System (CVSS) to quantify the severity of security vulnerabilities for disclosure. To calculate the CVSS scores, OSIsoft uses the National Vulnerability Database (NVD) calculator maintained by the National Institute of Standards and Technology (NIST). OSIsoft uses Critical, High, Medium and Low categories to aggregate the CVSS Base scores. This removes some of the opinion related errors of CVSS scoring. As noted in the CVSS specification, Base score range from 0 for the lowest severity to 10 for the highest severity. Overview of new vulnerabilities found or fixed This section is intended to provide relevant security-related information to guide your installation or upgrade decision. OSIsoft is proactively disclosing aggregate information about the number and severity of PI Adapter for OPC UA security vulnerabilities that are fixed in this release. No security-related information is applicable to this release. Technical support and resources Refer to Technical support and feedback ."
                                              },
    "V1.2/Troubleshooting/troubleshoot-pi-adapter-for-opc-ua.html":  {
                                                                         "href":  "V1.2/Troubleshooting/troubleshoot-pi-adapter-for-opc-ua.html",
                                                                         "title":  "Troubleshoot PI Adapter for OPC UA",
                                                                         "keywords":  "Troubleshoot PI Adapter for OPC UA To troubleshoot issues with PI Adapter for OPC UA, you can check the adapter\u0027s configuration, connectivity, and logs, as detailed in the following sections. If you are unable to resolve issues with the adapter or need additional guidance, contact OSIsoft Technical Support. Check configurations In the data source configuration , verify that the configured EndpointURL and RootNodeIds , and if specified, the UserName and Password are correct. In the data selection configuration , verify that each configured data selection item below is correct. NodeId - Verify that the referenced root node exists in the data source configuration. DataFilterId - If configured, verify that the referenced data filter exists. In the egress endpoints configuration , verify that each configured endpoint\u0027s Endpoint property and credentials are correct. For a PI server or EDS endpoint, verify UserName and Password , for an OCS endpoint, verify ClientId and ClientSecret . Check connectivity Verify there are active connections to the data source and egress endpoints. If you configured a health endpoint, use it to determine the status of the adapter. For more information, see Health and diagnostics . Check logs Check the adapter and endpoint logs to isolate issues. Optional: Change the log level of the adapter to receive additional information and context. For more information, see Logging configuration ."
                                                                     },
    "V1/ARCHIVE/OSIsoft Adapter for OPC UA supported features.html":  {
                                                                          "href":  "V1/ARCHIVE/OSIsoft Adapter for OPC UA supported features.html",
                                                                          "title":  "PI Adapter for OPC UA supported features",
                                                                          "keywords":  "PI Adapter for OPC UA supported features Data types The following table lists OPC UA variable types that the adapter supports data collection from and types of streams that are going to be created. OPC UA data type Stream data type Boolean Boolean Byte Int16 SByte Int16 Int16 Int16 UInt16 UInt16 Int32 Int32 UInt32 UInt32 Int64 Int64 UInt64 UInt64 Float Float32 Double Float64 DateTime DateTime String String Export operation The adapter is able to export available OPC UA dynamic variables by browsing the OPC UA hierarchies or sub-hierarchies. Export operation actions To limit browsing, specify a comma-separated collection of nodeIds in data source configuration (RootNodeIds). Note: They are treated as roots from where the adapter starts the browse operation. The adapter triggers an export operation after a successful connection to the OPC UA server when the data selection file does not exist in configuration directory. Copy the exported data selection JSON file from the directory or retrieve it using a REST API call. Optional: To avoid a potentially long and expensive browse operation, create the data selection file manually. Configure it before you configure the data source or push both in one configuration call together."
                                                                      },
    "V1/Configuration/Configuration.html":  {
                                                "href":  "V1/Configuration/Configuration.html",
                                                "title":  "Configuration",
                                                "keywords":  "Configuration PI Adapter for OPC UA enables you to configure data source and data selection. The adapter also provides the ability to configure security and to generate a data selection file instead of manual configuration. The examples in the configuration topics use curl , a commonly available tool on both Windows and Linux. The adapter can be configured with any programming language or tool that supports making REST calls, or with the EdgeCmd utility. For more information, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . To validate successful configurations, you can perform data retrieval (GET commands) using a browser, if available on your device. For more information on PI adapter configuration tools, see Configuration tools . Quick start Complete the following steps to establish a data flow from an OPC UA data source device to a data endpoint. Configure one or several OPC UA system components. See System components configuration . Configure an OPC UA data source for each OPC UA device. See PI Adapter for OPC UA data source configuration . Configure an OPC UA data selection for each OPC UA data source. See PI Adapter for OPC UA data selection configuration . Note: If you do not configure data selection, a default OPC UA data selection file will be created if the OPC UA data source is valid. Configure one or several egress endpoints. See Egress endpoints configuration ."
                                            },
    "V1/Configuration/pi-adapter-for-opc-ua-client-settings-configuration.html":  {
                                                                                      "href":  "V1/Configuration/pi-adapter-for-opc-ua-client-settings-configuration.html",
                                                                                      "title":  "PI Adapter for OPC UA client settings configuration",
                                                                                      "keywords":  "PI Adapter for OPC UA client settings configuration The client settings configuration is automatically generated when a new data source is added. If you experience problems with timeouts or when OPC UA limits are exceeded in terms of browse or subscription operation, you can change the client settings configuration. Generate default OPC UA client settings configuration file If a valid data source exists, the adapter is running, and you do not want to configure OPC UA client settings, you can choose to generate a default OPC UA client settings file. Complete the following steps to generate the default client settings file: Add an OPC UA adapter with a unique ComponentId . For more information, see System components configuration . Configure a valid OPC UA data source. For more information, see PI Adapter for OPC UA data source configuration . Once you complete these steps, a default OPC UA client settings configuration file is generated in the configuration directory for the corresponding platform. The following are example locations of the file created. In this example, it is assumed that the ComponentId of the OPC UA component is OpcUa1: Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Configuration\\OpcUa1_ClientSettings.json Linux: /usr/share/OSIsoft/Adapters/OpcUa/Configuration/OpcUa1_ClientSettings.json  usr share OSIsoft Adapters OpcUa Configuration OpcUa1_ClientSettings.json Configure OPC UA client settings Complete the following steps to configure the OPC UA client settings: Using any text editor, create a file that contains the OPC UA client settings in the JSON format. For content structure, see OPC UA client settings example . For all available parameters, see OPC UA client settings . Save the file. For example, ConfigureClientSettings.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command to its appropriate endpoint: Note: The following example uses OpcUa1 as the adapter component name. For more information on how to add a component, see System components configuration . 5590 is the default port number. If you selected a different port number, replace it with that value. PUT endpoint: http://localhost:5590/api/v1/configuration/\u003ccomponentId\u003e/ClientSettings/ http:  localhost:5590 api v1 configuration \u003ccomponentId\u003e ClientSettings  Example using curl : curl -d \"@ConfigureClientSettings.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OpcUa1/ClientSettings\" \"http:  localhost:5590 api v1 configuration OpcUa1 ClientSettings\" Note: Run this command from the same directory where the file is located. OPC UA client settings schema The full schema definition for the OPC UA client settings configuration is in the OpcUa_ClientSettings_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\OpcUa\\Schemas Linux: /opt/OSIsoft/Adapters/OpcUa/Schemas  opt OSIsoft Adapters OpcUa Schemas OPC UA client settings parameters The following parameters are available for configuring OPC UA client settings: Note : All intervals, delays, and timeouts require the string to be formatted like this: \\[d:\\]h:mm:ss\\[.FFFFFFF\\] where the items in brackets are optional. d = days, h = hours, mm = minutes, ss = seconds, F = fractional portion of a second. Example: \"05:07:10:40.150\" for 5 days, 7 hours, 10 minutes, 40 seconds, and .150 seconds. Parameter Required Type Description MaxBrowseReferencesToReturn Optional integer Maximum number of references returned from browse call. Minimum value: 0 Maximum value: 4294967295 Default value: 0 BrowseBlockSize Optional integer Maximum number of nodes to browse in one call. Minimum value: 1 Maximum value: 429496729 Default value: 10 ReadBlockSize Optional integer Maximum number of variables to read in one call. Minimum value: 0 Maximum value: 429496729 Default value: 1000 ReconnectDelay Optional TimeSpan Delay between reconnection attempts. * Allowed value: cannot be negative Default value: 0:02:20 RecreateSubscriptionDelay Optional TimeSpan Delay between successful reconnection and subsequent subscription recreation. * Allowed value: cannot be negative Default value: 0:00:10 SessionRequestTimeout Optional TimeSpan Default request timeout. * Allowed value: greater than 00:00:05 Default value: 0:02:00 ConnectionTimeout Optional TimeSpan Connection timeout. * Allowed value: greater than 00:00:05 Default value: 0:00:30 SessionAllowInsecureCredentials Optional boolean When set to true credentials can be communicated over unencrypted channel. Allowed value: true or false Default value: false SessionMaxOperationsPerRequest Optional integer Default maximum operation per request. Minimum value: 0 Maximum value: 429496729 Default value: 1000 BrowseTimeout Optional TimeSpan Browse operation timeout. * Allowed value: greater than 00:00:05 Default value: 0:01:00 ReadTimeout Optional TimeSpan Read operation timeout. * Allowed value: greater than 00:00:05 Default value: 0:00:30 MaxMonitoredItemsPerCall Optional integer Maximum number of monitored items that can be added to subscription in one call. Minimum value: 1 Maximum value: 429496729 Default value: 1000 MaxNotificationsPerPublish Optional integer Maximum notification messages in one publish message. Minimum value: 0 Maximum value: 429496729 Default value: 0 PublishingInterval Optional TimeSpan Publishing interval of the subscription. * Allowed value: cannot be negative Default value: 0:00:01 CreateMonitoredItemsTimeout Optional TimeSpan Create monitored items timeout. * Allowed value: greater than 00:00:05 Default value: 0:00:30 SamplingInterval Optional TimeSpan Monitored item sampling interval. * Allowed value: cannot be negative Default value: 0:00:00:5 MonitoredItemQueueSize Optional integer Monitored item queue size. Minimum value: 1 Maximum value: 429496729 Default value: 2 MaxInternalQueueSize Optional integer Maximum number of items that can be in the adapter internal queue. Minimum value: 1000 Maximum value: 2147483647 Default value: 500000 * Note: You can also specify timespans as numbers in seconds. For example, \"ReconnectDelay\": 25 specifies 25 seconds, or \"ReconnectDelay\": 125.5 specifies 2 minutes and 5.5 seconds. OPC UA client settings example { \"maxBrowseReferencesToReturn\": 0, \"BrowseBlockSize\": 10, \"ReadBlockSize\": 1000, \"reconnectDelay\": \"0:00:30\", \"recreateSubscriptionDelay\": \"0:00:05\", \"sessionRequestTimeout\": \"0:02:00\", \"connectionTimeout\": \"0:00:30\", \"sessionAllowInsecureCredentials\": false, \"sessionMaxOperationsPerRequest\": 1000, \"browseTimeout\": \"0:01:00\", \"ReadTimeout\": \"0:00:30\", \"maxMonitoredItemsPerCall\": 1000, \"maxNotificationsPerPublish\": 0, \"publishingInterval\": \"0:00:01\", \"createMonitoredItemsTimeout\": \"0:00:30\", \"samplingInterval\": \"0:00:00.5\", \"monitoredItemQueueSize\": 2, \"maxInternalQueueSize\": 500000 } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /ClientSettings  ClientSettings GET Retrieves the OPC UA client settings configuration api/v1/configuration/ api v1 configuration  ComponentId /ClientSettings  ClientSettings PUT Configures or updates the OPC UA client settings configuration api/v1/configuration/ api v1 configuration  ComponentId /ClientSettings  ClientSettings DELETE Deletes the OPC UA client settings configuration api/v1/configuration/ api v1 configuration  ComponentId /ClientSettings  ClientSettings PATCH Allows partial updating of configured client settings fields. Note: Replace ComponentId with the Id of your OPC UA component, for example OpcUa1."
                                                                                  },
    "V1/Configuration/pi-adapter-for-opc-ua-data-selection-configuration.html":  {
                                                                                     "href":  "V1/Configuration/pi-adapter-for-opc-ua-data-selection-configuration.html",
                                                                                     "title":  "PI Adapter for OPC UA data selection configuration",
                                                                                     "keywords":  "PI Adapter for OPC UA data selection configuration In addition to the data source configuration, you need to provide a data selection configuration to specify the data you want the adapter to collect from the data sources. When you add a data source without providing a data selection configuration, the adapter browses the OPC UA server address space and populates the available OPC UA variables into the data selection configuration. A comma-separated collection of nodeIds (RootNodeIds) in the data source configuration serves as filters to browse only a subset of the OPC UA server. Data selection items configured this way must still be selected for data retrieval. OPC UA data from OPC UA variables is read through subscriptions (unsolicited reads). You can decide to have the data selection configuration file generated automatically or you can create it manually yourself. Generate default OPC UA data selection configuration file A default OPC UA data selection file will be created if there is no OPC UA data selection configuration although a valid data source exists. Note: To avoid possible time and resource expensive browse operations due to reasons described previously, OSIsoft recommends that you manually create a data selection file instead of automatically creating the default data selection file. For more information, see Configure OPC UA data selection . Complete the following steps to generate a default data selection file: Add an OPC UA adapter with a unique ComponentId. For more information, see System components configuration . Configure a valid OPC UA data source. For more information, see PI Adapter for OPC UA data source configuration . Once you complete these steps, a default OPC UA data selection configuration file will be generated in the configuration directory for the corresponding platform. The following are example locations of the file created. In this example, it is assumed that the ComponentId of the OPC UA component is OpcUa1: Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\OpcUa\\Configuration\\OpcUa1_DataSelection.json Linux: /usr/share/OSIsoft/Adapters/OpcUa/OpcUa/Configuration/OpcUa1_DataSelection.json  usr share OSIsoft Adapters OpcUa OpcUa Configuration OpcUa1_DataSelection.json Copy the file to a different directory. For content structure, see OPC UA data selection example . Use any text editor to change the value of any Selected key from false to true in the file. Once the configuration is updated, the adapter will subscribe to data for all items that are set to Selected=true . In the same directory where you edited the file, run the following curl command: Note: 5590 is the default port number. If you selected a different port number, replace it with that value. curl -d \"@OpcUa1_DataSelection.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OpcUa1/Dataselection\" \"http:  localhost:5590 api v1 configuration OpcUa1 Dataselection\" Configure OPC UA data selection Note: You cannot modify OPC UA data selection configurations manually. You must use the REST endpoints to add or edit the configuration. Complete the following steps to configure the OPC UA data selection: Use any text editor to create a file that contains an OPC UA data selection in the JSON format. For content structure, see OPC UA data selection example . For a table of all available parameters, see OPC UA data selection . Save the file. For example, ConfigureDataSelection.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint: Note: The following examples use OpcUa1 as the adapter component name. For more information on how to add a component, see System components configuration . 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/\u003ccomponentId\u003e/DataSelection/ http:  localhost:5590 api v1 configuration \u003ccomponentId\u003e DataSelection  Example using curl : curl -d \"@ConfigureDataSelection.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/OpcUa1/DataSelection\" \"http:  localhost:5590 api v1 configuration OpcUa1 DataSelection\" Note: Run this command from the same directory where the file is located. PUT endpoint: http://localhost:5590/api/v1/configuration/\u003ccomponentId\u003e/DataSelection/\u003cStreamId\u003e http:  localhost:5590 api v1 configuration \u003ccomponentId\u003e DataSelection \u003cStreamId\u003e Example using curl : curl -d \"@ConfigureDataSelection.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OpcUa1/DataSelection/ns=5;s=Random1\" \"http:  localhost:5590 api v1 configuration OpcUa1 DataSelection ns=5;s=Random1\" Note: Run this command from the same directory where the file is located. OPC UA data selection schema The full schema definition for the OPC UA data selection configuration is in the OpcUa_DataSelection_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\OpcUa\\Schemas Linux: /opt/OSIsoft/Adapters/OpcUa/Schemas  opt OSIsoft Adapters OpcUa Schemas OPC UA data selection parameters The following parameters are available for configuring an OPC UA data selection: Parameter Required Type Description Selected Optional boolean Use this field to select or clear a measurement. To select an item, set to true. To remove an item, leave the field empty or set to false. Allowed value: true or false Default value: true Name Optional string Name of the data item collected from the data source. Default value: null results in StreamId value being used also as a Name NodeId Required string The NodeId of the variable. Examples \"ns=5;AString\" \"ns=2;i=203\" \"ns=\u003cNamespaceIndex\u003e;\u003cIdentifierType\u003e=\u003cIdentifer\u003e\" StreamID Optional string The custom stream ID used to create the streams. If not specified, the adapter will generate a default stream ID based on the measurement configuration. The StreamId serves as the unique identifier of a data selection item. A properly configured custom stream ID follows these rules: Is not case-sensitive. Can contain spaces. Cannot start with two underscores (\"__\"). Can contain a maximum of 100 characters. Cannot use the following characters: /   : ? # [ ] @ ! $ \u0026 \u0027 ( ) \\ * + , ; = % \u003c \u003e | Cannot start or end with a period. Cannot contain consecutive periods. Cannot consist of only periods. DataFilterID Optional string The ID of the data filter. Allowed value: any string Default value: null OPC UA data selection example The following are examples of valid OPC UA data selection configurations: Minimal data selection configuration [ { \"NodeId\": \"ns=5;s=Random1\" }, { \"NodeId\": \"ns=5;s=Sawtooth1\" }, { \"NodeId\": \"ns=5;s=Sinusoid1\" } ] Complete data selection configuration [ { \"Selected\": true, \"Name\": \"CustomStreamName\", \"NodeId\": \"ns=5;s=Random1\", \"StreamId\": \"CustomStreamName\" }, { \"Selected\": false, \"Name\": null, \"NodeId\": \"ns=5;s=Sawtooth1\", \"StreamId\": null }, { \"Selected\": true, \"Name\": \"5.Sinusoid1\", \"NodeId\": \"ns=5;s=Sinusoid1\", \"StreamId\": null } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataSelection  DataSelection GET Retrieves the OPC UA data selection configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSelection  DataSelection PUT Configures or updates the OPC UA data selection configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSelection  DataSelection DELETE Deletes the OPC UA data selection configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSelection  DataSelection PATCH Allows partial updating of configured data selection items. Note: The request must be an array containing one or more data selection items. Each data selection item in the array must include its StreamId . api/v1/configuration/ api v1 configuration  ComponentId /DataSelection/  DataSelection  StreamId PUT Updates or creates a new data selection with the specified StreamId api/v1/configuration/ api v1 configuration  ComponentId /DataSelection/  DataSelection  StreamId DELETE Deletes a specific data selection item of the OPC UA data selection configuration Note: Replace ComponentId with the Id of your OPC UA component, for example OpcUa1."
                                                                                 },
    "V1/Configuration/pi-adapter-for-opc-ua-data-source-configuration.html":  {
                                                                                  "href":  "V1/Configuration/pi-adapter-for-opc-ua-data-source-configuration.html",
                                                                                  "title":  "PI Adapter for OPC UA data source configuration",
                                                                                  "keywords":  "PI Adapter for OPC UA data source configuration To use the adapter, you must configure the data source from which it polls data. Configure OPC UA data source Note: To modify OPC UA data source configuration, you must use the REST endpoints to add or edit the configuration. Complete the following steps to configure an OPC UA data source: Use any text editor to create a file that contains an OPC UA data source in the JSON format. For content structure, see OPC UA data source examples . For a table of all available parameters, see OPC UA data source parameters . Save the file. For example, ConfigureDataSource.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of that file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataSource/ http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataSource  . Note: The following example uses OpcUa1 as the adapter component name. For more information on how to add a component, see System components configuration . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureDataSource.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OpcUa1/DataSource\" \"http:  localhost:5590 api v1 configuration OpcUa1 DataSource\" Note: Run this command from the same directory where the file is located. Configure data selection. For more information, see PI Adapter for OPC UA data selection configuration . Note: You can decide to have a default data selection file generated automatically or you can create the data selection file yourself. OPC UA data source schema The full schema definition for the OPC UA data source configuration is in the OpcUa_DataSource_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\OpcUa\\Schemas Linux: /opt/OSIsoft/Adapters/OpcUa/Schemas  opt OSIsoft Adapters OpcUa Schemas OPC UA data source parameters The following parameters are available for configuring an OPC UA data source: Parameter Required Type Description EndpointURL Required string The endpoint URL of the OPC UA server in opc.tcp format. The following is an example of the URL format: opc.tcp://OPCServerHost:Port/OpcUa/SimulationServer opc.tcp:  OPCServerHost:Port OpcUa SimulationServer Note: If you change the EndpointURL on a configured adapter that has ComponentID_DataSelection .json file exported, you need to remove the ComponentID_DataSelection.json file from the configuration directory to trigger a new browse (export). Allowed value: well-formed opc.tcp address UseSecureConnection Optional boolean When set to true, the adapter connects to a secure endpoint using OPC UA certificate exchange operation. The default is true. When set to false, the adapter connects to an unsecured endpoint of the server and certificate exchange operation is not required. Note: OSIsoft recommends setting this option to false for testing purposes only. Allowed value: true or false Default value: true UserName Optional string User name for accessing the OPC UA server. Allowed value: any string Default value: null Password Optional string Password for accessing the OPC UA server. Note: OSIsoft recommends using REST to configure the data source when the password must be specified because REST will encrypt the password. If you do not use REST, the plain text password will be stored on-disk. Allowed value: any string Default value: null RootNodeIds Optional string List of comma-separated NodeIds of those objects from which the adapter browses the OPC UA server address space. This option allows to select only subsets of the OPC UA address by explicitly listing one or more NodeIds which are used to start the initial browse. Examples: \"ns=5;s=85/0:Simulation\" \"ns=5;s=85 0:Simulation\" \"ns=3;s=DataItems\" If not specified, it means that the whole address space will be browsed. Allowed value: comma-separated collection of node Ids Default value: null IncomingTimestamp Optional string Specifies whether the incoming timestamp is taken from the source, from the OPC UA server, or should be created by the adapter instance. Source - Default and recommended setting. The timestamp is taken from the source timestamp field. The source is what provides data for the item to the OPC UA server, such as a field device. Server - In case the OPC UA item has an invalid source timestamp field, the Server timestamp can be used. Adapter - The adapter generates a timestamp for the item upon receiving it from the OPC UA server. Allowed value: Source , Server , or Adapter Default value: Source StreamIdPrefix Optional string Specifies what prefix is used for Stream IDs. The naming convention is {StreamIdPrefix}{StreamId} . An empty string means no prefix will be added to the Stream IDs and names. A null value defaults to ComponentID followed by a period. Example: OpcUa1.{NamespaceIndex}.{Identifier} Note: Every time you change the StreamIdPrefix of a configured adapter, for example when you delete and add a data source, you need to restart the adapter for the changes to take place. New streams are created on adapter restart and pre-existing streams are no longer updated. Allowed value: any string Default value: null DefaultStreamIdPattern Optional string Specifies the default stream Id pattern to use. Possible parameters: {NamespaceIndex} 1 , {Identifier} , {Name} . Allowed value: any string Default value: {NamespaceIndex}.{Identifier} 1 NamespaceIndex refers to the number specified in the ns keyword in the RootNodeIds parameter. OPC UA data source examples The following are examples of valid OPC UA data source configurations: Minimal data source configuration { \"EndpointUrl\": \"opc.tcp://\u003cIP-Address\u003e:\u003cPort\u003e/\u003cTestOPCUAServer\u003e\" \"opc.tcp:  \u003cIP-Address\u003e:\u003cPort\u003e \u003cTestOPCUAServer\u003e\" } Complete data source configuration { \"EndpointUrl\": \"opc.tcp://\u003cIP-Address\u003e:\u003cPort\u003e/\u003cTestOPCUAServer\u003e\", \"opc.tcp:  \u003cIP-Address\u003e:\u003cPort\u003e \u003cTestOPCUAServer\u003e\", \"UseSecureConnection\": true, \"UserName\": null, \"Password\": null, \"RootNodeIds\": null, \"IncomingTimestamp\": \"Source\", \"StreamIdPrefix\": null, \"DefaultStreamIdPattern\": \"{NamespaceIndex}.{Identifier}\" } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataSource  DataSource GET Retrieves the OPC UA data source configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSource  DataSource POST Creates the OPC UA data source configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSource  DataSource PUT Configures or updates the OPC UA data source configuration api/v1/configuration/ api v1 configuration  ComponentId /DataSource  DataSource DELETE Deletes the OPC UA data source configuration Note: Replace ComponentId with the Id of your OPC UA component, for example OpcUa1."
                                                                              },
    "V1/Configuration/pi-adapter-for-opc-ua-security-configuration.html":  {
                                                                               "href":  "V1/Configuration/pi-adapter-for-opc-ua-security-configuration.html",
                                                                               "title":  "PI Adapter for OPC UA security configuration",
                                                                               "keywords":  "PI Adapter for OPC UA security configuration The OPC UA security standard is concerned with the authentication of client and server applications, the authentication of users and confidentiality of their communication. As the security model relies heavily on Transport Level Security (TLS) to establish a secure communication link with an OPC UA server, each client, including the adapter, must have a digital certificate deployed and configured. Certificates uniquely identify client applications and machines on servers, and allow for creation of a secure communication link when trusted on both sides. The adapter generates a self-signed certificate when the first secure connection attempt is made. The adapter\u0027s certificates and those of the server are stored in the certificate store which is shared between all adapter instances. Configure OPC UA adapter security Complete the following steps to configure adapter security: In your data source configuration, set UseSecureConnection to true . For more information, see PI Adapter for OPC UA data source configuration . The adapter verifies whether the server certificate is present in the adapter trusted certificates and hence trusts it. In case the certificates were not exchanged before the first attempted connection, the adapter persists the server certificate within the adapter rejected certificates folder. The following warning message about the rejected server certificate will be printed: ~~2019-09-08 11:45:48.093 +01:00~~ [Warning] Rejected Certificate: \"DC=MyServer.MyDomain.int, O=OSIsoft, CN=Simulation Manually move the server certificate from the Adapter rejected certificates location to the Adapter trusted certificates location using a file explorer or command-line interpreter. Linux example using command-line: sudo mv /usr/share/OSIsoft/Adapters/OpcUa/Certificates/rejected/certs/\u0027SimulationServer  usr share OSIsoft Adapters OpcUa Certificates rejected certs \u0027SimulationServer [F9823DCF607063DBCECCF6F8F39FD2584F46AEBB].der\u0027 /usr/share/OSIsoft/Adapters/OpcUa/Certificates/trusted/certs/  usr share OSIsoft Adapters OpcUa Certificates trusted certs  Note: Administrator or root privileges are required to perform this operation. Once the certificate is in the adapter trusted certificates folder, the adapter trusts the server and the connection attempt proceeds in making the connection call to the configured server. Add the certificate of the adapter to the server\u0027s trust store. The connection succeeds only when the adapter certificate is trusted on the server side. For more details on how to make a client certificate trusted, see your OPC UA server documentation. In general, servers work in a similar fashion to the clients, hence you can take a similar approach for making the client certificate trusted on the server side. When certificates are mutually trusted, the connection attempt succeeds and the adapter is connected to the most secure endpoint provided by the server. Certificate locations Adapter rejected certificates Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Certificates\\rejected\\certs Linux: /usr/share/OSIsoft/Adapters/OpcUa/Certificates/rejected/certs  usr share OSIsoft Adapters OpcUa Certificates rejected certs Adapter trusted certificates Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Certificates\\trusted\\certs Linux: /usr/share/OSIsoft/Adapters/OpcUa/Certificates/trusted/certs  usr share OSIsoft Adapters OpcUa Certificates trusted certs Certificate of the adapter Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Certificates\\own\\certs Linux: /usr/share/OSIsoft/Adapters/OpcUa/Certificates/own/certs  usr share OSIsoft Adapters OpcUa Certificates own certs Note: Access to the private key of the adapter requires administrator permissions. The location of the private key is the following: Windows: %programdata%\\OSIsoft\\Adapters\\OpcUa\\Certificates\\own\\private Linux: /usr/share/OSIsoft/Adapters/OpcUa/Certificates/own/private  usr share OSIsoft Adapters OpcUa Certificates own private"
                                                                           },
    "V1/index.html":  {
                          "href":  "V1/index.html",
                          "title":  "PI Adapter for OPC UA overview",
                          "keywords":  "PI Adapter for OPC UA overview The PI Adapter for OPC UA is a data-collection component that transfers time-series data from source devices to OMF endpoints in OSIsoft Cloud Services or PI Servers. OPC UA (OPC Unified Architecture) is an open standard, machine-to-machine communication protocol for industrial automation developed by the OPC Foundation. The adapter can connect to any device that uses the OPC UA communication protocol. Adapter installation You can install the adapter with a download kit that you can obtain from the OSIsoft Customer Portal. You can install the adapter on devices running either Windows or Linux operating systems. Adapter configuration Using REST API, you can configure all functions of the adapter. The configurations are stored in JSON files. For data ingress, you must define an adapter component in the system components configuration for each device to which the adapter will connect. You configure each adapter component with the connection information for the device and the data to collect. For data egress, you must specify destinations for the data, including security for the outgoing connection. Additional configurations are available to egress health and diagnostics data, add buffering configuration to protect against data loss, and record logging information for troubleshooting purposes. Once you have configured the adapter and it is sending data, you can use administration functions to manage the adapter or individual ingress components of the adapter. Health and diagnostics functions monitor the status of connected devices, adapter system functions, the number of active data streams, the rate of data ingress, the rate of errors, and the rate of data egress. EdgeCmd utility OSIsoft also provides the EdgeCmd utility, a proprietary command line tool to configure and administer an adapter on both Linux and Windows operating systems. EdgeCmd utility is installed separately from the adapter. \u003c!-- # PI Adapter for OPC UA ======= - [PI Adapter for OPC UA overview](xref:PIAdapterForOPCUAOverview) - [PI Adapter for OPC UA principles of operation](xref:PIAdapterForOPCUAPrinciplesOfOperation) - [Installation](xref:Installation) - [Install the adapter](xref:InstallTheAdapter) - [Install PI Adapter for OPC UA using Docker](xref:InstallPIAdapterForOPCUAUsingDocker) - [Uninstall the adapter](xref:UninstallTheAdapter) - [Configuration](xref:OPCUAConfiguration) - [Configuration tools](xref:ConfigurationTools) - [System components configuration](xref:SystemComponentsConfiguration) - [PI Adapter for OPC UA data source configuration](xref:PIAdapterForOPCUADataSourceConfiguration) - [PI Adapter for OPC UA data selection configuration](xref:PIAdapterForOPCUADataSelectionConfiguration) - [PI Adapter for OPC UA security configuration](xref:PIAdapterForOPCUASecurityConfiguration) - [Egress endpoints configuration](xref:EgressEndpointsConfiguration) - [Health endpoint configuration](xref:HealthEndpointConfiguration) - [Diagnostics configuration](xref:DiagnosticsConfiguration) - [Buffering configuration](xref:BufferingConfiguration) - [Logging configuration](xref:LoggingConfiguration) - [System and adapter configuration](xref:SystemAndAdapterConfiguration) - [Administration](xref:Administration) - [Start and stop an adapter](xref:StartAndStopAnAdapter) - [Start and stop ingress component](xref:StartAndStopIngressComponent) - [Retrieve product version information](xref:RetrieveProductVersionInformation) - [Delete an adapter component](xref:DeleteAnAdapterComponent) - [Health and diagnostics](xref:HealthAndDiagnostics) - [Adapter health](xref:AdapterHealth) - [Device status](xref:DeviceStatus) - [Next health message expected](xref:NextHealthMessageExpected) - [Adapter diagnostics](xref:AdapterDiagnostics) - [System](xref:System) - [Stream count](xref:StreamCount) - [IO rate](xref:IORate) - [Error rate](xref:ErrorRate) - [Egress diagnostics](xref:EgressDiagnostics) --\u003e"
                      },
    "V1/Installation/install-pi-adapter-for-opc-ua-using-docker.html":  {
                                                                            "href":  "V1/Installation/install-pi-adapter-for-opc-ua-using-docker.html",
                                                                            "title":  "Install PI Adapter for OPC UA using Docker",
                                                                            "keywords":  "Install PI Adapter for OPC UA using Docker Docker is a set of tools that you can use on Linux to manage application deployments. Note: If you want to use Docker, you must be familiar with the underlying technology and have determined that it is appropriate for your planned use of the OPC UA adapter. Docker is not a requirement to use OPC UA adapter. For more information on how to install the adapter without Docker, see Install the adapter . This topic provides examples of how to create a Docker container with the OPC UA adapter. Create a startup script for the adapter Use a text editor to create a script similar to one of the following examples: Note: The script varies slightly by processor. ARM32 #!/bin/sh #! bin sh if [ -z $portnum ] ; then exec /OpcUa_linux-arm/OSIsoft.Data.System.Host  OpcUa_linux-arm OSIsoft.Data.System.Host else exec /OpcUa_linux-arm/OSIsoft.Data.System.Host  OpcUa_linux-arm OSIsoft.Data.System.Host --port:$portnum fi ARM64 #!/bin/sh #! bin sh if [ -z $portnum ] ; then exec /OpcUa_linux-arm64/OSIsoft.Data.System.Host  OpcUa_linux-arm64 OSIsoft.Data.System.Host else exec /OpcUa_linux-arm64/OSIsoft.Data.System.Host  OpcUa_linux-arm64 OSIsoft.Data.System.Host --port:$portnum fi AMD64 #!/bin/sh #! bin sh if [ -z $portnum ] ; then exec /OpcUa_linux-x64/OSIsoft.Data.System.Host  OpcUa_linux-x64 OSIsoft.Data.System.Host else exec /OpcUa_linux-x64/OSIsoft.Data.System.Host  OpcUa_linux-x64 OSIsoft.Data.System.Host --port:$portnum fi Name the script opcuadockerstart.sh and save it to the directory where you plan to create the container. Create a Docker container containing the OPC UA adapter Create the following Dockerfile in the directory where you want to create and run the container. Note: Dockerfile is the required name of the file. Use the variation according to your operating system: ARM32 FROM ubuntu WORKDIR /   RUN apt-get update \u0026\u0026 DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libicu60 libssl1.0.0 COPY opcuadockerstart.sh /   RUN chmod +x /opcuadockerstart.sh  opcuadockerstart.sh ADD ./OpcUa_linux-arm.tar.gz . OpcUa_linux-arm.tar.gz . ENTRYPOINT [\"/opcuadockerstart.sh\"] [\" opcuadockerstart.sh\"] ARM64 FROM ubuntu WORKDIR /   RUN apt-get update \u0026\u0026 DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libicu60 libssl1.0.0 COPY opcuadockerstart.sh /   RUN chmod +x /opcuadockerstart.sh  opcuadockerstart.sh ADD ./OpcUa_linux-arm64.tar.gz . OpcUa_linux-arm64.tar.gz . ENTRYPOINT [\"/opcuadockerstart.sh\"] [\" opcuadockerstart.sh\"] AMD64 (x64) FROM ubuntu WORKDIR /   RUN apt-get update \u0026\u0026 DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends libicu60 libssl1.0.0 COPY opcuadockerstart.sh /   RUN chmod +x /opcuadockerstart.sh  opcuadockerstart.sh ADD ./OpcUa_linux-x64.tar.gz . OpcUa_linux-x64.tar.gz . ENTRYPOINT [\"/opcuadockerstart.sh\"] [\" opcuadockerstart.sh\"] Copy the OpcUa_linux-\u003cplatform\u003e.tar.gz file to the same directory as the Dockerfile. Copy the opcuadockerstart.sh script to the same directory. Run the following command line in the same directory (sudo may be necessary): docker build -t opcuaadapter . Run the OPC UA adapter Docker container REST access from the local host to the Docker container Complete the following steps to run the container: Use the docker container image opcuaadapter created previously. Type the following in the command line (sudo may be necessary): docker run -d --network host opcuaadapter Port 5590 is accessible from the host and you can make REST calls to OPC UA adapter from applications on the local host computer. In this example, all data stored by the OPC UA adapter is stored in the container itself. Note: When the container is deleted, the data stored is also deleted. Provide persistent storage for the Docker container Complete the following steps to run the container: Use the docker container image opcuaadapter created previously. Type the following in the command line (sudo may be necessary): docker run -d --network host -v /opcua:/usr/share/OSIsoft/  opcua: usr share OSIsoft  opcuaadapter Port 5590 is accessible from the host and you can make REST calls to OPC UA adapter from applications on the local host computer. In this example, all data that is written to the container is instead written to the host directory. In this example, the host directory is a directory on the local machine, /opcua  opcua . You can specify any directory. Port number change To use a different port other than 5590 you can specify a portnum variable on the docker run command line. For example, to start the adapter using port 6000 instead of 5590, use the following command: docker run -d -e portnum=6000 --network host opcuaadapter This command accesses the REST API with port 6000 instead of port 5590 . The following curl command returns the configuration for the container. curl http://localhost:6000/api/v1/configuration http:  localhost:6000 api v1 configuration Remove REST access to the Docker container If you remove the --network host option from the docker run command, REST access is not possible from outside the container. This may be of value where you want to host an application in the same container as OPC UA adapter but do not want to have external REST access enabled."
                                                                        },
    "V1/Installation/system-requirements.html":  {
                                                     "href":  "V1/Installation/system-requirements.html",
                                                     "title":  "System requirements",
                                                     "keywords":  "System requirements PI Adapter for OPC UA is supported on a variety of platforms and processors. Install kits are available for the following platforms: Operating System Platform Installation Kit Processor(s) Windows 10 Enterprise Windows 10 IoT Enterprise x64 OpcUa_win10-x64.msi Intel/AMD Intel AMD 64-bit processors Debian 9, 10 Ubuntu 18.04, 20.04 x64 OpcUa_linux-x64.deb Intel/AMD Intel AMD 64-bit processors Debian 9,10 Ubuntu 18.04, 20.04 ARM32 OpcUa_linux-arm.deb ARM 32-bit processors Debian 9,10 Ubuntu 18.04, 20.04 ARM64 OpcUa_linux-arm64.deb ARM 64-bit processors Alternatively, you can use tar.gz files with binaries to build your own custom installers or containers for Linux. For more information on installing PI Adapter for OPC UA with Docker containers, see Install PI Adapter for OPC UA using Docker ."
                                                 },
    "V1/Main/README.html":  {
                                "href":  "V1/Main/README.html",
                                "title":  "PI Adapter Docs",
                                "keywords":  "PI Adapter Docs"
                            },
    "V1/Main/Templates/Markdown Release Notes template-V1.html":  {
                                                                      "href":  "V1/Main/Templates/Markdown Release Notes template-V1.html",
                                                                      "title":  "Release notes",
                                                                      "keywords":  "Release notes { Product version x.x } Overview \u003c!--Insert a brief description of your product here and a cross-reference for more information. If these release notes cover service packs or patches in addition to the major release numbers, briefly identify each version covered.--\u003e Fixes and enhancements \u003c!--*Remove this section if this is the first release of a product. If multiple releases are covered by this note, for example, if service packs and patches are added, these can either be sectioned by release, or, if lengthy, can have sub-pages per release.* --\u003e Fixes The following items were resolved in release { x.x.x.xxxx } - { mm/dd/yyyy mm dd yyyy } : \u003c!-- Use table style:--\u003e Item Description { work item # } { work item release note } Enhancements The following features were added in release { x.x.x.xxxx } - { mm/dd/yyyy mm dd yyyy } : \u003c!--*Use bullet style:*--\u003e { new feature } { new feature } \u003c!--OR *Use table style:*--\u003e Item Description { work item # } { feature description } Known issues The following problems and enhancements have been deferred until a future release. \u003c!--*Use bullets and tables as necessary (table format below).* --\u003e Item Description { item # } { problem/enhancement problem enhancement description } System requirements \u003c!--*Provide a cross-reference to the system requirements section. For example,*--\u003e Refer to System requirements . Installation and upgrade \u003c!--*Provide a cross-reference to the installation procedure. For example,*--\u003e Refer to Install the adapter . Uninstallation \u003c!--*Provide a cross-reference to the uninstallation procedure. For example,*--\u003e Refer to Uninstall the adapter . Security information and guidance OSIsoft???s commitment Because the PI System often serves as a barrier protecting control system networks and mission-critical infrastructure assets, OSIsoft is committed to (1) delivering a high-quality product and (2) communicating clearly what security issues have been addressed. This release of { product name } is the highest quality and most secure version of the { product name } released to date. OSIsoft\u0027s commitment to improving the PI System is ongoing, and each future version should raise the quality and security bar even further. Vulnerability communication The practice of publicly disclosing internally discovered vulnerabilities is consistent with the Common Industrial Control System Vulnerability Disclosure Framework developed by the Industrial Control Systems Joint Working Group (ICSJWG). Despite the increased risk posed by greater transparency, OSIsoft is sharing this information to help you make an informed decision about when to upgrade to ensure your PI System has the best available protection. For more information, refer to OSIsoft???s Ethical Disclosure Policy (https://www.osisoft.com/ethical-disclosure-policy) (https:  www.osisoft.com ethical-disclosure-policy) . To report a security vulnerability, refer to OSIsoft\u0027s Report a Security Vulnerability (https://www.osisoft.com/report-a-security-vulnerability) (https:  www.osisoft.com report-a-security-vulnerability) . Vulnerability scoring OSIsoft has selected the Common Vulnerability Scoring System (CVSS) to quantify the severity of security vulnerabilities for disclosure. To calculate the CVSS scores, OSIsoft uses the National Vulnerability Database (NVD) calculator maintained by the National Institute of Standards and Technology (NIST). OSIsoft uses Critical, High, Medium and Low categories to aggregate the CVSS Base scores. This removes some of the opinion related errors of CVSS scoring. As noted in the CVSS specification, Base score range from 0 for the lowest severity to 10 for the highest severity. Overview of new vulnerabilities found or fixed This section is intended to provide relevant security-related information to guide your installation or upgrade decision. OSIsoft is proactively disclosing aggregate information about the number and severity of { product name } security vulnerabilities that are fixed in this release. \u003c!--*Provide an overview of the types of security vulnerabilities fixed in this release*--\u003e \u003c!--*NOTE: If NO security vulnerabilities are identified in the current release, please use the following statement:*--\u003e No security-related information is applicable to this release \u003c!--*When vulnerabilities exist, product teams should decide which format works best specific to the release and/or and or is applicable. Two different samples are provided below.*--\u003e Sample A - For this release of the { product name } , { x number } of security vulnerability has been identified and fixed. Based on the CVSS scoring system this issue has been categorized as a High (7.0 ??? 8.9). This high-level security issue is network accessible and has been resolved in the { product release name } . To reduce exposure to this security issue, either limit access to the port used by the PI SQL products, or upgrade to the latest release. Sample A with OSIsoft sub-component - Based on the CVSS scoring system this issue has been categorized as a High (7.0 ??? 8.9). This high-level security issue has been resolved in { OSIsoft???s PI SDK version 1.1 sub-component } which has been packaged in this { PI ProcessBook 1998 release } . To reduce exposure to this security issue upgrade to the latest release. Sample A with 3rd Party sub-component - Based on the CVSS scoring system this issue has been categorized as a High (7.0 ??? 8.9). This high-level security issue has been resolved in the 3rd Party { OpenSSL sub-component } which has been packaged in this { PI Adapter for OPC UA 1.2 } release . To reduce exposure to this security issue upgrade to the latest release. Sample B - For this release of the { product name } , {x number} of security vulnerability has been identified and fixed. The table below provides an overview of the types and severity of the security fixes. Security vulnerabilities fixed in this release Severity category CVSS base score range Number of fixed vulnerabilities Critical 9.0-10 { quantity } High 7.0-8.9 { quantity } Medium 4.0-6.9 { quantity } Low 0-3.9 { quantity } Sample B with sub-components - For this release of the {product name} , {x number} of security vulnerability has been identified and fixed. The tables below provide an overview of the types and severity of the security fixes. { Some/All Some All } of the vulnerabilities were associated with {OSIsoft/3rd {OSIsoft 3rd Party} sub-component { name } which is packaged in this release. Summary of security vulnerabilities fixed in this release Severity category CVSS base score range Number of fixed vulnerabilities Critical 9.0-10 { quantity } High 7.0-8.9 { quantity } Medium 4.0-6.9 { quantity } Low 0-3.9 { quantity } Security vulnerabilities fixed in the {OSIsoft/3rd {OSIsoft 3rd Party} sub-component { name } Severity category CVSS base score range Number of fixed vulnerabilities Critical 9.0-10 { quantity } High 7.0-8.9 { quantity } Medium 4.0-6.9 { quantity } Low 0-3.9 { quantity } \u003c!--*Optional ???Microsoft Software Security Defenses topic below??? (applies to C++ projects)*--\u003e Microsoft software security defenses In addition to finding and fixing security bugs within the { product name } , it is equally critical that OSIsoft leverage security defenses provided by the Microsoft Visual C++ compiler that builds it and the Microsoft Windows operating system that runs it. Over the past decade, Microsoft has continually added new defenses and improved existing defenses with successive versions of the compiler and the operating system. To learn more about many of these key defenses, consult the Microsoft whitepaper Mitigating Software Vulnerabilities. Documentation overview \u003c!--*Remove this section if there is no documentation besides the documentation in which these release notes are included. For additional documentation, provide a brief description. Example:*--\u003e PI System Explorer User Guide: Provides an overview and explains the functions of the PI System Explorer interface. Technical support and resources \u003c!--*Provide a cross-reference to the Technical Support and feedback section. For example,*--\u003e Refer to Technical support and feedback ."
                                                                  },
    "V1/Main/test.html":  {
                              "href":  "V1/Main/test.html",
                              "title":  "",
                              "keywords":  ""
                          },
    "V1/Main/V1.3/Administration/administration.html":  {
                                                            "href":  "V1/Main/V1.3/Administration/administration.html",
                                                            "title":  "Administration",
                                                            "keywords":  "Administration With the PI adapter administration level functions, you can start and stop an adapter service and the individual adapter ingress components. You can also retrieve product version information and delete an adapter. The examples in the administration topics use curl , a commonly available tool on both Windows and Linux. You can use the same operations with any programming language or tool that supports making REST calls. You can also configure PI adapters with the EdgeCmd utility. For more information, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . To validate successful configurations, you can accomplish data retrieval steps ( GET commands) using a browser, if available on your device. For more information on PI adapter configuration tools, see Configuration tools ."
                                                        },
    "V1/Main/V1.3/Administration/delete-an-adapter-component.html":  {
                                                                         "href":  "V1/Main/V1.3/Administration/delete-an-adapter-component.html",
                                                                         "title":  "Delete an adapter component",
                                                                         "keywords":  "Delete an adapter component When you remove an adapter component, the configuration and log files are saved into a sub-directory in case they are needed later. Any associated types, streams, and data remain on the respective endpoints. Complete the following steps to delete an adapter component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e Note: You must make an empty DELETE command against the Id of the component you want to delete. 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Delete OpcUa1 adapter component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1\" \"http:  localhost:5590 api v1 configuration system components OpcUa1\" File relocation All configuration and log files are renamed and moved. The files are renamed according to the timestamp of removal, for example, FileName.json_removed_yyyy-MM-dd--hh-mm-ss . Configuration files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Configuration\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Configuration/Removed  usr share OSIsoft Adapters AdapterName Configuration Removed Log files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Logs\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Logs/Removed  usr share OSIsoft Adapters AdapterName Logs Removed In the following example, one Modbus adapter service is installed on a particular Windows node with the name ModbusService1 . A Modbus component with the name ModbusDeviceX was added and configured to this Modbus adapter and later removed. Linux follows a similar behavior. This is the resulting relocation and renaming scheme after deletion: Note: This is an example; it does not necessarily represent the adapter that you are currently using. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components/ api v1 configuration system components  ComponentId DELETE Deletes specified component Note: Replace ComponentId with the Id of the component that you want to delete."
                                                                     },
    "V1/Main/V1.3/Administration/retrieve-product-version-information.html":  {
                                                                                  "href":  "V1/Main/V1.3/Administration/retrieve-product-version-information.html",
                                                                                  "title":  "Retrieve product version information",
                                                                                  "keywords":  "Retrieve product version information The product version information includes the application version, the version of the underlying .NET Core framework, and the operating system that the adapter is running on. Complete the following steps to retrieve the product version information of a PI adapter: Use any of the Configuration tools capable of making HTTP requests. Run a GET command to the following endpoint: http://localhost:5590/api/v1/Diagnostics/ProductInformation http:  localhost:5590 api v1 Diagnostics ProductInformation Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Get product information for adapter hosted on port 5590 curl -X GET \"http://localhost:5590/api/v1/Diagnostics/ProductInformation \"http:  localhost:5590 api v1 Diagnostics ProductInformation Example result: { \"Application Version\":\"1.2.0.37\", \".Net Core Version\":\".NET Core 3.1.5\", \"Operating System\":\"Linux 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020\" }"
                                                                              },
    "V1/Main/V1.3/Administration/start-and-stop-an-adapter.html":  {
                                                                       "href":  "V1/Main/V1.3/Administration/start-and-stop-an-adapter.html",
                                                                       "title":  "Start and stop an adapter",
                                                                       "keywords":  "Start and stop an adapter Complete the procedure appropriate for your operating system to start or stop an adapter service: Windows Open Windows services. Select PI Adapter for AdapterName , for example, PI Adapter for Modbus. Note: This is an example; it does not necessarily represent the adapter that you are currently using. Depending on whether your adapter is running or not, click either Start or Stop . Linux Open command line. Depending on whether your adapter is running or not, type one of the following commands: Example: Start PI Adapter for OPC UA sudo systemctl start pi.adapter.opcua Example: Stop PI Adapter for Modbus TCP sudo systemctl stop pi.adapter.modbus Note: These commands are examples; they do not necessarily represent the adapter that you are currently using. Press Enter."
                                                                   },
    "V1/Main/V1.3/Administration/start-and-stop-ingress-component.html":  {
                                                                              "href":  "V1/Main/V1.3/Administration/start-and-stop-ingress-component.html",
                                                                              "title":  "Start and stop ingress component",
                                                                              "keywords":  "Start and stop ingress component To control data ingress, you can start and stop the ingress components of an adapter whenever necessary. By default, all currently configured ingress components are started. Start an ingress component Complete the following steps to start an individual ingress component: Use any of the Configuration tools capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to start: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Start http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Start Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Start the OpcUa1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/OpcUa1/Start\" \"http:  localhost:5590 api v1 Administration OpcUa1 Start\" Stop an ingress component Complete the following steps to stop an individual ingress component: Start any configuration tool capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to stop: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Stop http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Stop Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Stop the Modbus1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/Modbus1/Stop\" \"http:  localhost:5590 api v1 Administration Modbus1 Stop\""
                                                                          },
    "V1/Main/V1.3/Configuration/buffering-configuration.html":  {
                                                                    "href":  "V1/Main/V1.3/Configuration/buffering-configuration.html",
                                                                    "title":  "Buffering configuration",
                                                                    "keywords":  "Buffering configuration You can configure PI adapters to buffer data egressed from the adapter to endpoints. Buffering is configured through the buffering configuration parameters in the system configuration. Note: OSIsoft recommends that you do not modify the default buffering location unless it is necessary. Changes to the buffering configuration parameters only take effect during adapter service startup. Configure buffering Using any text editor, create a file that contains the buffering configuration in the JSON format. For content structure, see the sample output in Examples - Retrieve the buffering configuration . For a table of all available parameters, see Buffering parameters . Save the file. For example, ConfigureBuffering.json . Use any of the Configuration tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/buffering http:  localhost:5590 api v1 configuration system buffering Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureBuffering.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Note: Run this command from the same directory where the file is located. Buffering schema The full schema definition for the system buffering is in the System_Buffering_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Buffering parameters The following parameters are available for configuring buffering: Parameter Required Type Description EnablePersistentBuffering Optional boolean Enables or disables on-disk buffering Allowed value: true or false Default value: true Note: If you disable persistent buffering, in-memory buffering is used. In-memory buffering is limited by value in the MaxBufferSizeMB property. MaxBufferSizeMB Optional integer Defines the maximum size of the buffer files that are persisted on disk or used in memory when EnablePersistentBuffering is set to false per configured endpoint. The unit is specified in MB (1 Megabyte = 1048576 bytes). Consider the capacity and the type of storage medium to determine a suitable value for this parameter. Minimum value: 1 Maximum value: 2147483647 Default value: 1024 BufferLocation Required string Defines the location of the buffer files. Absolute paths are required. Consider the access-control list (ACL) when you set this parameter. Allowed value: Valid path to a folder location in the file system Default value: Windows: %ProgramData%\\OSIsoft\\Adapters\\{AdapterInstance}\\Buffers Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Buffers  usr share OSIsoft Adapters {AdapterInstance} Buffers Examples The following examples are buffering configurations made through the curl REST client. Retrieve the buffering configuration curl -X GET \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Sample output: { \"bufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/Modbus/Buffers\", \"C: ProgramData OSIsoft Adapters Modbus Buffers\", \"maxBufferSizeMB\": 1024, \"enablePersistentBuffering\": true } 200 OK response indicates success. Update MaxBufferSizeMb parameter curl -d \"{ \\\"MaxBufferSizeMB\\\": 100 }\" -H \"Content-Type: application/json\" application json\" -X PATCH \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" 204 No Content response indicates success. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/buffering api v1 configuration system buffering GET Gets the buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PUT Replaces the existing buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PATCH Update parameter, partial configuration"
                                                                },
    "V1/Main/V1.3/Configuration/configuration-tools.html":  {
                                                                "href":  "V1/Main/V1.3/Configuration/configuration-tools.html",
                                                                "title":  "Configuration tools",
                                                                "keywords":  "Configuration tools You can configure PI adapters with the EdgeCmd utility, OSIsoft\u0027s proprietary tool for configuring adapters, or a commonly-used REST tool. EdgeCmd utility The EdgeCmd utility enables adapter configuration on both Linux and Windows operating systems. For more information on using the EdgeCmd utility, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . REST tools The following tools are available to make REST calls: curl curl is a command line tool used to make HTTP calls and is supported on both Windows and Linux operating systems. You can script curl with Bash or PowerShell on Linux or Windows and you can use it to perform adapter administrative and programming tasks. curl commands are used in configuration and management examples throughout this document. For more information, see curl (https://curl.haxx.se/) (https:  curl.haxx.se ) . Postman Postman is a REST tool for systems with GUI components. PI adapters are supported on platforms without GUIs. Postman is particularly useful for learning more about PI Adapter REST APIs. For more information, see Postman (https://www.postman.com/) (https:  www.postman.com ) ."
                                                            },
    "V1/Main/V1.3/Configuration/configure-a-network-proxy.html":  {
                                                                      "href":  "V1/Main/V1.3/Configuration/configure-a-network-proxy.html",
                                                                      "title":  "Configure a network proxy",
                                                                      "keywords":  "Configure a network proxy Some network architectures may need a network proxy between the PI adapter and the egress endpoint. The process for configuring the adapter to egress data through a network proxy varies depending on the proxy type. HTTPS forward proxy For the adapter to use an HTTPS forward proxy while egressing, configure the https_proxy environment variable. The value of this environment variable must contain the URL of the proxy server, beginning with http . The format of the string is [user[:password]@]http://hostname[:port] [user[:password]@]http:  hostname[:port] . HTTPS proxy environment variable Parameter Required Description user Optional The user name for the HTTPS forward proxy. password Optional The password for the HTTPS forward proxy specified user name. If you specify user , password remains optional. port Optional If you do not specify port , the default 80 is used. Note: Usage of the https_proxy environment variable may affect other .NET or .NET Core applications. If you set this environment variable, it will affect the adapter egress endpoints and the adapter health endpoints. Example: myUser@http://192.168.2.2 myUser@http:  192.168.2.2 myUser:myPassword@http://proxymachine.domain:3128 myUser:myPassword@http:  proxymachine.domain:3128 http://proxymachine.domain http:  proxymachine.domain In Windows, this may look something like: For more information on how to configure system environment variables, refer to your platform specific documentation: Windows: setx Ubuntu: EnvironmentVariables Debian: EnvironmentVariables Docker: Environment variables in Compose Example of an architecture with an https forward proxy: Reverse proxy For the adapter to use a reverse proxy while egressing, you must configure the reverse proxy as an egress endpoint. Example: [{ \"Id\": \"PI Web API Through Proxy\", \"Endpoint\": \"https://\u003creverseProxy\u003e:\u003cport\u003e/piwebapi/omf/\", \"https:  \u003creverseProxy\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cpiWebApiUser\u003e\", \"Password\": \"\u003cpiWebApiPassword\u003e\" }] Example of an architecture with a reverse proxy:"
                                                                  },
    "V1/Main/V1.3/Configuration/data-filters-configuration.html":  {
                                                                       "href":  "V1/Main/V1.3/Configuration/data-filters-configuration.html",
                                                                       "title":  "Data filters configuration",
                                                                       "keywords":  "Data filters configuration PI adapters can be configured to perform data filtering to save network bandwidth. Every data item in the data selection configuration can be assigned the ID of a data filter. The adapter will then filter data for those data items based on the data filter configuration. Configure data filters Complete the following steps to change the data filters configuration: Using any text editor, create a file that contains the data filters configuration in the JSON format. For content structure, see Data filters example . For all available parameters, see Data filters parameters . Save the file, for example, as ConfigureDataFilters.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter, for example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureDataFilters.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters\" Note: Run this command from the same directory where the file is located. On successful execution, the change that you have made to data filters takes effect immediately during runtime. Data filters schema The full schema definition for the data filters configuration is in the AdapterName_DataFilters_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Data filters parameters The following parameters are available for configuring data filters: Parameter Required Type Description Id Required string Unique identifier for the data filter. Allowed value: any string identifier AbsoluteDeadband Optional double Specifies the absolute change in data value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing absolute deadband number Default value: null PercentChange Optional double Specifies the percent change from previous value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing percent change Default value: null ExpirationPeriod Optional timespan The length in time that can elapse after an event before automatically storing the next event. The expected format is HH:MM:SS.###. * Allowed value: any timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"ExpirationPeriod\": 25 specifies 25 seconds, or \"ExpirationPeriod\": 125 specifies 2 minutes and 5 seconds. Data filters example [ { \"Id\": \"DuplicateData\", \"AbsoluteDeadband\": 0, \"PercentChange\": null, \"ExpirationPeriod\": \"01:00:00\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters GET Gets all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters DELETE Deletes all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters POST Adds an array of data filters or a single data filter. Fails if any data filter already exists. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PUT Replaces all data. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PATCH Allows partial updating of configured data filter. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id GET Gets configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id DELETE Deletes configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id PUT Replaces data filter by id . Fails if data filter does not exist. Note: Replace ComponentId with the Id of your adapter component, for example, Modbus1."
                                                                   },
    "V1/Main/V1.3/Configuration/discovery-configuration.html":  {
                                                                    "href":  "V1/Main/V1.3/Configuration/discovery-configuration.html",
                                                                    "title":  "Discovery configuration",
                                                                    "keywords":  "Discovery configuration You can perform a data discovery for existing data pieces on demand. Data discovery is initiated through REST calls and it is tied to a specific discovery ID, which you can either specify or let the adapter generate. Data discovery includes different routes. For example, you can choose to do the following: Retrieve the discovery results Query the discovery status Cancel or delete discoveries Merge discovery results with the data selection item Retrieve results from a current discovery and compare it with results from a previous discovery Retrieve results from a current discovery and compare it with results from a current data selection configuration Configure discovery Start any of the Configuration tools capable of making HTTP requests. Run a POST command with the Id of the discovery and autoSelect set to either true or false to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Discoveries http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Discoveries . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"Id\\\":\\\"TestDiscovery\\\", \\\"autoSelect\\\":true }\" -X POST \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Discoveries\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Discoveries\" \u003c!-- Only Id, Query and AutoSelect will have effect when initiating the discovery query. The other parameters for the \u0027discovery state\u0027 are redundant and will be overridden even if specified in the configuration. To avoid any confusion we could mention only the 3 relevant ones to the customer for configuring discovery. The table below is the State of the discovrery is mainly for intepreting discovery result. --\u003e Discovery parameters Parameter Type Description id string The ID of the discovery. Note: You cannot run multiple discoveries with the same ID. query string A filter that is specific to the data source. The query filter can limit the scope of the discovery. For more information, see the Data source configuration topic of your specific adapter. startTime datetime Time when the discovery started. endTime datetime Time when the discovery ended. progress double Progress of the discovery (number of topics found through the discovery) itemsFound integer Number of data pieces that the discovery found on the data source. newItems integer Number of new data pieces that the discovery found in comparison to the previous discovery. newAssets integer Number of new assets that the discovery found in comparison to the previous discovery. resultUri integer URL at which you can access the results of the discovery. autoSelect boolean When set to true , the result of the discovery gets pushed to the data selection. status reference Status of the discovery, for example Active or Complete . errors string Errors encountered during the discovery. Discoveries status example The following example shows the status of all discoveries. The discovery id in this example was auto-generated. Note: This is an example. It does not necessarily reflect the adapter you are currently using. [ { \"id\": \"8ff855f1-a636-490a-bb31-207410a6e607\", \"query\": null, \"startTime\": \"2020-09-30T19:34:01.8180401+02:00\", \"endTime\": \"2020-09-30T19:34:01.8368776+02:00\", \"progress\": 30, \"itemsFound\": 4, \"newItems\": 0, \"newAssets\": 0, \"resultUri\": \"http://127.0.0.1:5590/api/v1/Configuration/OpcUa1/Discoveries/8ff855f1-a636-490a-bb31-207410a6e607/result\", \"http:  127.0.0.1:5590 api v1 Configuration OpcUa1 Discoveries 8ff855f1-a636-490a-bb31-207410a6e607 result\", \"autoSelect\": false, \"status\": \"Complete\", \"errors\": null } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries GET Returns status of all discoveries api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries POST Initiates a new discovery and returns its Id api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries DELETE Cancels and deletes all saved discoveries api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId GET Gets the status of an individual discovery Note: If a discovery with the specified ID does not exist, you will get an error message api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId DELETE Cancels and deletes discovery and result api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result  result GET Returns the result of a discovery api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result?diff=  result?diff= previousId GET Returns the difference between the result and the previous result api/v1/configuration/ api v1 configuration  componentId /dataselection?diff=  dataselection?diff= discoveryId GET Returns the difference between the data selection configuration and the discovery results api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result  result DELETE Cancels and deletes discovery result. Note: The discovery ID is still valid, but the Status property of a discovery query will contain a status of canceled api/v1/configuration/ api v1 configuration  componentId /dataselection/select?discoveryid=  dataselection select?discoveryid= discoveryId POST Adds the discovered items to data selection with selected set to true api/v1/configuration/ api v1 configuration  componentId /dataselection/unselect?discoveryid=  dataselection unselect?discoveryid= discoveryId POST Adds the discovered items to data selection with selected set to false Note: Replace componentId with the ID of your adapter component, for example OpcUa1. Replace discoveryId with the Id of the discovery for which you want to perform the action."
                                                                },
    "V1/Main/V1.3/Configuration/egress-endpoint-configuration/configure-a-network-proxy.html":  {
                                                                                                    "href":  "V1/Main/V1.3/Configuration/egress-endpoint-configuration/configure-a-network-proxy.html",
                                                                                                    "title":  "Configure a network proxy",
                                                                                                    "keywords":  "Configure a network proxy Some network architectures may need a network proxy between the PI adapter and the egress endpoint. The process for configuring the adapter to egress data through a network proxy varies depending on the proxy type. HTTPS forward proxy For the adapter to use an HTTPS forward proxy while egressing, configure the https_proxy environment variable. For information on how to configure system environment variables, refer to your platform specific documentation: Windows: setx Ubuntu: EnvironmentVariables Debian: EnvironmentVariables Docker: Environment variables in Compose The value of this environment variable must contain the URL of the proxy server, beginning with http . The format of the string is [user[:password]@]http://hostname[:port] [user[:password]@]http:  hostname[:port] . HTTPS proxy environment variable Parameter Required Description user Optional The user name for the HTTPS forward proxy. password Optional The password for the HTTPS forward proxy specified user name. If you specify user , password remains optional. port Optional If you do not specify port , the default 80 is used. Note: Usage of the https_proxy environment variable may affect other .NET or .NET Core applications. If you set this environment variable, it will affect the adapter egress endpoints and the adapter health endpoints. Examples: myUser@http://192.168.2.2 myUser@http:  192.168.2.2 myUser:myPassword@http://proxymachine.domain:3128 myUser:myPassword@http:  proxymachine.domain:3128 http://proxymachine.domain http:  proxymachine.domain In Windows, this may look something like: Example of an architecture with an https forward proxy: Reverse proxy For the adapter to use a reverse proxy while egressing, you must configure the reverse proxy as an egress endpoint. For information on how to configure an egress endpoint, see Egress endpoints configuration . Example: [{ \"Id\": \"PI Web API Through Proxy\", \"Endpoint\": \"https://\u003creverseProxy\u003e:\u003cport\u003e/piwebapi/omf/\", \"https:  \u003creverseProxy\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cpiWebApiUser\u003e\", \"Password\": \"\u003cpiWebApiPassword\u003e\" }] Example of an architecture with a reverse proxy:"
                                                                                                },
    "V1/Main/V1.3/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html":  {
                                                                                                      "href":  "V1/Main/V1.3/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html",
                                                                                                      "title":  "Prepare egress destinations",
                                                                                                      "keywords":  "Prepare egress destinations OCS and PI Server destinations may require additional configuration to receive OMF messages. OCS To prepare OCS to receive OMF messages from the adapter, create an OMF connection in OCS. Creating an OMF connection results in an available OMF endpoint that can be used by the adapter egress mechanism. Complete the following steps to create an OMF connection: Create a Client . The Client Id and Client Secret will be used for the corresponding properties in the egress configuration. Create an OMF type Connection . The connection should link the created client to an existing namespace where the data will be stored. The OMF Endpoint URL for the connection will be used as the egress configuration Endpoint property. PI Server To prepare a PI Server to receive OMF messages from the adapter, a PI Web API OMF endpoint must be available. Complete the following steps: Install PI Web API and enable the OSIsoft Message Format (OMF) Services feature. During configuration, choose an AF database and PI Data Archive where metadata and data will be stored. The account used in an egress configuration needs permissions to create AF elements, element templates, and PI points. Configure PI Web API to use Basic authentication. For complete steps, as well as best practices and recommendations, see the PI Web API User Guide on Live Library. Note: The certificate used by PI Web API must be trusted by the device running the adapter, otherwise the egress configuration ValidateEndpointCertificate property needs to be set to false (this can be the case with a self-signed certificate but should only be used for testing purposes). Note: To continue to send OMF egress messages to the PI Web API endpoint after upgrading PI Web API, restart the adapter service."
                                                                                                  },
    "V1/Main/V1.3/Configuration/egress-endpoints-configuration.html":  {
                                                                           "href":  "V1/Main/V1.3/Configuration/egress-endpoints-configuration.html",
                                                                           "title":  "Egress endpoints configuration",
                                                                           "keywords":  "Egress endpoints configuration PI adapters collect time series data, which they can send to a permanent data store (endpoint). This operation is called data egress. The following endpoints are available for data egress: OSIsoft Cloud Services (OCS) PI servers through PI Web API Edge Data Store (EDS) For long term storage and analysis, you can configure any adapter to send time series data to one or several of these endpoints in any combination. An egress endpoint is comprised of the properties specified under Egress endpoint parameters . Data egress to a PI server creates a PI point in the PI adapter configuration. Data egress to OCS or EDS creates a stream in the PI adapter configuration. Note: Egress to EDS requires the adapter to be on the same server as EDS. The name of the PI point or OCS or EDS stream is a combination of the StreamIdPrefix specified in the adapter data source configuration and the StreamId specified in the adapter data selection configuration. Configure egress endpoints Note: You cannot add egress configurations manually because some parameters are encrypted when stored to disk. You must use the REST endpoints to add or edit egress configuration. For additional endpoint configurations, see REST URLs . Complete the following steps to configure egress endpoints: Using any text editor, create a file that contains one or more egress endpoints in the JSON format. For content structure, see Examples . For a table of all available parameters, see Egress endpoint parameters . Save the file. For example, ConfigureEgressEndpoints.json . Use any of the Configuration tools capable of making HTTP requests and run the appropriate command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/ http:  localhost:5590 api v1 configuration OmfEgress dataendpoints  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Examples using curl : Note: Run the commands from the same directory where the file is located. Add endpoints Note: Run either the POST or the PUT command. For more information, see REST URLs . curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints\" curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Delete an endpoint curl -X DELETE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Update an endpoint curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X UPDATE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" View endpoints curl -X GET \"http://localhost:5590/api/v1/configuration/OmfEgress/DataEndpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress DataEndpoints\" Egress endpoint configuration schema The full schema definition for the egress endpoint configuration is in the OmfEgress_DataEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Egress endpoint parameters The following parameters are available for configuring egress endpoints: Parameter Required Type Description Id Optional string Unique identifier Allowed value: any string identifier Default value: new GUID Endpoint Required string Destination that accepts OMF v1.2 messages. Supported destinations include OCS, PI Server, and EDS. Allowed value: well-formed http or https endpoint string Default: null Username Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null Note: If your username contains a backslash, you must add an escape character, for example, type OilCompany\\TestUser as OilCompany\\\\TestUser . EDS: Allowed value: any string, can be null if the endpoint URL schema is HTTP Password Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, can be null if the endpoint URL schema is HTTP ClientId Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string, can be null if the endpoint URL schema is HTTP Default: null ClientSecret Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string, can be null if the endpoint URL schema is HTTP Default: null TokenEndpoint Optional for OCS endpoint string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination certificate. Note: Only use for testing with self-signed certificates. Allowed value: true or false Default value: true Note: If the URL schema for the egress endpoint is HTTP, which is typical for EDS, then you do not need to specify credentials. Examples The following examples are valid egress configurations: Egress data to OCS [{ \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" }] Egress data to PI Web API [{ \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" }] Egress data to EDS [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints GET Gets all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints DELETE Deletes all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints POST Adds an array of egress endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PUT Replaces all egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PATCH Allows partial updating of configured endpoints. Note: The request must be an array containing one or more endpoints. Each endpoint in the array must include its Id . api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} GET Gets configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} DELETE Deletes configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PUT Updates or creates a new endpoint with the specified Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PATCH Allows partial updating of configured endpoint by Id Egress execution details After configuring an egress endpoint, egress is immediately run for that endpoint. Egress is handled individually per configured endpoint. When data is egressed for the first time, types and containers are egressed to the configured endpoint. After that only new or changed types or containers are egressed. Type creation must be successful in order to create containers. Container creation must be successful in order to egress data. If you delete an egress endpoint, data flow immediately stops for that endpoint. Buffered data in a deleted endpoint is permanently lost. Type, container, and data items are batched into one or more OMF messages when egressing. As per the requirements defined in OMF, a single message payload will not exceed 192KB in size. Compression is automatically applied to outbound egress messages. On the egress destination, failure to add a single item results in the message failing. Types, containers, and data are egressed as long as the destination continues to respond to HTTP requests."
                                                                       },
    "V1/Main/V1.3/Configuration/general-configuration.html":  {
                                                                  "href":  "V1/Main/V1.3/Configuration/general-configuration.html",
                                                                  "title":  "General configuration",
                                                                  "keywords":  "General configuration You can configure PI adapters to produce and store diagnostics data at a designated health endpoint, and to send metadata for created streams. For more information about available diagnostics data, see Adapter diagnostics and Egress diagnostics . For more information about available metadata and what metadata are sent per metadata level, see Adapter Metadata . Configure general Start any of the Configuration tools capable of making HTTP requests. Run a PUT command to the following endpoint, setting enableDiagnostics to either true or false and MetadataLevel to None , Low , Medium , or High : http://localhost:5590/api/v1/configuration/system/general http:  localhost:5590 api v1 configuration system general Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"enableDiagnostics\\\":true, \\\"enableMetadata\\\":false }\" -X PUT \"http://localhost:5590/api/v1/configuration/system/general\" \"http:  localhost:5590 api v1 configuration system general\" General schema The full schema definition for the general configuration is in the System_General_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas General parameters The following parameters are available for configuring general: Parameter Required Type Description EnableDiagnostics Optional boolean Determines if diagnostics are enabled Allowed value: true or false Default value: true MetadataLevel Optional reference Defines amount of metadata sent to OMF endpoints. Allowed value: None , Low , Medium , and High Default value: Medium Example Retrieve the general configuration Example using curl : curl -X GET \"http://localhost:{port}/api/v1/configuration/system/general\" \"http:  localhost:{port} api v1 configuration system general\" Sample output: { \"EnableDiagnostics\": true, \"MetadataLevel\": \"Medium\" } REST URLs Relative URL HTTP verb Action api/v1/configuration/system/General api v1 configuration system General GET Gets the general configuration api/v1/configuration/system/General api v1 configuration system General PUT Replaces the existing general configuration api/v1/configuration/system/General api v1 configuration system General PATCH Allows partial updating of general configuration"
                                                              },
    "V1/Main/V1.3/Configuration/health-endpoint-configuration.html":  {
                                                                          "href":  "V1/Main/V1.3/Configuration/health-endpoint-configuration.html",
                                                                          "title":  "Health endpoint configuration",
                                                                          "keywords":  "Health endpoint configuration You can configure PI adapters to produce and store health data at a designated health endpoint. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information about adapter health, see Adapter health . Configure health endpoint A health endpoint designates an OMF endpoint where adapter health information is sent. You can configure multiple health endpoints. Use any text editor to create a file that contains one or more health endpoints in the JSON format. For content structure, see Examples . For a table of all available health endpoint parameters, see Health endpoint parameters . Save the file. For example, ConfigureHealthEndpoints.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints http:  localhost:5590 api v1 configuration system healthendpoints Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/healthendpoints\" \"http:  localhost:5590 api v1 configuration system healthendpoints\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints/{Id} http:  localhost:5590 api v1 configuration system healthendpoints {Id} Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/healthendpoints/OCS\" \"http:  localhost:5590 api v1 configuration system healthendpoints OCS\" Health endpoints schema The full schema definition for the health endpoint configuration is in the System_HealthEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Health endpoint parameters The following parameters are available for configuring health endpoints: Parameter Required Type Description Id Optional string Uniquely identifies the endpoint. This can be any alphanumeric string. If left blank, a unique value is generated automatically. Allowed value: any string identifier Default value: new GUID Endpoint Required string The URL of the OMF endpoint to receive this health data Allowed value: well-formed http or https endpoint string Default: null Username Required for PI Web API and EDS endpoints string The username used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null Password Required for PI Web API endpoints string The password used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null ClientId Required for OCS endpoints string The client ID used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null ClientSecret Required for OCS endpoints string The client secret used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null TokenEndpoint Optional for OCS endpoints string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination security certificate. Use for testing only with self-signed certificates; OSIsoft recommends keeping this set to the default, true, in production environments. Allowed value: true or false Default value: true Examples OCS endpoint { \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" } PI Web API endpoint { \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" } EDS endpoint [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints GET Gets all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints DELETE Deletes all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints POST Adds an array of health endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PUT Replaces all health endpoints. Note: Requires an array of endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PATCH Allows partial updating of configured health endpoints Note: The request must be an array containing one or more health endpoints. Each health endpoint in the array must include its Id . api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id GET Gets configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id DELETE Deletes configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PUT Updates or creates a new health endpoint with the specified Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PATCH Allows partial updating of configured health endpoint by Id Note: Replace Id with the Id of the health endpoint."
                                                                      },
    "V1/Main/V1.3/Configuration/logging-configuration.html":  {
                                                                  "href":  "V1/Main/V1.3/Configuration/logging-configuration.html",
                                                                  "title":  "Logging configuration",
                                                                  "keywords":  "Logging configuration PI adapters write daily log messages for the adapter, the system, and OMF egress to flat text files in the following locations: ??? Windows: %ProgramData%\\OSIsoft\\Adapters{AdapterInstance}\\Logs ??? Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Logs  usr share OSIsoft Adapters {AdapterInstance} Logs Each message in the log displays the message severity level, timestamp, and the message itself. Configure logging Complete the following steps to change the logging configuration: Using any text editor, create a file that contains the logging configuration in the JSON format. For content structure, see Example . For all available parameters, see Logging parameters . Save the file. For example, ConfigureLogging.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, OpcUa1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureLogging.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging\" On successful execution, the log-level change takes effect immediately during runtime. The other configurations (log file size and file count) are updated after the adapter is restarted. Note: Any parameter not specified in the updated configuration file reverts to the default schema value. Logging schema The full schema definition for the logging configuration is in the component specific logging file: AdapterName_Logging_schema.json , OmfEgress_Logging_schema.json , or System_Logging_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Logging parameters The following parameters are available for configuring logging: Parameter Required Type Description LogLevel Optional reference The logLevel sets the minimum severity for messages to be included in the logs. Messages with a severity below the level set are not included. The log levels in their increasing order of severity are as follows: Trace , Debug , Information , Warning , Error , Critical , and None . Default log level: Information For detailed information about the log levels, see LogLevel . LogFileSizeLimitBytes Optional integer The maximum size (in bytes) of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1000 Maximum value: 9223372036854775807 Default value: 34636833 LogFileCountLimit Optional integer The maximum number of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1 Maximum value: 2147483647 Default value: 31 LogLevel Level Description Trace Logs that contain the most detailed messages. These messages may contain sensitive application data like actual received values, which is why these messages should not be enabled in production environment. Note: Trace is translated to Verbose in the log file. Debug Logs that can be used to troubleshoot data flow issues by recording metrics and detailed flow related information. Information Logs that track the general flow of the application. Any non-repetitive general information like the following can be useful for diagnosing potential application errors: - Version information related to the software at startup - External services used - Data source connection string - Number of measurements - Egress URL - Change of state ???Starting??? or ???Stopping??? - Configuration Warning Logs that highlight an abnormal or unexpected event in the application flow that does not otherwise cause the application execution to stop. Warning messages can indicate an unconfigured data source state, that a communication with backup failover instance has been lost, an insecure communication channel in use, or any other event that could require attention but that does not impact data flow. Error Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity and not an application-wide failure. It can indicate an invalid configuration, unavailable external endpoint, internal flow error, and so on. Critical Logs that describe an unrecoverable application or system crash or a catastrophic failure that requires immediate attention. This can indicate application wide failures like beta timeout expired, unable to start self-hosted endpoint, unable to access vital resource (for example, Data Protection key file), and so on. Note: Critical is translated to Fatal in the log file. None Logging is disabled for the given component. Example Default logging configuration By default, logging captures Information, Warning, Error, and Critical messages in the message logs. The following logging configuration is the installation default for a component: { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 } REST URLs Relative URL HTTP verb Action api/v1/configuration/System/Logging api v1 configuration System Logging GET Retrieves the system logging configuration api/v1/configuration/System/Logging api v1 configuration System Logging PUT Updates the system logging configuration api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging GET Retrieves the logging configuration of the specified adapter component api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging PUT Updates the logging configuration of the specified adapter component Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1 or OpcUa1."
                                                              },
    "V1/Main/V1.3/Configuration/schedules-configuration.html":  {
                                                                    "href":  "V1/Main/V1.3/Configuration/schedules-configuration.html",
                                                                    "title":  "Schedules configuration",
                                                                    "keywords":  "Schedules configuration You can configure PI adapters to run scans based on a schedule. If the adapter supports schedules, each data item in the data selection configuration can be assigned a schedule. The adapter will then sample data for those data items at the scheduled time. Note: If the adapter supports scheduling and you start an ingress component without a schedules configuration, a default schedules configuration will be added to be used as an example. Note: When the adapter framework scheduler misses or skips a scan due to any reason, either one of the following messages is printed: Scan skipped for schedule id \u003cId\u003e or Scan missed for schedule \u003cid\u003e . Configure schedules Complete the following steps to change the schedules configuration: Using any text editor, create a file that contains the schedules configuration in the JSON format. For content structure, see Example . For all available parameters, see Schedules parameters . Save the file. For example, ConfigureSchedules.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSchedules.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules\" On successful execution, the schedules change takes effect immediately during runtime. Schedules schema The full schema definition for the schedules configuration is in the AdapterName_Schedules_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Schedules parameters The following parameters are available for configuring schedules: Parameter Required Type Description Id Required string Unique identifier for the schedule Allowed value: any string identifier Period Required string The data sampling rate of the schedule. The expected format is HH:MM:SS.###. * Invalid input: null , negative timespan, zero Default value: null (must be specified) Offset Optional string The offset from the midnight when the schedule starts. The expected format is HH:MM:SS.### * Invalid input: negative timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"Period\": 25 specifies 25 seconds, or \"Period\": 125 specifies 2 minutes and 5 seconds. Example [ { \"Id\": \"schedule1\", \"Period\": \"00:00:01.500\", \"Offset\": \"00:02:03\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules GET Gets all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules DELETE Deletes all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules POST Adds an array of schedules or a single schedule. Fails if any schedule already exists api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules PUT Replaces all schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id GET Gets configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id DELETE Deletes configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PUT Replaces schedule by id . Fails if schedule does not exist api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PATCH Allows partial updating of configured schedule by id Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1."
                                                                },
    "V1/Main/V1.3/Configuration/system-and-adapter-configuration.html":  {
                                                                             "href":  "V1/Main/V1.3/Configuration/system-and-adapter-configuration.html",
                                                                             "title":  "System and adapter configuration",
                                                                             "keywords":  "System and adapter configuration You can configure the system component and adapter component together using a single file. Change system and adapter configuration Change the system and adapter configuration by importing the JSON file using a REST client: Using any text editor, create a file that contains the System and adapter configuration in the JSON format. For content structure, see Example . Save the file. For example, ConfigureSystemAndAdapter.json . Use any of the Configuration Tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSystemAndAdapter.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration\" \"http:  localhost:5590 api v1 configuration\" Note: In order for some of the adapter specific configurations to take effect, you have to restart the adapter. If the operation fails due to errors in the configuration, the count of the error and suitable error messages are returned in the result. Example Note : The following is an example configuration; it does not necessarily represent the configuration of the adapter that you are currently using. The data source and data selection configurations are different for every adapter. Sample OPC UA adapter configuration { \"OpcUa1\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataSource\": { \"EndpointUrl\": \"opc.tcp://OPCUAServerEndpoint/OPCUA/Server\", \"opc.tcp:  OPCUAServerEndpoint OPCUA Server\", \"UseSecureConnection\": false, \"StreamPrefix\": \"OPC_Prefix_\", \"UserName\": null, \"Password\": null, \"RootNodeIds\": null, \"IncomingTimestamp\": \"Source\", \"applyPrefixToStreamId\": true }, \"DataSelection\": [ { \"Selected\": true, \"Name\": \"Sawtooth\", \"NodeId\": \"ns=3;s=Sawtooth\", \"StreamId\": \"SawtoothStream\" } ] }, \"System\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"HealthEndpoints\": [ ], \"Diagnostics\": { \"enableDiagnostics\": true }, \"Components\": [ { \"componentId\": \"Egress\", \"componentType\": \"OmfEgress\" }, { \"componentId\": \"OpcUa1\", \"componentType\": \"OpcUa\" } ], \"Buffering\": { \"BufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/OpcUa/Buffers\", \"C: ProgramData OSIsoft Adapters OpcUa Buffers\", \"MaxBufferSizeMB\": -1, \"EnableBuffering\": true } }, \"OmfEgress\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataEndpoints\": [ { \"id\": \"WebAPI EndPoint\", \"endpoint\": \"https://PIWEBAPIServer/piwebapi/omf\", \"https:  PIWEBAPIServer piwebapi omf\", \"userName\": \"USERNAME\", \"password\": \"PASSWORD\" }, { \"id\": \"OCS Endpoint\", \"endpoint\": \"https://OCSEndpoint/omf\", \"https:  OCSEndpoint omf\", \"clientId\": \"CLIENTID\", \"clientSecret\": \"CLIENTSECRET\" }, { \"Id\": \"EDS\", \"Endpoint\": \"http://localhost: \"http:  localhost: /api/v1/tenants/default/namespaces/default/omf\"  api v1 tenants default namespaces default omf\" \"UserName\": \"eds\", \"Password\": \"eds\" } ] } } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  PUT Replaces the configuration for the entire adapter"
                                                                         },
    "V1/Main/V1.3/Configuration/system-components-configuration.html":  {
                                                                            "href":  "V1/Main/V1.3/Configuration/system-components-configuration.html",
                                                                            "title":  "System components configuration",
                                                                            "keywords":  "System components configuration PI adapters use JSON configuration files in a protected directory on Windows and Linux to store configuration that is read on startup. While the files are accessible to view, OSIsoft recommends that you use REST or the EdgeCmd utility for any changes you make to the files. As part of making adapters as secure as possible, any passwords or secrets that you configure are stored in encrypted form where cryptographic key material is stored separately in a secure location. If you edit the files directly, the adapter may not work as expected. Note: You can edit any single component or facet of the system individually using REST, but you can also configure the system as a whole with a single REST call. Configure system components The configuration of system components includes adding, updating, and deleting components. Add a system component Complete the following steps to add a new component to the system: Note: The examples in this procedure do not necessarily represent the adapter that your are currently using. Using any text editor, create a file that contains the component to be added to the system in the JSON format. For content structure, see Examples . For a table of all available parameters, see System components parameters . Note: The OmfEgress component is required for this initial release for adapters to run. You can add additional components, but only a single OmfEgress component is supported. The following example adds a Modbus TCP adapter: { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" } Note: A unique ComponentId is necessary for each component in the system. This example uses the ComponentId Modbus1 since it is the first Modbus TCP adapter to be added. Save the file. For example, AddComponent.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003ccomponentId\u003e http:  localhost:5590 api v1 configuration system components \u003ccomponentId\u003e Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components/Modbus1\" \"http:  localhost:5590 api v1 configuration system components Modbus1\" After the curl command completes successfully, you can configure or use the new component. Update system components Complete the following steps to update the components of the system, for example, by adding or deleting one or more adapter components. Using any text editor, create a file that contains the current system components configuration. For information on how to retrieve the system components configuration, see REST URLs . Delete or add components as you need. Note: You cannot delete the OmfEgress component. Save the file. For example, UpdateComponents.json Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@UpdateComponents.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" Delete a system component Complete the following steps to delete a specific existing component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint, replacing \u003cComponentId\u003e with the ID of the component that you want to delete: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e/ http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. Delete OpcUa1 component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1/\" \"http:  localhost:5590 api v1 configuration system components OpcUa1 \" All the logs and configurations files for the deleted components are moved to the corresponding logs/Removed logs Removed or Configuration/Removed Configuration Removed folder. System components schema The full schema definition for the system components configuration is in the System_Components_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas System components parameters You can configure the following parameters for system components: Parameters Required Type Description ComponentId Required string The ID of the component 1 . It can be any alphanumeric string, for example, Modbus1. A properly configured ComponentID follows these rules: Cannot contain leading or trailing space Cannot use the following characters: \u003e \u003c /   : ? # [ ] @ ! $ \u0026 * \\ \" ( ) \\\\ + , ; = \\| ` { } ComponentType Required string The type of the component, for example, Modbus. There are two types of components: OmfEgress and the adapter. 1 1 Note: The OmfEgress component is required to run the adapter. Both its ComponentId and ComponentType are reserved and should not be modified. Examples Default system components configuration The default System_Components.json file for the System component contains the following information. [ { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] System components configuration with two adapter instances Note: This is an example configuration; it does not necessarily include the adapter that you are currently using. [ { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"Modbus2\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components api v1 configuration system components GET Retrieves the system components configuration api/v1/configuration/system/components api v1 configuration system components POST Adds a new component to the system configuration api/v1/configuration/system/components api v1 configuration system components PUT Updates the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId DELETE Deletes a specific component from the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId PUT Creates a new component with the specified componentId in the system configuration"
                                                                        },
    "V1/Main/V1.3/Diagnostics/adapter-diagnostics.html":  {
                                                              "href":  "V1/Main/V1.3/Diagnostics/adapter-diagnostics.html",
                                                              "title":  "Adapter diagnostics",
                                                              "keywords":  "Adapter diagnostics The adapter and its components produce different kinds of diagnostics data that is sent to all health endpoints. The System_Diagnostics.json file contains a flag that determines whether diagnostics are enabled. You can change this at runtime through REST calls or the EdgeCmd utility. Diagnostics data are collected by default. To egress diagnostics related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available diagnostics data Every minute, dynamic data is sent to configured health endpoints. The following diagnostics data are available: System Stream count IO rate Error rate AF structure After running diagnostics with a health endpoint configured to a PI server, you can use PI System Explorer to view the diagnostics for a given adapter. The element hierarchy is shown in the following image. The Elements root contains a link to an Adapters node. This is the root node for all adapter instances. Below Adapters , you will find one or more adapter nodes. Each node\u0027s title is defined by the node\u0027s corresponding computer name and service name in this format: {ComputerName}.{ServiceName} . For example, in the following image, MachineName is the computer name and OpcUa is the service name. To see the System.Diagnostics values, click on an adapter node and set the tab to Attributes . Example values are shown in the image."
                                                          },
    "V1/Main/V1.3/Diagnostics/egress-diagnostics.html":  {
                                                             "href":  "V1/Main/V1.3/Diagnostics/egress-diagnostics.html",
                                                             "title":  "Egress diagnostics",
                                                             "keywords":  "Egress diagnostics The Egress component of the adapter produces the following diagnostics stream: IO rate The Diagnostics.Egress.IORate dynamic type includes the following values, which are logged in a stream with the Id {machineName}.{serviceName}.OmfEgress.{EndpointId}.IORate . IORate includes only sequential data successfully sent to an egress endpoint. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                                         },
    "V1/Main/V1.3/Diagnostics/error-rate.html":  {
                                                     "href":  "V1/Main/V1.3/Diagnostics/error-rate.html",
                                                     "title":  "Error rate",
                                                     "keywords":  "Error rate The Diagnostics.Adapter.ErrorRate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.ErrorRate . Property Type Description timestamp string Timestamp of event ErrorRate double One-minute rolling average of error rate (streams/second) (streams second)"
                                                 },
    "V1/Main/V1.3/Diagnostics/io-rate.html":  {
                                                  "href":  "V1/Main/V1.3/Diagnostics/io-rate.html",
                                                  "title":  "IO rate",
                                                  "keywords":  "IO rate The Diagnostics.Adapter.IORate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.IORate . IORate includes only sequential data collected from a data source. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                              },
    "V1/Main/V1.3/Diagnostics/stream-count.html":  {
                                                       "href":  "V1/Main/V1.3/Diagnostics/stream-count.html",
                                                       "title":  "Stream count",
                                                       "keywords":  "Stream count The Diagnostics.StreamCountEvent dynamic type includes the following values, which are logged in a stream with the Id {componentid}.StreamCount . The StreamCount and TypeCount include only types and streams created for sequential data received from a data source. Property Type Description timestamp string Timestamp of event StreamCount int Number of streams created by the adapter instance TypeCount int Number of types created by the adapter instance"
                                                   },
    "V1/Main/V1.3/Diagnostics/system.html":  {
                                                 "href":  "V1/Main/V1.3/Diagnostics/system.html",
                                                 "title":  "System",
                                                 "keywords":  "System The Diagnostics.System dynamic type includes the following values which are logged in a stream with the Id System.Diagnostics . This diagnostic stream contains system level information related to the host platform that the adapter is running on. Property Type Description timestamp string Timestamp of event ProcessIdentifier int Process Id of the host process StartTime string Time at which the host process started WorkingSet long Amount of physical memory in bytes, allocated for the host process TotalProcessorTime double Total processor time for the host process expressed in seconds TotalUserProcessorTime double User processor time for the host process expressed in seconds TotalPrivilegedProcessorTime double Privileged processor time for the host process expressed in seconds ThreadCount int Number of threads in the host process HandleCount int Number of handles opened by the host process ManagedMemorySize double Number of bytes currently thought to be allocated in managed memory Unit of Measure = megabytes PrivateMemorySize double Amount of paged memory in bytes allocated for the host process Unit of Measure = megabytes PeakPagedMemorySize double Maximum amount of memory in the virtual memory paging file in bytes used by the host process. Unit of Measure = megabytes StorageTotalSize double Total size of the storage medium in use by the system Unit of Measure = megabytes StorageFreeSpace double Free space available Unit of Measure = megabytes Each adapter component produces its own diagnostics streams."
                                             },
    "V1/Main/V1.3/Health/adapter-health.html":  {
                                                    "href":  "V1/Main/V1.3/Health/adapter-health.html",
                                                    "title":  "Adapter health",
                                                    "keywords":  "Adapter health PI Adapters produce different kinds of health data that can be egressed to different health endpoints. To egress health related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available health data Dynamic data is sent every minute to configured health endpoints. The following health data is available: Device status Next Health Message Expected AF structure With a health endpoint configured to a PI server, you can use PI System Explorer to view the health of a given adapter. The element hierarchy is shown in the following image."
                                                },
    "V1/Main/V1.3/Health/device-status.html":  {
                                                   "href":  "V1/Main/V1.3/Health/device-status.html",
                                                   "title":  "Device status",
                                                   "keywords":  "Device status The device status indicates the health of this component and if it is currently communicating properly with the data source. This time-series data is stored within a PI point or OCS stream, depending on the endpoint type. During healthy steady-state operation, a value of Good is expected. Property Type Description Time string Timestamp of the event DeviceStatus string The value of the DeviceStatus The possible statuses are: Status Meaning Good The component is connected to the data source and it is collecting data. ConnectedNoData The component is connected to the data source but it is not receiving data from it. AttemptingFailover The adapter is attempting to fail over. Starting The component is currently in the process of starting up and is not yet connected to the data source. DeviceInError The component encountered an error either while connecting to the data source or attempting to collect data. Shutdown The component is either in the process of shutting down or has finished. Removed The adapter component has been removed and will no longer collect data. NotConfigured The adapter component has been created but is not yet configured."
                                               },
    "V1/Main/V1.3/Health/health-and-diagnostics.html":  {
                                                            "href":  "V1/Main/V1.3/Health/health-and-diagnostics.html",
                                                            "title":  "Health and Diagnostics",
                                                            "keywords":  "Health and Diagnostics PI Adapters produce various types of health data. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information on available health data, see Adapter health . PI Adapters also produce diagnostic data. You can use diagnostic data to find more information about a particular adapter instance. Diagnostic data lives alongside the health data and you can egress it using a health endpoint and setting EnableDiagnostics to true . You can configure EnableDiagnostics in the system\u0027s General configuration . For more information on available diagnostics data, see Adapter diagnostics . Health endpoint differences Two OMF endpoints are currently supported for adapter health data: PI Web API OSIsoft Cloud Services There are a few differences in how these two systems treat the associated health and diagnostics data. PI Web API parses the information and sends it to configured PI servers for the OMF endpoint. The static data is used to create a hierarchy on a PI AF server similar to the following example: The dynamic health data is time-series data that is stored in PI points on a PI Data Archive. You can see it in the AF hierarchy as PI point data reference attributes. OSIsoft Cloud Services does not currently provide a way to store the static metadata. For OCS-based adapter health endpoints, only the dynamic data is stored. Each value is its own stream with the timestamp property as the single index."
                                                        },
    "V1/Main/V1.3/Health/next-health-message-expected.html":  {
                                                                  "href":  "V1/Main/V1.3/Health/next-health-message-expected.html",
                                                                  "title":  "Next health message expected",
                                                                  "keywords":  "Next health message expected This property is similar to a heartbeat. A new value for NextHealthMessageExpected is sent by an individual adapter data component on a periodic basis while it is functioning properly. This value is a timestamp that indicates when the next value should be received. When monitoring, if the next value is not received by the indicated time, this likely means that there is an issue. It could be an issue with the adapter, adapter component, network connection between the health endpoint and the adapter, and so on. Property Type Description Time string Timestamp of the event NextHealthMessageExpected string Timestamp when next value is expected"
                                                              },
    "V1/Main/V1.3/Installation/installation.html":  {
                                                        "href":  "V1/Main/V1.3/Installation/installation.html",
                                                        "title":  "Installation",
                                                        "keywords":  "Installation Adapters are installed on a local machine using an install kit downloaded from the OSIsoft Customer Portal. For instructions on downloading and installing adapters, see Install the adapter . Alternatively, you can build custom installers or containers for Linux. For more information, see the Docker instructions in the documentation of the respective adapter."
                                                    },
    "V1/Main/V1.3/Installation/install-the-adapter.html":  {
                                                               "href":  "V1/Main/V1.3/Installation/install-the-adapter.html",
                                                               "title":  "Install the adapter",
                                                               "keywords":  "Install the adapter You can install adapters on either a Windows or Linux operating system. Before installing the adapter, see the respective system requirements to ensure your machine is properly configured to provide optimum adapter operation. Windows Complete the following steps to install a PI adapter on a Windows computer: Download the Windows .msi file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Run the .msi file. Follow the setup wizard. You can change the installation folder or port number during setup. The default port number is 5590 . Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and try the script again. If the installation was successful, a JSON copy of the default system configuration is returned. Linux Complete the following steps to install a PI adapter on a Linux computer: Download the appropriate Linux distribution file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Open a terminal. Run the sudo app install command. Examples : To install the Linux ARM Debian package, run the command sudo apt install ./PI . PI Adapter for OpcUa_{version}-arm_.deb To install the Linux x64 package, run the command sudo apt install ./PI . PI Adapter for Modbus_{version}-x64_.deb Note: The previous file names are examples. They do not necessarily represent the adapter that you are currently using. Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and run the command again. If the installation was successful, a JSON copy of the default system configuration is returned."
                                                           },
    "V1/Main/V1.3/Installation/uninstall-the-adapter.html":  {
                                                                 "href":  "V1/Main/V1.3/Installation/uninstall-the-adapter.html",
                                                                 "title":  "Uninstall the adapter",
                                                                 "keywords":  "Uninstall the adapter Complete the procedure corresponding to your specific operating system to uninstall the adapter: Windows To delete the PI adapter program files from a Windows device, use the Windows Control Panel uninstall application process. Note: The configuration, data, and log files are not deleted by the uninstall process. Optional: To delete data, configuration, and log files, delete the directory %ProgramData%\\OSIsoft\\Adapters\\AdapterName . This deletes all data processed by the adapter, in addition to the configuration and log files. Linux To delete PI Adapter software from a Linux device, open a terminal window and run the following command: sudo apt remove pi.adapter.\u003cAdapterName\u003e Optional: To delete data, configuration, and log files, run the following command: sudo rm -r /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e  usr share OSIsoft Adapters \u003cAdapterName\u003e This deletes all data processed by the adapter, in addition to the configuration and log files."
                                                             },
    "V1/Main/V1.3/Metadata/adapter-metadata.html":  {
                                                        "href":  "V1/Main/V1.3/Metadata/adapter-metadata.html",
                                                        "title":  "Adapter metadata",
                                                        "keywords":  "Adapter metadata If the metadataLevel is set to Low or higher in the General configuration , adapter streams created by the ingress components include the following metadata: Datasource: {ComponentId} AdapterType: {ComponentType} ComponentId corresponds to the adapter components\u0027 data source configured in the Components configuration . ComponentType corresponds to the adapter type. For example, Modbus or OpcUa. Metadata for health and diagnostics streams If you configure a health endpoint and enable metadata, they are included in the health streams ( Device status and Next health message expected ) together with ComponentId and ComponentType . If you enable diagnostics in General configuration , metadata are included in the diagnostics streams ( Stream count , IO rate , Error rate ) together with ComponentId and ComponentType . The adapter may also send its own stream metadata not including health and diagnostics streams. For more information about what custom metadata is included in each stream, see the user guide for your adapter. Note: Metadata is only sent for streams created by the ingress components. Currently, the only endpoint that persists sent metadata is OCS (OSIsoft Cloud Services)."
                                                    },
    "V1/Main/V1.3/technical-support-and-feedback.html":  {
                                                             "href":  "V1/Main/V1.3/technical-support-and-feedback.html",
                                                             "title":  "Technical support and feedback",
                                                             "keywords":  "Technical support and feedback OSIsoft provides several ways to report issues and provide feedback on PI Adapters. Technical support For technical assistance with PI Adapters, contact OSIsoft Technical Support through the OSIsoft Customer Portal . We can help you identify the problem, provide workarounds and address any concerns you may have. Remote access to your facilities may be necessary during the session. Note: You must have an account set up in the OSIsoft Customer Portal before you can open a case. If you do not have a portal account, see How to Get a Login to OSIsoft Customer Portal . Alternatively, call OSIsoft Technical Support at +1 510-297-5828. When you contact OSIsoft Technical Support, be prepared to provide this information: Product name, version, and build numbers Details about your computer platform (CPU type, operating system, and version number) Time that the difficulty started Log files at that time Details of any environment changes prior to the start of the issue Summary of the issue, including any relevant log files during the time the issue occurred \u003c!--To view a brief primer on PI Adapters, see the [PI Adapters playbook](https://customers.osisoft.com/s/knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) playbook](https:  customers.osisoft.com s knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) in the OSIsoft Customer Portal.--\u003e Product feedback To submit product feedback for PI Adapters, visit the PI Adapters feedback page . The product team at OSIsoft regularly monitors the page. Documentation feedback To submit documentation feedback for PI Adapters, send an email to documentation@osisoft.com . Be sure to include the following information with your feedback: Product name and version Documentation topic URL Details of the suggestion or error The technical documentation team at OSIsoft will review and respond to your feedback."
                                                         },
    "V1/Main/V1.3/Troubleshooting/troubleshoot-the-adapter.html":  {
                                                                       "href":  "V1/Main/V1.3/Troubleshooting/troubleshoot-the-adapter.html",
                                                                       "title":  "Troubleshoot the adapter",
                                                                       "keywords":  "Troubleshoot the adapter PI adapters provide features for troubleshooting issues related to connectivity, data flow, and configuration. Resources include adapter logs and the Wireshark troubleshooting tool . If you are still unable to resolve issues or need additional guidance, contact OSIsoft Technical Support through the OSIsoft Customer Portal . Note: Make sure to also check the troubleshooting information specific to your adapter in this user guide. Logs Messages from the System and OmfEgress logs provide information on the status of the adapter. For example, they show if a connection from the adapter to an egress endpoint exists. Perform the following steps to view the System and OmfEgress logs: Navigate to the logs directory: Windows: %ProgramData%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Logs Linux: /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e/Logs  usr share OSIsoft Adapters \u003cAdapterName\u003e Logs . Example: A successful connection to a PI Web API egress endpoint displays the following message in the OmfEgress log: 2020-11-02 11:08:51.870 -06:00 [Information] Data will be sent to the following OMF endpoint: Id: \u003comfegress id\u003e Endpoint: \u003cpi web api URL\u003e (note: the pi web api default port is 443) ValidateEndpointCertificate: \u003ctrue or false\u003e Optional: Change the log level of the adapter to receive more information and context. For more information, see Logging configuration . ASP .NET Core platform The ASP .NET Core platform log provides information from the Kestrel web server that hosts the application. The log will only be present in case EDS encounters heartbeat failures or if the adapter throughput is too high. Perform the following steps to spread the load among multiple adapters: Decrease the scan frequency. Lower the amount of data selection items. \u003c!--## PI Web API and OCS user documentation PI Web API and OCS user documentation provides troubleshooting information for \u003cplaceholder\u003e --\u003e Wireshark Wireshark is a protocol-specific troubleshooting tool that supports all current adapter protocols. Perform the following steps if you want to use Wireshark to capture traffic from the data source to the adapter or from the adapter to the OMF destination. Download Wireshark . Familiarize yourself with the tool and read the Wireshark user guide . Health and diagnostics egress to PI Web API The adapter sends health and diagnostics data to PI Web API; in some cases, conflicts may occur that are due to changes or perceived changes in PI Web API. For example, a 409 - Conflict error message displays if you upgrade your adapter version and the PI points do not match in the upgraded version. However, data is continued to be sent as long as containers are created, so buffering only starts if no containers are created. To resolve the conflict, perform the following steps: Stop the adapter. Delete the Health folder inside of the Buffers folder. Stop PI Web API. Delete the relevant adapter created AF structure. Delete the associated health and diagnostics PI points on any or all PI Data Archives created by PI Web API. Start PI Web API. Start the adapter. Adapter connection to egress endpoint Certain egress health information in both PI Web API and OCS show if an adapter connection to an egress endpoint exists. To verify an active connection, perform one of the following procedures: PI Web API connection Perform the following steps to determine if a connection to the PI Web API endpoint exists: Open PI Web API. Select the OmfEgress component of your adapter, for example GVAdapterUbuntu.OpcUa.OmfEgress . Make sure that the following PI points have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate OCS connection Perform the following steps to determine if a connection to the OCS endpoint exists: Open OCS. Click Sequential Data Store \u003e Streams . Makes sure that the following streams have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate TCP connection Perform the following steps to see all established TCP sessions in Linux: Open a terminal. Type the following command: ss -o state established -t -p Press Enter."
                                                                   },
    "V1/Main/V1.4/Administration/administration.html":  {
                                                            "href":  "V1/Main/V1.4/Administration/administration.html",
                                                            "title":  "Administration",
                                                            "keywords":  "Administration With the PI adapter administration level functions, you can start and stop an adapter service and the individual adapter ingress components. You can also retrieve product version information and delete an adapter. The examples in the administration topics use curl , a commonly available tool on both Windows and Linux. You can use the same operations with any programming language or tool that supports making REST calls. You can also configure PI adapters with the EdgeCmd utility. For more information, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . To validate successful configurations, you can accomplish data retrieval steps ( GET commands) using a browser, if available on your device. For more information on PI adapter configuration tools, see Configuration tools ."
                                                        },
    "V1/Main/V1.4/Administration/delete-an-adapter-component.html":  {
                                                                         "href":  "V1/Main/V1.4/Administration/delete-an-adapter-component.html",
                                                                         "title":  "Delete an adapter component",
                                                                         "keywords":  "Delete an adapter component When you remove an adapter component, the configuration and log files are saved into a sub-directory in case they are needed later. Any associated types, streams, and data remain on the respective endpoints. Complete the following steps to delete an adapter component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e Note: You must make an empty DELETE command against the Id of the component you want to delete. 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Delete OpcUa1 adapter component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1\" \"http:  localhost:5590 api v1 configuration system components OpcUa1\" File relocation All configuration and log files are renamed and moved. The files are renamed according to the timestamp of removal, for example, FileName.json_removed_yyyy-MM-dd--hh-mm-ss . Configuration files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Configuration\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Configuration/Removed  usr share OSIsoft Adapters AdapterName Configuration Removed Log files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Logs\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Logs/Removed  usr share OSIsoft Adapters AdapterName Logs Removed In the following example, one Modbus adapter service is installed on a particular Windows node with the name ModbusService1 . A Modbus component with the name ModbusDeviceX was added and configured to this Modbus adapter and later removed. Linux follows a similar behavior. This is the resulting relocation and renaming scheme after deletion: Note: This is an example; it does not necessarily represent the adapter that you are currently using. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components/ api v1 configuration system components  ComponentId DELETE Deletes specified component Note: Replace ComponentId with the Id of the component that you want to delete."
                                                                     },
    "V1/Main/V1.4/Administration/retrieve-product-version-information.html":  {
                                                                                  "href":  "V1/Main/V1.4/Administration/retrieve-product-version-information.html",
                                                                                  "title":  "Retrieve product version information",
                                                                                  "keywords":  "Retrieve product version information The product version information includes the application version, the version of the underlying .NET Core framework, and the operating system that the adapter is running on. Complete the following steps to retrieve the product version information of a PI adapter: Use any of the Configuration tools capable of making HTTP requests. Run a GET command to the following endpoint: http://localhost:5590/api/v1/Diagnostics/ProductInformation http:  localhost:5590 api v1 Diagnostics ProductInformation Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Get product information for adapter hosted on port 5590 curl -X GET \"http://localhost:5590/api/v1/Diagnostics/ProductInformation \"http:  localhost:5590 api v1 Diagnostics ProductInformation Example result: { \"Application Version\":\"1.2.0.37\", \".Net Core Version\":\".NET Core 3.1.5\", \"Operating System\":\"Linux 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020\" }"
                                                                              },
    "V1/Main/V1.4/Administration/start-and-stop-an-adapter.html":  {
                                                                       "href":  "V1/Main/V1.4/Administration/start-and-stop-an-adapter.html",
                                                                       "title":  "Start and stop an adapter",
                                                                       "keywords":  "Start and stop an adapter Complete the procedure appropriate for your operating system to start or stop an adapter service: Windows Open Windows services. Select PI Adapter for AdapterName , for example, PI Adapter for Modbus. Note: This is an example; it does not necessarily represent the adapter that you are currently using. Depending on whether your adapter is running or not, click either Start or Stop . Linux Open command line. Depending on whether your adapter is running or not, type one of the following commands: Example: Start PI Adapter for OPC UA sudo systemctl start pi.adapter.opcua Example: Stop PI Adapter for Modbus TCP sudo systemctl stop pi.adapter.modbus Note: These commands are examples; they do not necessarily represent the adapter that you are currently using. Press Enter."
                                                                   },
    "V1/Main/V1.4/Administration/start-and-stop-ingress-component.html":  {
                                                                              "href":  "V1/Main/V1.4/Administration/start-and-stop-ingress-component.html",
                                                                              "title":  "Start and stop ingress component",
                                                                              "keywords":  "Start and stop ingress component To control data ingress, you can start and stop the ingress components of an adapter whenever necessary. By default, all currently configured ingress components are started. Start an ingress component Complete the following steps to start an individual ingress component: Use any of the Configuration tools capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to start: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Start http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Start Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Start the OpcUa1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/OpcUa1/Start\" \"http:  localhost:5590 api v1 Administration OpcUa1 Start\" Stop an ingress component Complete the following steps to stop an individual ingress component: Start any configuration tool capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to stop: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Stop http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Stop Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Stop the Modbus1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/Modbus1/Stop\" \"http:  localhost:5590 api v1 Administration Modbus1 Stop\""
                                                                          },
    "V1/Main/V1.4/Configuration/buffering-configuration.html":  {
                                                                    "href":  "V1/Main/V1.4/Configuration/buffering-configuration.html",
                                                                    "title":  "Buffering configuration",
                                                                    "keywords":  "Buffering configuration You can configure PI adapters to buffer data egressed from the adapter to endpoints. Buffering is configured through the buffering configuration parameters in the system configuration. Note: OSIsoft recommends that you do not modify the default buffering location unless it is necessary. Changes to the buffering configuration parameters only take effect during adapter service startup. Configure buffering Using any text editor, create a file that contains the buffering configuration in the JSON format. For content structure, see the sample output in Examples - Retrieve the buffering configuration . For a table of all available parameters, see Buffering parameters . Save the file. For example, ConfigureBuffering.json . Use any of the Configuration tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/buffering http:  localhost:5590 api v1 configuration system buffering Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureBuffering.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Note: Run this command from the same directory where the file is located. Buffering schema The full schema definition for the system buffering is in the System_Buffering_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Buffering parameters The following parameters are available for configuring buffering: Parameter Required Type Description EnablePersistentBuffering Optional boolean Enables or disables on-disk buffering Allowed value: true or false Default value: true Note: If you disable persistent buffering, in-memory buffering is used. In-memory buffering is limited by value in the MaxBufferSizeMB property. MaxBufferSizeMB Optional integer Defines the maximum size of the buffer files that are persisted on disk or used in memory when EnablePersistentBuffering is set to false per configured endpoint. The unit is specified in MB (1 Megabyte = 1048576 bytes). Consider the capacity and the type of storage medium to determine a suitable value for this parameter. Minimum value: 1 Maximum value: 2147483647 Default value: 1024 BufferLocation Required string Defines the location of the buffer files. Absolute paths are required. Consider the access-control list (ACL) when you set this parameter. Allowed value: Valid path to a folder location in the file system Default value: Windows: %ProgramData%\\OSIsoft\\Adapters\\{AdapterInstance}\\Buffers Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Buffers  usr share OSIsoft Adapters {AdapterInstance} Buffers Examples The following examples are buffering configurations made through the curl REST client. Retrieve the buffering configuration curl -X GET \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Sample output: { \"bufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/Modbus/Buffers\", \"C: ProgramData OSIsoft Adapters Modbus Buffers\", \"maxBufferSizeMB\": 1024, \"enablePersistentBuffering\": true } 200 OK response indicates success. Update MaxBufferSizeMb parameter curl -d \"{ \\\"MaxBufferSizeMB\\\": 100 }\" -H \"Content-Type: application/json\" application json\" -X PATCH \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" 204 No Content response indicates success. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/buffering api v1 configuration system buffering GET Gets the buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PUT Replaces the existing buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PATCH Update parameter, partial configuration"
                                                                },
    "V1/Main/V1.4/Configuration/configuration-tools.html":  {
                                                                "href":  "V1/Main/V1.4/Configuration/configuration-tools.html",
                                                                "title":  "Configuration tools",
                                                                "keywords":  "Configuration tools You can configure PI adapters with the EdgeCmd utility, OSIsoft\u0027s proprietary tool for configuring adapters, or a commonly-used REST tool. EdgeCmd utility The EdgeCmd utility enables adapter configuration on both Linux and Windows operating systems. For more information on using the EdgeCmd utility, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . REST tools The following tools are available to make REST calls: curl curl is a command line tool used to make HTTP calls and is supported on both Windows and Linux operating systems. You can script curl with Bash or PowerShell on Linux or Windows and you can use it to perform adapter administrative and programming tasks. curl commands are used in configuration and management examples throughout this document. For more information, see curl (https://curl.haxx.se/) (https:  curl.haxx.se ) . Postman Postman is a REST tool for systems with GUI components. PI adapters are supported on platforms without GUIs. Postman is particularly useful for learning more about PI Adapter REST APIs. For more information, see Postman (https://www.postman.com/) (https:  www.postman.com ) ."
                                                            },
    "V1/Main/V1.4/Configuration/configure-a-network-proxy.html":  {
                                                                      "href":  "V1/Main/V1.4/Configuration/configure-a-network-proxy.html",
                                                                      "title":  "Configure a network proxy",
                                                                      "keywords":  "Configure a network proxy Some network architectures may need a network proxy between the PI adapter and the egress endpoint. The process for configuring the adapter to egress data through a network proxy varies depending on the proxy type. HTTPS forward proxy For the adapter to use an HTTPS forward proxy while egressing, configure the https_proxy environment variable. The value of this environment variable must contain the URL of the proxy server, beginning with http . The format of the string is [user[:password]@]http://hostname[:port] [user[:password]@]http:  hostname[:port] . HTTPS proxy environment variable Parameter Required Description user Optional The user name for the HTTPS forward proxy. password Optional The password for the HTTPS forward proxy specified user name. If you specify user , password remains optional. port Optional If you do not specify port , the default 80 is used. Note: Usage of the https_proxy environment variable may affect other .NET or .NET Core applications. If you set this environment variable, it will affect the adapter egress endpoints and the adapter health endpoints. Example: myUser@http://192.168.2.2 myUser@http:  192.168.2.2 myUser:myPassword@http://proxymachine.domain:3128 myUser:myPassword@http:  proxymachine.domain:3128 http://proxymachine.domain http:  proxymachine.domain In Windows, this may look something like: For more information on how to configure system environment variables, refer to your platform specific documentation: Windows: setx Ubuntu: EnvironmentVariables Debian: EnvironmentVariables Docker: Environment variables in Compose Example of an architecture with an https forward proxy: Reverse proxy For the adapter to use a reverse proxy while egressing, you must configure the reverse proxy as an egress endpoint. Example: [{ \"Id\": \"PI Web API Through Proxy\", \"Endpoint\": \"https://\u003creverseProxy\u003e:\u003cport\u003e/piwebapi/omf/\", \"https:  \u003creverseProxy\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cpiWebApiUser\u003e\", \"Password\": \"\u003cpiWebApiPassword\u003e\" }] Example of an architecture with a reverse proxy:"
                                                                  },
    "V1/Main/V1.4/Configuration/data-filters-configuration.html":  {
                                                                       "href":  "V1/Main/V1.4/Configuration/data-filters-configuration.html",
                                                                       "title":  "Data filters configuration",
                                                                       "keywords":  "Data filters configuration PI adapters can be configured to perform data filtering to save network bandwidth. Every data item in the data selection configuration can be assigned the ID of a data filter. The adapter will then filter data for those data items based on the data filter configuration. Configure data filters Complete the following steps to change the data filters configuration: Using any text editor, create a file that contains the data filters configuration in the JSON format. For content structure, see Data filters example . For all available parameters, see Data filters parameters . Save the file, for example, as ConfigureDataFilters.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter, for example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureDataFilters.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters\" Note: Run this command from the same directory where the file is located. On successful execution, the change that you have made to data filters takes effect immediately during runtime. Data filters schema The full schema definition for the data filters configuration is in the AdapterName_DataFilters_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Data filters parameters The following parameters are available for configuring data filters: Parameter Required Type Description Id Required string Unique identifier for the data filter. Allowed value: any string identifier AbsoluteDeadband Optional double Specifies the absolute change in data value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing absolute deadband number Default value: null PercentChange Optional double Specifies the percent change from previous value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing percent change Default value: null ExpirationPeriod Optional timespan The length in time that can elapse after an event before automatically storing the next event. The expected format is HH:MM:SS.###. * Allowed value: any timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"ExpirationPeriod\": 25 specifies 25 seconds, or \"ExpirationPeriod\": 125 specifies 2 minutes and 5 seconds. Data filters example [ { \"Id\": \"DuplicateData\", \"AbsoluteDeadband\": 0, \"PercentChange\": null, \"ExpirationPeriod\": \"01:00:00\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters GET Gets all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters DELETE Deletes all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters POST Adds an array of data filters or a single data filter. Fails if any data filter already exists. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PUT Replaces all data. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PATCH Allows partial updating of configured data filter. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id GET Gets configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id DELETE Deletes configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id PUT Replaces data filter by id . Fails if data filter does not exist. Note: Replace ComponentId with the Id of your adapter component, for example, Modbus1."
                                                                   },
    "V1/Main/V1.4/Configuration/discovery-configuration.html":  {
                                                                    "href":  "V1/Main/V1.4/Configuration/discovery-configuration.html",
                                                                    "title":  "Discovery configuration",
                                                                    "keywords":  "Discovery configuration You can perform a data discovery for existing data pieces on demand. Data discovery is initiated through REST calls and it is tied to a specific discovery Id, which you can either specify or let the adapter generate it. Data discovery includes different routes. For example, you can choose to do the following: Retrieve the discovery results Query the discovery status Cancel or delete discoveries Merge discovery results with the data selection item Retrieve results from a current discovery and compare it with results from a previous or discovery Retrieve results from a current discovery and compare it with results from a current data selection configuration Configure discovery Start any of the Configuration tools capable of making HTTP requests. Run a POST command with the Id of the discovery and autoSelect set to either true or false to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Discoveries http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Discoveries . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"Id\\\":\\\"TestDiscovery\\\", \\\"autoSelect\\\":true }\" -X POST \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Discoveries\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Discoveries\" \u003c!--- ## Discovery schema The full schema definition for the general configuration is in the `\u003cAdapterName\u003e_Discovery_schema.json` file located in one of the following folders: Windows: `%ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas` Linux: `/opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas` ` opt OSIsoft Adapters \u003cAdapterName\u003e Schemas` ---\u003e Discovery parameters Parameter Type Description id string The Id of the discovery. Note: You cannot run multiple discoveries with the same Id. query string A filter that is specific to the data source. The query filter can limit the scope of the discovery. For more information, see the Data source configuration topic. startTime datetime Time when the discovery started. endTime datetime Time when the discovery ended. progress double Progress of the discovery. itemsFound integer Number of data pieces that the discovery found on the data source. newItems integer Number of new data pieces that the discovery found in comparison to the previous discovery. newAssets integer Number of new assets that the discovery found in comparison to the previous discovery. resultUri integer URL at which you can access the results of the discovery. autoSelect boolean When set to true , the result of the discovery gets pushed to the data selection. status reference Status of the discovery, for example Active or Complete . errors string Errors encountered during the discovery. Discoveries status example The following example shows the status of all discoveries. The discovery id in this example was auto-generated. Note: This is an example. It does not necessarily reflect the adapter you are currently using. [ { \"id\": \"8ff855f1-a636-490a-bb31-207410a6e607\", \"query\": null, \"startTime\": \"2020-09-30T19:34:01.8180401+02:00\", \"endTime\": \"2020-09-30T19:34:01.8368776+02:00\", \"progress\": 30, \"itemsFound\": 4, \"newItems\": 0, \"newAssets\": 0, \"resultUri\": \"http://127.0.0.1:5590/api/v1/Configuration/OpcUa1/Discoveries/8ff855f1-a636-490a-bb31-207410a6e607/result\", \"http:  127.0.0.1:5590 api v1 Configuration OpcUa1 Discoveries 8ff855f1-a636-490a-bb31-207410a6e607 result\", \"autoSelect\": false, \"status\": \"Complete\", \"errors\": null } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries GET Returns status of all discoveries api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries POST Initiates a new discovery and returns its Id api/v1/configuration/ api v1 configuration  componentId /discoveries  discoveries DELETE Cancels and deletes all saved discoveries api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId GET Gets the status of an individual discovery Note: If a discovery with the specified Id does not exist, you will get an error message api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId DELETE Cancels and deletes discovery and result api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result  result GET Returns the result of a discovery api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result?diff=  result?diff= previousId GET Returns the difference between the result and the previous result api/v1/configuration/ api v1 configuration  componentId /dataselection?diff=  dataselection?diff= discoveryId GET Returns the difference between the data selection configuration and the discovery results api/v1/configuration/ api v1 configuration  componentId /discoveries/  discoveries  discoveryId /result  result DELETE Cancels and deletes discovery result. Note: The discovery Id is still valid, but a query will contain a status of canceled Only the Status property will contain a canceled status, but not the query api/v1/configuration/ api v1 configuration  componentId /dataselection/select?discoveryid=  dataselection select?discoveryid= discoveryId POST Adds the discovered items to data selection with selected set to true api/v1/configuration/ api v1 configuration  componentId /dataselection/unselect?discoveryid=  dataselection unselect?discoveryid= discoveryId POST Adds the discovered items to data selection with selected set to false Note: Replace componentId with the Id of your adapter component, for example OpcUa1. Replace discoveryId with the Id of the discovery for which you want to perform the action."
                                                                },
    "V1/Main/V1.4/Configuration/egress-endpoint-configuration/configure-a-network-proxy.html":  {
                                                                                                    "href":  "V1/Main/V1.4/Configuration/egress-endpoint-configuration/configure-a-network-proxy.html",
                                                                                                    "title":  "Configure a network proxy",
                                                                                                    "keywords":  "Configure a network proxy Some network architectures may need a network proxy between the PI adapter and the egress endpoint. The process for configuring the adapter to egress data through a network proxy varies depending on the proxy type. HTTPS forward proxy For the adapter to use an HTTPS forward proxy while egressing, configure the https_proxy environment variable. The value of this environment variable must contain the URL of the proxy server, beginning with http . The format of the string is [user[:password]@]http://hostname[:port] [user[:password]@]http:  hostname[:port] . HTTPS proxy environment variable Parameter Required Description user Optional The user name for the HTTPS forward proxy. password Optional The password for the HTTPS forward proxy specified user name. If you specify user , password remains optional. port Optional If you do not specify port , the default 80 is used. Note: Usage of the https_proxy environment variable may affect other .NET or .NET Core applications. If you set this environment variable, it will affect the adapter egress endpoints and the adapter health endpoints. Example: myUser@http://192.168.2.2 myUser@http:  192.168.2.2 myUser:myPassword@http://proxymachine.domain:3128 myUser:myPassword@http:  proxymachine.domain:3128 http://proxymachine.domain http:  proxymachine.domain In Windows, this may look something like: For more information on how to configure system environment variables, refer to your platform specific documentation: Windows: setx Ubuntu: EnvironmentVariables Debian: EnvironmentVariables Docker: Environment variables in Compose Example of an architecture with an https forward proxy: Reverse proxy For the adapter to use a reverse proxy while egressing, you must configure the reverse proxy as an egress endpoint. Example: [{ \"Id\": \"PI Web API Through Proxy\", \"Endpoint\": \"https://\u003creverseProxy\u003e:\u003cport\u003e/piwebapi/omf/\", \"https:  \u003creverseProxy\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cpiWebApiUser\u003e\", \"Password\": \"\u003cpiWebApiPassword\u003e\" }] Example of an architecture with a reverse proxy:"
                                                                                                },
    "V1/Main/V1.4/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html":  {
                                                                                                      "href":  "V1/Main/V1.4/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html",
                                                                                                      "title":  "Prepare egress destinations",
                                                                                                      "keywords":  "Prepare egress destinations OCS and PI Server destinations may require additional configuration to receive OMF messages. OCS To prepare OCS to receive OMF messages from the adapter, create an OMF connection in OCS. Creating an OMF connection results in an available OMF endpoint that can be used by the adapter egress mechanism. Complete the following steps to create an OMF connection: Create a Client . The Client Id and Client Secret will be used for the corresponding properties in the egress configuration. Create an OMF type Connection . The connection should link the created client to an existing namespace where the data will be stored. The OMF Endpoint URL for the connection will be used as the egress configuration Endpoint property. PI Server To prepare a PI Server to receive OMF messages from the adapter, a PI Web API OMF endpoint must be available. Complete the following steps: Install PI Web API and enable the OSIsoft Message Format (OMF) Services feature. During configuration, choose an AF database and PI Data Archive where metadata and data will be stored. The account used in an egress configuration needs permissions to create AF elements, element templates, and PI points. Configure PI Web API to use Basic authentication. For complete steps, as well as best practices and recommendations, see the PI Web API User Guide on Live Library. Note: The certificate used by PI Web API must be trusted by the device running the adapter, otherwise the egress configuration ValidateEndpointCertificate property needs to be set to false (this can be the case with a self-signed certificate but should only be used for testing purposes). Note: To continue to send OMF egress messages to the PI Web API endpoint after upgrading PI Web API, restart the adapter service."
                                                                                                  },
    "V1/Main/V1.4/Configuration/egress-endpoints-configuration.html":  {
                                                                           "href":  "V1/Main/V1.4/Configuration/egress-endpoints-configuration.html",
                                                                           "title":  "Egress endpoints configuration",
                                                                           "keywords":  "Egress endpoints configuration PI adapters collect time series data, which they can send to a permanent data store (endpoint). This operation is called data egress. The following endpoints are available for data egress: OSIsoft Cloud Services (OCS) PI servers through PI Web API Edge Data Store (EDS) For long term storage and analysis, you can configure any adapter to send time series data to one or several of these endpoints in any combination. An egress endpoint is comprised of the properties specified under Egress endpoint parameters . Data egress to a PI server creates a PI point in the PI adapter configuration. Data egress to OCS or EDS creates a stream in the PI adapter configuration. Note: Egress to EDS requires the adapter to be on the same server as EDS. The name of the PI point or OCS or EDS stream is a combination of the StreamIdPrefix specified in the adapter data source configuration and the StreamId specified in the adapter data selection configuration. Configure egress endpoints Note: You cannot add egress configurations manually because some parameters are encrypted when stored to disk. You must use the REST endpoints to add or edit egress configuration. For additional endpoint configurations, see REST URLs . Complete the following steps to configure egress endpoints: Using any text editor, create a file that contains one or more egress endpoints in the JSON format. For content structure, see Examples . For a table of all available parameters, see Egress endpoint parameters . Save the file. For example, ConfigureEgressEndpoints.json . Use any of the Configuration tools capable of making HTTP requests and run the appropriate command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/ http:  localhost:5590 api v1 configuration OmfEgress dataendpoints  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Examples using curl : Note: Run the commands from the same directory where the file is located. Add endpoints Note: Run either the POST or the PUT command. For more information, see REST URLs . curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints\" curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Delete an endpoint curl -X DELETE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Update an endpoint curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X UPDATE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" View endpoints curl -X GET \"http://localhost:5590/api/v1/configuration/OmfEgress/DataEndpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress DataEndpoints\" Egress endpoint configuration schema The full schema definition for the egress endpoint configuration is in the OmfEgress_DataEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Egress endpoint parameters The following parameters are available for configuring egress endpoints: Parameter Required Type Description Id Optional string Unique identifier Allowed value: any string identifier Default value: new GUID Endpoint Required string Destination that accepts OMF v1.2 messages. Supported destinations include OCS, PI Server, and EDS. Allowed value: well-formed http or https endpoint string Default: null Username Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null Note: If your username contains a backslash, you must add an escape character, for example, type OilCompany\\TestUser as OilCompany\\\\TestUser . EDS: Allowed value: any string, can be null if the endpoint URL schema is HTTP Password Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, can be null if the endpoint URL schema is HTTP ClientId Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string, can be null if the endpoint URL schema is HTTP Default: null ClientSecret Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string, can be null if the endpoint URL schema is HTTP Default: null TokenEndpoint Optional for OCS endpoint string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination certificate. Note: Only use for testing with self-signed certificates. Allowed value: true or false Default value: true Note: If the URL schema for the egress endpoint is HTTP, which is typical for EDS, then you do not need to specify credentials. Examples The following examples are valid egress configurations: Egress data to OCS [{ \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" }] Egress data to PI Web API [{ \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" }] Egress data to EDS [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints GET Gets all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints DELETE Deletes all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints POST Adds an array of egress endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PUT Replaces all egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PATCH Allows partial updating of configured endpoints. Note: The request must be an array containing one or more endpoints. Each endpoint in the array must include its Id . api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} GET Gets configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} DELETE Deletes configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PUT Updates or creates a new endpoint with the specified Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PATCH Allows partial updating of configured endpoint by Id Egress execution details After configuring an egress endpoint, egress is immediately run for that endpoint. Egress is handled individually per configured endpoint. When data is egressed for the first time, types and containers are egressed to the configured endpoint. After that only new or changed types or containers are egressed. Type creation must be successful in order to create containers. Container creation must be successful in order to egress data. If you delete an egress endpoint, data flow immediately stops for that endpoint. Buffered data in a deleted endpoint is permanently lost. Type, container, and data items are batched into one or more OMF messages when egressing. As per the requirements defined in OMF, a single message payload will not exceed 192KB in size. Compression is automatically applied to outbound egress messages. On the egress destination, failure to add a single item results in the message failing. Types, containers, and data are egressed as long as the destination continues to respond to HTTP requests."
                                                                       },
    "V1/Main/V1.4/Configuration/general-configuration.html":  {
                                                                  "href":  "V1/Main/V1.4/Configuration/general-configuration.html",
                                                                  "title":  "General configuration",
                                                                  "keywords":  "General configuration You can configure PI adapters to produce and store diagnostics data at a designated health endpoint, and to send metadata for created streams. For more information about available diagnostics data, see Adapter diagnostics and Egress diagnostics . For more information about available metadata and what metadata are sent per metadata level, see Adapter Metadata . Configure general Start any of the Configuration tools capable of making HTTP requests. Run a PUT command to the following endpoint, setting enableDiagnostics to either true or false and MetadataLevel to None , Low , Medium , or High : http://localhost:5590/api/v1/configuration/system/general http:  localhost:5590 api v1 configuration system general Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"enableDiagnostics\\\":true, \\\"enableMetadata\\\":false }\" -X PUT \"http://localhost:5590/api/v1/configuration/system/general\" \"http:  localhost:5590 api v1 configuration system general\" General schema The full schema definition for the general configuration is in the System_General_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas General parameters The following parameters are available for configuring general: Parameter Required Type Description EnableDiagnostics Optional boolean Determines if diagnostics are enabled Allowed value: true or false Default value: true MetadataLevel Optional reference Defines amount of metadata sent to OMF endpoints. Allowed value: None , Low , Medium , and High Default value: Medium Example Retrieve the general configuration Example using curl : curl -X GET \"http://localhost:{port}/api/v1/configuration/system/general\" \"http:  localhost:{port} api v1 configuration system general\" Sample output: { \"EnableDiagnostics\": true, \"MetadataLevel\": \"Medium\" } REST URLs Relative URL HTTP verb Action api/v1/configuration/system/General api v1 configuration system General GET Gets the general configuration api/v1/configuration/system/General api v1 configuration system General PUT Replaces the existing general configuration api/v1/configuration/system/General api v1 configuration system General PATCH Allows partial updating of general configuration"
                                                              },
    "V1/Main/V1.4/Configuration/health-endpoint-configuration.html":  {
                                                                          "href":  "V1/Main/V1.4/Configuration/health-endpoint-configuration.html",
                                                                          "title":  "Health endpoint configuration",
                                                                          "keywords":  "Health endpoint configuration You can configure PI adapters to produce and store health data at a designated health endpoint. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information about adapter health, see Adapter health . Configure health endpoint A health endpoint designates an OMF endpoint where adapter health information is sent. You can configure multiple health endpoints. Use any text editor to create a file that contains one or more health endpoints in the JSON format. For content structure, see Examples . For a table of all available health endpoint parameters, see Health endpoint parameters . Save the file. For example, ConfigureHealthEndpoints.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints http:  localhost:5590 api v1 configuration system healthendpoints Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/healthendpoints\" \"http:  localhost:5590 api v1 configuration system healthendpoints\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints/{Id} http:  localhost:5590 api v1 configuration system healthendpoints {Id} Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/healthendpoints/OCS\" \"http:  localhost:5590 api v1 configuration system healthendpoints OCS\" Health endpoints schema The full schema definition for the health endpoint configuration is in the System_HealthEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Health endpoint parameters The following parameters are available for configuring health endpoints: Parameter Required Type Description Id Optional string Uniquely identifies the endpoint. This can be any alphanumeric string. If left blank, a unique value is generated automatically. Allowed value: any string identifier Default value: new GUID Endpoint Required string The URL of the OMF endpoint to receive this health data Allowed value: well-formed http or https endpoint string Default: null Username Required for PI Web API and EDS endpoints string The username used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null Password Required for PI Web API endpoints string The password used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null ClientId Required for OCS endpoints string The client ID used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null ClientSecret Required for OCS endpoints string The client secret used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null TokenEndpoint Optional for OCS endpoints string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination security certificate. Use for testing only with self-signed certificates; OSIsoft recommends keeping this set to the default, true, in production environments. Allowed value: true or false Default value: true Examples OCS endpoint { \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" } PI Web API endpoint { \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" } EDS endpoint [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints GET Gets all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints DELETE Deletes all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints POST Adds an array of health endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PUT Replaces all health endpoints. Note: Requires an array of endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PATCH Allows partial updating of configured health endpoints Note: The request must be an array containing one or more health endpoints. Each health endpoint in the array must include its Id . api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id GET Gets configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id DELETE Deletes configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PUT Updates or creates a new health endpoint with the specified Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PATCH Allows partial updating of configured health endpoint by Id Note: Replace Id with the Id of the health endpoint."
                                                                      },
    "V1/Main/V1.4/Configuration/logging-configuration.html":  {
                                                                  "href":  "V1/Main/V1.4/Configuration/logging-configuration.html",
                                                                  "title":  "Logging configuration",
                                                                  "keywords":  "Logging configuration PI adapters write daily log messages for the adapter, the system, and OMF egress to flat text files in the following locations: ??? Windows: %ProgramData%\\OSIsoft\\Adapters{AdapterInstance}\\Logs ??? Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Logs  usr share OSIsoft Adapters {AdapterInstance} Logs Each message in the log displays the message severity level, timestamp, and the message itself. Configure logging Complete the following steps to change the logging configuration: Using any text editor, create a file that contains the logging configuration in the JSON format. For content structure, see Example . For all available parameters, see Logging parameters . Save the file. For example, ConfigureLogging.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, OpcUa1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureLogging.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging\" On successful execution, the log-level change takes effect immediately during runtime. The other configurations (log file size and file count) are updated after the adapter is restarted. Note: Any parameter not specified in the updated configuration file reverts to the default schema value. Logging schema The full schema definition for the logging configuration is in the component specific logging file: AdapterName_Logging_schema.json , OmfEgress_Logging_schema.json , or System_Logging_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Logging parameters The following parameters are available for configuring logging: Parameter Required Type Description LogLevel Optional reference The logLevel sets the minimum severity for messages to be included in the logs. Messages with a severity below the level set are not included. The log levels in their increasing order of severity are as follows: Trace , Debug , Information , Warning , Error , Critical , and None . Default log level: Information For detailed information about the log levels, see LogLevel . LogFileSizeLimitBytes Optional integer The maximum size (in bytes) of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1000 Maximum value: 9223372036854775807 Default value: 34636833 LogFileCountLimit Optional integer The maximum number of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1 Maximum value: 2147483647 Default value: 31 LogLevel Level Description Trace Logs that contain the most detailed messages. These messages may contain sensitive application data like actual received values, which is why these messages should not be enabled in production environment. Note: Trace is translated to Verbose in the log file. Debug Logs that can be used to troubleshoot data flow issues by recording metrics and detailed flow related information. Information Logs that track the general flow of the application. Any non-repetitive general information like the following can be useful for diagnosing potential application errors: - Version information related to the software at startup - External services used - Data source connection string - Number of measurements - Egress URL - Change of state ???Starting??? or ???Stopping??? - Configuration Warning Logs that highlight an abnormal or unexpected event in the application flow that does not otherwise cause the application execution to stop. Warning messages can indicate an unconfigured data source state, that a communication with backup failover instance has been lost, an insecure communication channel in use, or any other event that could require attention but that does not impact data flow. Error Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity and not an application-wide failure. It can indicate an invalid configuration, unavailable external endpoint, internal flow error, and so on. Critical Logs that describe an unrecoverable application or system crash or a catastrophic failure that requires immediate attention. This can indicate application wide failures like beta timeout expired, unable to start self-hosted endpoint, unable to access vital resource (for example, Data Protection key file), and so on. Note: Critical is translated to Fatal in the log file. None Logging is disabled for the given component. Example Default logging configuration By default, logging captures Information, Warning, Error, and Critical messages in the message logs. The following logging configuration is the installation default for a component: { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 } REST URLs Relative URL HTTP verb Action api/v1/configuration/System/Logging api v1 configuration System Logging GET Retrieves the system logging configuration api/v1/configuration/System/Logging api v1 configuration System Logging PUT Updates the system logging configuration api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging GET Retrieves the logging configuration of the specified adapter component api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging PUT Updates the logging configuration of the specified adapter component Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1 or OpcUa1."
                                                              },
    "V1/Main/V1.4/Configuration/schedules-configuration.html":  {
                                                                    "href":  "V1/Main/V1.4/Configuration/schedules-configuration.html",
                                                                    "title":  "Schedules configuration",
                                                                    "keywords":  "Schedules configuration You can configure PI adapters to run scans based on a schedule. If the adapter supports schedules, each data item in the data selection configuration can be assigned a schedule. The adapter will then sample data for those data items at the scheduled time. Note: If the adapter supports scheduling and you start an ingress component without a schedules configuration, a default schedules configuration will be added to be used as an example. Note: When the adapter framework scheduler misses or skips a scan due to any reason, either one of the following messages is printed: Scan skipped for schedule id \u003cId\u003e or Scan missed for schedule \u003cid\u003e . Configure schedules Complete the following steps to change the schedules configuration: Using any text editor, create a file that contains the schedules configuration in the JSON format. For content structure, see Example . For all available parameters, see Schedules parameters . Save the file. For example, ConfigureSchedules.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSchedules.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules\" On successful execution, the schedules change takes effect immediately during runtime. Schedules schema The full schema definition for the schedules configuration is in the AdapterName_Schedules_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Schedules parameters The following parameters are available for configuring schedules: Parameter Required Type Description Id Required string Unique identifier for the schedule Allowed value: any string identifier Period Required string The data sampling rate of the schedule. The expected format is HH:MM:SS.###. * Invalid input: null , negative timespan, zero Default value: null (must be specified) Offset Optional string The offset from the midnight when the schedule starts. The expected format is HH:MM:SS.### * Invalid input: negative timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"Period\": 25 specifies 25 seconds, or \"Period\": 125 specifies 2 minutes and 5 seconds. Example [ { \"Id\": \"schedule1\", \"Period\": \"00:00:01.500\", \"Offset\": \"00:02:03\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules GET Gets all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules DELETE Deletes all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules POST Adds an array of schedules or a single schedule. Fails if any schedule already exists api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules PUT Replaces all schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id GET Gets configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id DELETE Deletes configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PUT Replaces schedule by id . Fails if schedule does not exist api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PATCH Allows partial updating of configured schedule by id Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1."
                                                                },
    "V1/Main/V1.4/Configuration/system-and-adapter-configuration.html":  {
                                                                             "href":  "V1/Main/V1.4/Configuration/system-and-adapter-configuration.html",
                                                                             "title":  "System and adapter configuration",
                                                                             "keywords":  "System and adapter configuration You can configure the system component and adapter component together using a single file. Change system and adapter configuration Change the system and adapter configuration by importing the JSON file using a REST client: Using any text editor, create a file that contains the System and adapter configuration in the JSON format. For content structure, see Example . Save the file. For example, ConfigureSystemAndAdapter.json . Use any of the Configuration Tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSystemAndAdapter.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration\" \"http:  localhost:5590 api v1 configuration\" Note: In order for some of the adapter specific configurations to take effect, you have to restart the adapter. If the operation fails due to errors in the configuration, the count of the error and suitable error messages are returned in the result. Example Note : The following is an example configuration; it does not necessarily represent the configuration of the adapter that you are currently using. The data source and data selection configurations are different for every adapter. Sample OPC UA adapter configuration { \"OpcUa1\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataSource\": { \"EndpointUrl\": \"opc.tcp://OPCUAServerEndpoint/OPCUA/Server\", \"opc.tcp:  OPCUAServerEndpoint OPCUA Server\", \"UseSecureConnection\": false, \"StreamPrefix\": \"OPC_Prefix_\", \"UserName\": null, \"Password\": null, \"RootNodeIds\": null, \"IncomingTimestamp\": \"Source\", \"applyPrefixToStreamId\": true }, \"DataSelection\": [ { \"Selected\": true, \"Name\": \"Sawtooth\", \"NodeId\": \"ns=3;s=Sawtooth\", \"StreamId\": \"SawtoothStream\" } ] }, \"System\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"HealthEndpoints\": [ ], \"Diagnostics\": { \"enableDiagnostics\": true }, \"Components\": [ { \"componentId\": \"Egress\", \"componentType\": \"OmfEgress\" }, { \"componentId\": \"OpcUa1\", \"componentType\": \"OpcUa\" } ], \"Buffering\": { \"BufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/OpcUa/Buffers\", \"C: ProgramData OSIsoft Adapters OpcUa Buffers\", \"MaxBufferSizeMB\": -1, \"EnableBuffering\": true } }, \"OmfEgress\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataEndpoints\": [ { \"id\": \"WebAPI EndPoint\", \"endpoint\": \"https://PIWEBAPIServer/piwebapi/omf\", \"https:  PIWEBAPIServer piwebapi omf\", \"userName\": \"USERNAME\", \"password\": \"PASSWORD\" }, { \"id\": \"OCS Endpoint\", \"endpoint\": \"https://OCSEndpoint/omf\", \"https:  OCSEndpoint omf\", \"clientId\": \"CLIENTID\", \"clientSecret\": \"CLIENTSECRET\" }, { \"Id\": \"EDS\", \"Endpoint\": \"http://localhost: \"http:  localhost: /api/v1/tenants/default/namespaces/default/omf\"  api v1 tenants default namespaces default omf\" \"UserName\": \"eds\", \"Password\": \"eds\" } ] } } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  PUT Replaces the configuration for the entire adapter"
                                                                         },
    "V1/Main/V1.4/Configuration/system-components-configuration.html":  {
                                                                            "href":  "V1/Main/V1.4/Configuration/system-components-configuration.html",
                                                                            "title":  "System components configuration",
                                                                            "keywords":  "System components configuration PI adapters use JSON configuration files in a protected directory on Windows and Linux to store configuration that is read on startup. While the files are accessible to view, OSIsoft recommends that you use REST or the EdgeCmd utility for any changes you make to the files. As part of making adapters as secure as possible, any passwords or secrets that you configure are stored in encrypted form where cryptographic key material is stored separately in a secure location. If you edit the files directly, the adapter may not work as expected. Note: You can edit any single component or facet of the system individually using REST, but you can also configure the system as a whole with a single REST call. Configure system components The configuration of system components includes adding, updating, and deleting components. Add a system component Complete the following steps to add a new component to the system: Note: The examples in this procedure do not necessarily represent the adapter that your are currently using. Using any text editor, create a file that contains the component to be added to the system in the JSON format. For content structure, see Examples . For a table of all available parameters, see System components parameters . Note: The OmfEgress component is required for this initial release for adapters to run. You can add additional components, but only a single OmfEgress component is supported. The following example adds a Modbus TCP adapter: { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" } Note: A unique ComponentId is necessary for each component in the system. This example uses the ComponentId Modbus1 since it is the first Modbus TCP adapter to be added. Save the file. For example, AddComponent.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003ccomponentId\u003e http:  localhost:5590 api v1 configuration system components \u003ccomponentId\u003e Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components/Modbus1\" \"http:  localhost:5590 api v1 configuration system components Modbus1\" After the curl command completes successfully, you can configure or use the new component. Update system components Complete the following steps to update the components of the system, for example, by adding or deleting one or more adapter components. Using any text editor, create a file that contains the current system components configuration. For information on how to retrieve the system components configuration, see REST URLs . Delete or add components as you need. Note: You cannot delete the OmfEgress component. Save the file. For example, UpdateComponents.json Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@UpdateComponents.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" Delete a system component Complete the following steps to delete a specific existing component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint, replacing \u003cComponentId\u003e with the ID of the component that you want to delete: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e/ http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. Delete OpcUa1 component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1/\" \"http:  localhost:5590 api v1 configuration system components OpcUa1 \" All the logs and configurations files for the deleted components are moved to the corresponding logs/Removed logs Removed or Configuration/Removed Configuration Removed folder. System components schema The full schema definition for the system components configuration is in the System_Components_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\AdapterName\\Schemas Linux: /opt/OSIsoft/Adapters/AdapterName/Schemas  opt OSIsoft Adapters AdapterName Schemas System components parameters You can configure the following parameters for system components: Parameters Required Type Description ComponentId Required string The ID of the component 1 . It can be any alphanumeric string, for example, Modbus1. A properly configured ComponentID follows these rules: Cannot contain leading or trailing space Cannot use the following characters: \u003e \u003c /   : ? # [ ] @ ! $ \u0026 * \\ \" ( ) \\\\ + , ; = \\| ` { } Note: The ComponentId is added to each container message that an adapter component sends to an OMF endpoint. It is displayed as the data source information (point source) in PI Web API. ComponentType Required string The type of the component, for example, Modbus. There are two types of components: OmfEgress and the adapter. 1 1 Note: The OmfEgress component is required to run the adapter. Both its ComponentId and ComponentType are reserved and should not be modified. Examples Default system components configuration The default System_Components.json file for the System component contains the following information. [ { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] System components configuration with two adapter instances Note: This is an example configuration; it does not necessarily include the adapter that you are currently using. [ { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"Modbus2\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components api v1 configuration system components GET Retrieves the system components configuration api/v1/configuration/system/components api v1 configuration system components POST Adds a new component to the system configuration api/v1/configuration/system/components api v1 configuration system components PUT Updates the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId DELETE Deletes a specific component from the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId PUT Creates a new component with the specified componentId in the system configuration"
                                                                        },
    "V1/Main/V1.4/Diagnostics/adapter-diagnostics.html":  {
                                                              "href":  "V1/Main/V1.4/Diagnostics/adapter-diagnostics.html",
                                                              "title":  "Adapter diagnostics",
                                                              "keywords":  "Adapter diagnostics The adapter and its components produce different kinds of diagnostics data that is sent to all health endpoints. The System_Diagnostics.json file contains a flag that determines whether diagnostics are enabled. You can change this at runtime through REST calls or the EdgeCmd utility. Diagnostics data are collected by default. To egress diagnostics related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available diagnostics data Every minute, dynamic data is sent to configured health endpoints. The following diagnostics data are available: System Stream count IO rate Error rate AF structure After running diagnostics with a health endpoint configured to a PI server, you can use PI System Explorer to view the diagnostics for a given adapter. The element hierarchy is shown in the following image. The Elements root contains a link to an Adapters node. This is the root node for all adapter instances. Below Adapters , you will find one or more adapter nodes. Each node\u0027s title is defined by the node\u0027s corresponding computer name and service name in this format: {ComputerName}.{ServiceName} . For example, in the following image, MachineName is the computer name and OpcUa is the service name. To see the System.Diagnostics values, click on an adapter node and set the tab to Attributes . Example values are shown in the image."
                                                          },
    "V1/Main/V1.4/Diagnostics/egress-diagnostics.html":  {
                                                             "href":  "V1/Main/V1.4/Diagnostics/egress-diagnostics.html",
                                                             "title":  "Egress diagnostics",
                                                             "keywords":  "Egress diagnostics The Egress component of the adapter produces the following diagnostics stream: IO rate The Diagnostics.Egress.IORate dynamic type includes the following values, which are logged in a stream with the Id {machineName}.{serviceName}.OmfEgress.{EndpointId}.IORate . IORate includes only sequential data successfully sent to an egress endpoint. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                                         },
    "V1/Main/V1.4/Diagnostics/error-rate.html":  {
                                                     "href":  "V1/Main/V1.4/Diagnostics/error-rate.html",
                                                     "title":  "Error rate",
                                                     "keywords":  "Error rate The Diagnostics.Adapter.ErrorRate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.ErrorRate . Property Type Description timestamp string Timestamp of event ErrorRate double One-minute rolling average of error rate (streams/second) (streams second)"
                                                 },
    "V1/Main/V1.4/Diagnostics/io-rate.html":  {
                                                  "href":  "V1/Main/V1.4/Diagnostics/io-rate.html",
                                                  "title":  "IO rate",
                                                  "keywords":  "IO rate The Diagnostics.Adapter.IORate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.IORate . IORate includes only sequential data collected from a data source. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                              },
    "V1/Main/V1.4/Diagnostics/stream-count.html":  {
                                                       "href":  "V1/Main/V1.4/Diagnostics/stream-count.html",
                                                       "title":  "Stream count",
                                                       "keywords":  "Stream count The Diagnostics.StreamCountEvent dynamic type includes the following values, which are logged in a stream with the Id {componentid}.StreamCount . The StreamCount and TypeCount include only types and streams created for sequential data received from a data source. Property Type Description timestamp string Timestamp of event StreamCount int Number of streams created by the adapter instance TypeCount int Number of types created by the adapter instance"
                                                   },
    "V1/Main/V1.4/Diagnostics/system.html":  {
                                                 "href":  "V1/Main/V1.4/Diagnostics/system.html",
                                                 "title":  "System",
                                                 "keywords":  "System The Diagnostics.System dynamic type includes the following values which are logged in a stream with the Id System.Diagnostics . This diagnostic stream contains system level information related to the host platform that the adapter is running on. Property Type Description timestamp string Timestamp of event ProcessIdentifier int Process Id of the host process StartTime string Time at which the host process started WorkingSet long Amount of physical memory in bytes, allocated for the host process TotalProcessorTime double Total processor time for the host process expressed in seconds TotalUserProcessorTime double User processor time for the host process expressed in seconds TotalPrivilegedProcessorTime double Privileged processor time for the host process expressed in seconds ThreadCount int Number of threads in the host process HandleCount int Number of handles opened by the host process ManagedMemorySize double Number of bytes currently thought to be allocated in managed memory Unit of Measure = megabytes PrivateMemorySize double Amount of paged memory in bytes allocated for the host process Unit of Measure = megabytes PeakPagedMemorySize double Maximum amount of memory in the virtual memory paging file in bytes used by the host process. Unit of Measure = megabytes StorageTotalSize double Total size of the storage medium in use by the system Unit of Measure = megabytes StorageFreeSpace double Free space available Unit of Measure = megabytes Each adapter component produces its own diagnostics streams."
                                             },
    "V1/Main/V1.4/Health/adapter-health.html":  {
                                                    "href":  "V1/Main/V1.4/Health/adapter-health.html",
                                                    "title":  "Adapter health",
                                                    "keywords":  "Adapter health PI Adapters produce different kinds of health data that can be egressed to different health endpoints. To egress health related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available health data Dynamic data is sent every minute to configured health endpoints. The following health data is available: Device status Next Health Message Expected AF structure With a health endpoint configured to a PI server, you can use PI System Explorer to view the health of a given adapter. The element hierarchy is shown in the following image."
                                                },
    "V1/Main/V1.4/Health/device-status.html":  {
                                                   "href":  "V1/Main/V1.4/Health/device-status.html",
                                                   "title":  "Device status",
                                                   "keywords":  "Device status The device status indicates the health of this component and if it is currently communicating properly with the data source. This time-series data is stored within a PI point or OCS stream, depending on the endpoint type. During healthy steady-state operation, a value of Good is expected. Property Type Description Time string Timestamp of the event DeviceStatus string The value of the DeviceStatus The possible statuses are: Status Meaning Good The component is connected to the data source and it is collecting data. ConnectedNoData The component is connected to the data source but it is not receiving data from it. AttemptingFailover The adapter is attempting to fail over. Starting The component is currently in the process of starting up and is not yet connected to the data source. DeviceInError The component encountered an error either while connecting to the data source or attempting to collect data. Shutdown The component is either in the process of shutting down or has finished. Removed The adapter component has been removed and will no longer collect data. NotConfigured The adapter component has been created but is not yet configured."
                                               },
    "V1/Main/V1.4/Health/health-and-diagnostics.html":  {
                                                            "href":  "V1/Main/V1.4/Health/health-and-diagnostics.html",
                                                            "title":  "Health and Diagnostics",
                                                            "keywords":  "Health and Diagnostics PI Adapters produce various types of health data. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information on available health data, see Adapter health . PI Adapters also produce diagnostic data. You can use diagnostic data to find more information about a particular adapter instance. Diagnostic data lives alongside the health data and you can egress it using a health endpoint and setting EnableDiagnostics to true . You can configure EnableDiagnostics in the system\u0027s General configuration . For more information on available diagnostics data, see Adapter diagnostics . Health endpoint differences Two OMF endpoints are currently supported for adapter health data: PI Web API OSIsoft Cloud Services There are a few differences in how these two systems treat the associated health and diagnostics data. PI Web API parses the information and sends it to configured PI servers for the OMF endpoint. The static data is used to create a hierarchy on a PI AF server similar to the following example: The dynamic health data is time-series data that is stored in PI points on a PI Data Archive. You can see it in the AF hierarchy as PI point data reference attributes. OSIsoft Cloud Services does not currently provide a way to store the static metadata. For OCS-based adapter health endpoints, only the dynamic data is stored. Each value is its own stream with the timestamp property as the single index."
                                                        },
    "V1/Main/V1.4/Health/next-health-message-expected.html":  {
                                                                  "href":  "V1/Main/V1.4/Health/next-health-message-expected.html",
                                                                  "title":  "Next health message expected",
                                                                  "keywords":  "Next health message expected This property is similar to a heartbeat. A new value for NextHealthMessageExpected is sent by an individual adapter data component on a periodic basis while it is functioning properly. This value is a timestamp that indicates when the next value should be received. When monitoring, if the next value is not received by the indicated time, this likely means that there is an issue. It could be an issue with the adapter, adapter component, network connection between the health endpoint and the adapter, and so on. Property Type Description Time string Timestamp of the event NextHealthMessageExpected string Timestamp when next value is expected"
                                                              },
    "V1/Main/V1.4/Installation/installation.html":  {
                                                        "href":  "V1/Main/V1.4/Installation/installation.html",
                                                        "title":  "Installation",
                                                        "keywords":  "Installation Adapters are installed on a local machine using an install kit downloaded from the OSIsoft Customer Portal. For instructions on downloading and installing adapters, see Install the adapter . Alternatively, you can build custom installers or containers for Linux. For more information, see the Docker instructions in the documentation of the respective adapter."
                                                    },
    "V1/Main/V1.4/Installation/install-the-adapter.html":  {
                                                               "href":  "V1/Main/V1.4/Installation/install-the-adapter.html",
                                                               "title":  "Install the adapter",
                                                               "keywords":  "Install the adapter You can install adapters on either a Windows or Linux operating system. Before installing the adapter, see the respective system requirements to ensure your machine is properly configured to provide optimum adapter operation. Windows Complete the following steps to install a PI adapter on a Windows computer: Download the Windows .msi file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Run the .msi file. Follow the setup wizard. You can change the installation folder or port number during setup. The default port number is 5590 . Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and try the script again. If the installation was successful, a JSON copy of the default system configuration is returned. Linux Complete the following steps to install a PI adapter on a Linux computer: Download the appropriate Linux distribution file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Open a terminal. Run the sudo app install command. Examples : To install the Linux ARM Debian package, run the command sudo apt install ./PI . PI Adapter for OpcUa_{version}-arm_.deb To install the Linux x64 package, run the command sudo apt install ./PI . PI Adapter for Modbus_{version}-x64_.deb Note: The previous file names are examples. They do not necessarily represent the adapter that you are currently using. Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and run the command again. If the installation was successful, a JSON copy of the default system configuration is returned."
                                                           },
    "V1/Main/V1.4/Installation/uninstall-the-adapter.html":  {
                                                                 "href":  "V1/Main/V1.4/Installation/uninstall-the-adapter.html",
                                                                 "title":  "Uninstall the adapter",
                                                                 "keywords":  "Uninstall the adapter Complete the procedure corresponding to your specific operating system to uninstall the adapter: Windows To delete the PI adapter program files from a Windows device, use the Windows Control Panel uninstall application process. Note: The configuration, data, and log files are not deleted by the uninstall process. Optional: To delete data, configuration, and log files, delete the directory %ProgramData%\\OSIsoft\\Adapters\\AdapterName . This deletes all data processed by the adapter, in addition to the configuration and log files. Linux To delete PI Adapter software from a Linux device, open a terminal window and run the following command: sudo apt remove pi.adapter.\u003cAdapterName\u003e Optional: To delete data, configuration, and log files, run the following command: sudo rm -r /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e  usr share OSIsoft Adapters \u003cAdapterName\u003e This deletes all data processed by the adapter, in addition to the configuration and log files."
                                                             },
    "V1/Main/V1.4/Metadata/adapter-metadata.html":  {
                                                        "href":  "V1/Main/V1.4/Metadata/adapter-metadata.html",
                                                        "title":  "Adapter metadata",
                                                        "keywords":  "Adapter metadata If the metadataLevel is set to Low or higher in the General configuration , adapter streams created by the ingress components include the following metadata: Datasource: {ComponentId} AdapterType: {ComponentType} ComponentId corresponds to the adapter components\u0027 data source configured in the Components configuration . ComponentType corresponds to the adapter type. For example, Modbus or OpcUa. Metadata for health and diagnostics streams If you configure a health endpoint and enable metadata, they are included in the health streams ( Device status and Next health message expected ) together with ComponentId and ComponentType . If you enable diagnostics in General configuration , metadata are included in the diagnostics streams ( Stream count , IO rate , Error rate ) together with ComponentId and ComponentType . The adapter may also send its own stream metadata not including health and diagnostics streams. For more information about what custom metadata is included in each stream, see the user guide for your adapter. Note: Metadata is only sent for streams created by the ingress components. Currently, the only endpoint that persists sent metadata is OCS (OSIsoft Cloud Services)."
                                                    },
    "V1/Main/V1.4/technical-support-and-feedback.html":  {
                                                             "href":  "V1/Main/V1.4/technical-support-and-feedback.html",
                                                             "title":  "Technical support and feedback",
                                                             "keywords":  "Technical support and feedback OSIsoft provides several ways to report issues and provide feedback on PI Adapters. Technical support For technical assistance with PI Adapters, contact OSIsoft Technical Support through the OSIsoft Customer Portal . We can help you identify the problem, provide workarounds and address any concerns you may have. Remote access to your facilities may be necessary during the session. Note: You must have an account set up in the OSIsoft Customer Portal before you can open a case. If you do not have a portal account, see How to Get a Login to OSIsoft Customer Portal . Alternatively, call OSIsoft Technical Support at +1 510-297-5828. When you contact OSIsoft Technical Support, be prepared to provide this information: Product name, version, and build numbers Details about your computer platform (CPU type, operating system, and version number) Time that the difficulty started Log files at that time Details of any environment changes prior to the start of the issue Summary of the issue, including any relevant log files during the time the issue occurred \u003c!--To view a brief primer on PI Adapters, see the [PI Adapters playbook](https://customers.osisoft.com/s/knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) playbook](https:  customers.osisoft.com s knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) in the OSIsoft Customer Portal.--\u003e Product feedback To submit product feedback for PI Adapters, visit the PI Adapters feedback page . The product team at OSIsoft regularly monitors the page. Documentation feedback To submit documentation feedback for PI Adapters, send an email to documentation@osisoft.com . Be sure to include the following information with your feedback: Product name and version Documentation topic URL Details of the suggestion or error The technical documentation team at OSIsoft will review and respond to your feedback."
                                                         },
    "V1/Main/V1.4/Troubleshooting/troubleshoot-the-adapter.html":  {
                                                                       "href":  "V1/Main/V1.4/Troubleshooting/troubleshoot-the-adapter.html",
                                                                       "title":  "Troubleshoot the adapter",
                                                                       "keywords":  "Troubleshoot the adapter PI adapters provide features for troubleshooting issues related to connectivity, data flow, and configuration. Resources include adapter logs and the Wireshark troubleshooting tool . If you are still unable to resolve issues or need additional guidance, contact OSIsoft Technical Support through the OSIsoft Customer Portal . Note: Make sure to also check the troubleshooting information specific to your adapter in this user guide. Logs Messages from the System and OmfEgress logs provide information on the status of the adapter. For example, they show if a connection from the adapter to an egress endpoint exists. Perform the following steps to view the System and OmfEgress logs: Navigate to the logs directory: Windows: %ProgramData%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Logs Linux: /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e/Logs  usr share OSIsoft Adapters \u003cAdapterName\u003e Logs . Example: A successful connection to a PI Web API egress endpoint displays the following message in the OmfEgress log: 2020-11-02 11:08:51.870 -06:00 [Information] Data will be sent to the following OMF endpoint: Id: \u003comfegress id\u003e Endpoint: \u003cpi web api URL\u003e (note: the pi web api default port is 443) ValidateEndpointCertificate: \u003ctrue or false\u003e Optional: Change the log level of the adapter to receive more information and context. For more information, see Logging configuration . ASP .NET Core platform The ASP .NET Core platform log provides information from the Kestrel web server that hosts the application. The log will only be present in case EDS encounters heartbeat failures or if the adapter throughput is too high. Perform the following steps to spread the load among multiple adapters: Decrease the scan frequency. Lower the amount of data selection items. \u003c!--## PI Web API and OCS user documentation PI Web API and OCS user documentation provides troubleshooting information for \u003cplaceholder\u003e --\u003e Wireshark Wireshark is a protocol-specific troubleshooting tool that supports all current adapter protocols. Perform the following steps if you want to use Wireshark to capture traffic from the data source to the adapter or from the adapter to the OMF destination. Download Wireshark . Familiarize yourself with the tool and read the Wireshark user guide . Health and diagnostics egress to PI Web API The adapter sends health and diagnostics data to PI Web API; in some cases, conflicts may occur that are due to changes or perceived changes in PI Web API. For example, a 409 - Conflict error message displays if you upgrade your adapter version and the PI points do not match in the upgraded version. However, data is continued to be sent as long as containers are created, so buffering only starts if no containers are created. To resolve the conflict, perform the following steps: Stop the adapter. Delete the Health folder inside of the Buffers folder. Stop PI Web API. Delete the relevant adapter created AF structure. Delete the associated health and diagnostics PI points on any or all PI Data Archives created by PI Web API. Start PI Web API. Start the adapter. Adapter connection to egress endpoint Certain egress health information in both PI Web API and OCS show if an adapter connection to an egress endpoint exists. To verify an active connection, perform one of the following procedures: PI Web API connection Perform the following steps to determine if a connection to the PI Web API endpoint exists: Open PI Web API. Select the OmfEgress component of your adapter, for example GVAdapterUbuntu.OpcUa.OmfEgress . Make sure that the following PI points have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate OCS connection Perform the following steps to determine if a connection to the OCS endpoint exists: Open OCS. Click Sequential Data Store \u003e Streams . Makes sure that the following streams have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate TCP connection Perform the following steps to see all established TCP sessions in Linux: Open a terminal. Type the following command: ss -o state established -t -p Press Enter."
                                                                   },
    "V1/Main/V1/Administration/Administration.html":  {
                                                          "href":  "V1/Main/V1/Administration/Administration.html",
                                                          "title":  "Administration",
                                                          "keywords":  "Administration With the PI adapter administration level functions, you can start and stop an adapter service and the individual adapter ingress components. You can also retrieve product version information and delete an adapter. The examples in the administration topics use curl , a commonly available tool on both Windows and Linux. You can use the same operations with any programming language or tool that supports making REST calls. You can also configure PI adapters with the EdgeCmd utility. For more information, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . To validate successful configurations, you can accomplish data retrieval steps ( GET commands) using a browser, if available on your device. For more information on PI adapter configuration tools, see Configuration tools ."
                                                      },
    "V1/Main/V1/Administration/delete-an-adapter-component.html":  {
                                                                       "href":  "V1/Main/V1/Administration/delete-an-adapter-component.html",
                                                                       "title":  "Delete an adapter component",
                                                                       "keywords":  "Delete an adapter component When you remove an adapter component, the configuration and log files are saved into a sub-directory in case they are needed later. Any associated types, streams, and data remain on the respective endpoints. Complete the following steps to delete an adapter component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e Note: You must make an empty DELETE command against the Id of the component you want to delete. 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Delete OpcUa1 adapter component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1\" \"http:  localhost:5590 api v1 configuration system components OpcUa1\" File relocation All configuration and log files are renamed and moved. The files are renamed according to the timestamp of removal, for example, FileName.json_removed_yyyy-MM-dd--hh-mm-ss . Configuration files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Configuration\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Configuration/Removed  usr share OSIsoft Adapters AdapterName Configuration Removed Log files are moved to the following location: Windows: %programdata%\\OSIsoft\\Adapters\\AdapterName\\Logs\\Removed Linux: /usr/share/OSIsoft/Adapters/AdapterName/Logs/Removed  usr share OSIsoft Adapters AdapterName Logs Removed In the following example, one Modbus adapter service is installed on a particular Windows node with the name ModbusService1 . A Modbus component with the name ModbusDeviceX was added and configured to this Modbus adapter and later removed. Linux follows a similar behavior. This is the resulting relocation and renaming scheme after deletion: Note: This is an example; it does not necessarily represent the adapter that you are currently using. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components/ api v1 configuration system components  ComponentId DELETE Deletes specified component Note: Replace ComponentId with the Id of the component that you want to delete."
                                                                   },
    "V1/Main/V1/Administration/retrieve-product-version-information.html":  {
                                                                                "href":  "V1/Main/V1/Administration/retrieve-product-version-information.html",
                                                                                "title":  "Retrieve product version information",
                                                                                "keywords":  "Retrieve product version information The product version information includes the application version, the version of the underlying .NET Core framework, and the operating system that the adapter is running on. Complete the following steps to retrieve the product version information of a PI adapter: Use any of the Configuration tools capable of making HTTP requests. Run a GET command to the following endpoint: http://localhost:5590/api/v1/Diagnostics/ProductInformation http:  localhost:5590 api v1 Diagnostics ProductInformation Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Get product information for adapter hosted on port 5590 curl -X GET \"http://localhost:5590/api/v1/Diagnostics/ProductInformation \"http:  localhost:5590 api v1 Diagnostics ProductInformation Example result: { \"Application Version\":\"1.2.0.37\", \".Net Core Version\":\".NET Core 3.1.5\", \"Operating System\":\"Linux 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020\" }"
                                                                            },
    "V1/Main/V1/Administration/start-and-stop-an-adapter.html":  {
                                                                     "href":  "V1/Main/V1/Administration/start-and-stop-an-adapter.html",
                                                                     "title":  "Start and stop an adapter",
                                                                     "keywords":  "Start and stop an adapter Complete the procedure appropriate for your operating system to start or stop an adapter service: Windows Open Windows services. Select PI Adapter for AdapterName , for example, PI Adapter for Modbus. Note: This is an example; it does not necessarily represent the adapter that you are currently using. Depending on whether your adapter is running or not, click either Start or Stop . Linux Open command line. Depending on whether your adapter is running or not, type one of the following commands: Example: Start PI Adapter for OPC UA sudo systemctl start pi.adapter.opcua Example: Stop PI Adapter for Modbus TCP sudo systemctl stop pi.adapter.modbus Note: These commands are examples; they do not necessarily represent the adapter that you are currently using. Press Enter."
                                                                 },
    "V1/Main/V1/Administration/start-and-stop-ingress-component.html":  {
                                                                            "href":  "V1/Main/V1/Administration/start-and-stop-ingress-component.html",
                                                                            "title":  "Start and stop ingress component",
                                                                            "keywords":  "Start and stop ingress component To control data ingress, you can start and stop the ingress components of an adapter whenever necessary. By default, all currently configured ingress components are started. Start an ingress component Complete the following steps to start an individual ingress component: Use any of the Configuration tools capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to start: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Start http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Start Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Start the OpcUa1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/OpcUa1/Start\" \"http:  localhost:5590 api v1 Administration OpcUa1 Start\" Stop an ingress component Complete the following steps to stop an individual ingress component: Start any configuration tool capable of making HTTP requests. Run a POST command to the following endpoint, replacing \u003cingressComponentId\u003e with the ingress component that you want to stop: http://localhost:5590/api/v1/administration/\u003cingressComponentId\u003e/Stop http:  localhost:5590 api v1 administration \u003cingressComponentId\u003e Stop Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Stop the Modbus1 ingress component curl -d \"\" -X POST \"http://localhost:5590/api/v1/Administration/Modbus1/Stop\" \"http:  localhost:5590 api v1 Administration Modbus1 Stop\""
                                                                        },
    "V1/Main/V1/ARCHIVE/Adapter diagnostics_old.html":  {
                                                            "href":  "V1/Main/V1/ARCHIVE/Adapter diagnostics_old.html",
                                                            "title":  "Adapter diagnostics",
                                                            "keywords":  "Adapter diagnostics OSIsoft adapters produce diagnostic data which you can use to find more information about a particular adapter instance. This data lives alongside the health data and you can egress it using a Health Endpoint and setting EnableDiagnostics = true. For configuration of health endpoints, see \u003c/Health/Health.md\u003e. \u003c Health Health.md\u003e. AF hierarchy When you use PI Web API as a health endpoint, an AF hierarchy is created containing both the diagnostics and health data and metadata. Currently, OSIsoft Cloud Services does not provide a way to store static metadata and only contains the dynamic streams. For more information or to see an example of this hierarchy, see \u003c/Health/Health.md\u003e. \u003c Health Health.md\u003e. Stream count The stream count indicates the number of streams and associated types being produced and sent data for a particular adapter instance. Type Property Description string Timestamp Timestamp of event int StreamCount Overall number of streams created by the adapter instance int TypeCount Overall number of types created by the adapter instance IO rate The IO rate indicates the running average number of streams per second being produced by an adapter instance. Type Property Description string Timestamp Timestamp of event double IORate Average data rate (streams/second) (streams second) Error rate The error rate indicates the average number of errors per second occurring for a particular adapter instance. Type Property Description string Timestamp Timestamp of event double ErrorRate Average error rate (streams/second) (streams second)"
                                                        },
    "V1/Main/V1/ARCHIVE/Diagnostics configuration.html":  {
                                                              "href":  "V1/Main/V1/ARCHIVE/Diagnostics configuration.html",
                                                              "title":  "Diagnostics configuration",
                                                              "keywords":  "Diagnostics configuration You can configure OSIsoft adapters to produce and store diagnostics data at a designated health endpoint. For more information about available diagnostics data, see Adapter diagnostics . Configure diagnostics Start any of the Configuration tools capable of making HTTP requests. Run a PUT command to the following endpoint and set the enableDiagnostics parameter to either true or false : http://localhost:5590/api/v1/configuration/system/diagnostics http:  localhost:5590 api v1 configuration system diagnostics Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \"enableDiagnostics\":true }\" -X PUT \"http://localhost:5590/api/v1/configuration/system/diagnostics\" \"http:  localhost:5590 api v1 configuration system diagnostics\" Diagnostics schema The full schema definition for the diagnostics configuration is in the System_Diagnostics_schema.json here: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\AdapterName\\Schemas Linux: /opt/OSIsoft/Adapters/AdapterName/Schemas  opt OSIsoft Adapters AdapterName Schemas Diagnostics parameters The following parameters are available for configuring diagnostics: Parameter Required Type Description EnableDiagnostics Required boolean Determines whether Diagnostics are enabled Example Retrieve the diagnostics configuration Example using curl : curl -X GET \"http://localhost:{port}/api/v1/configuration/system/diagnostics\" \"http:  localhost:{port} api v1 configuration system diagnostics\" Sample output: { \"enableDiagnostics\": true } REST URLs Relative URL HTTP verb Action api/v1/configuration/system/diagnostics api v1 configuration system diagnostics GET Gets the diagnostics configuration api/v1/configuration/system/diagnostics api v1 configuration system diagnostics PUT Replaces the existing diagnostics configuration"
                                                          },
    "V1/Main/V1/ARCHIVE/Egress_DataEndpoints_schema.html":  {
                                                                "href":  "V1/Main/V1/ARCHIVE/Egress_DataEndpoints_schema.html",
                                                                "title":  "Egress endpoint configuration schema",
                                                                "keywords":  "Egress endpoint configuration schema [{ \"endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e/piwebapi/omf/\", server\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" }, { \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" } ] Abstract Extensible Status Identifiable Custom Properties Additional Properties Defined In Can be instantiated Yes Experimental No Forbidden Forbidden Egress_DataEndpoints_schema.json EgressEndpointConfiguration Properties Property Type Required Nullable Defined by ClientId string Optional Yes EgressEndpointConfiguration (this schema) ClientSecret string Optional Yes EgressEndpointConfiguration (this schema) Endpoint string Required No EgressEndpointConfiguration (this schema) Id string Optional Yes EgressEndpointConfiguration (this schema) Password string Optional Yes EgressEndpointConfiguration (this schema) TokenEndpoint string Optional Yes EgressEndpointConfiguration (this schema) UserName string Optional Yes EgressEndpointConfiguration (this schema) ValidateEndpointCertificate boolean Optional No EgressEndpointConfiguration (this schema) ClientId ClientId is optional type: string defined in this schema ClientId Type string , nullable ClientSecret ClientSecret is optional type: string defined in this schema ClientSecret Type string , nullable Endpoint Endpoint is required type: string defined in this schema Endpoint Type string minimum length: 1 characters Id Id is optional type: string defined in this schema Id Type string , nullable Password Password is optional type: string defined in this schema Password Type string , nullable TokenEndpoint TokenEndpoint is optional type: string defined in this schema TokenEndpoint Type string , nullable UserName UserName is optional type: string defined in this schema UserName Type string , nullable ValidateEndpointCertificate ValidateEndpointCertificate is optional type: boolean defined in this schema ValidateEndpointCertificate Type boolean All of the following requirements need to be fulfilled. Requirement 1 object with following properties: Property Type Required ClientId string Optional ClientSecret string Optional Endpoint string Required Id string Optional Password string Optional TokenEndpoint string Optional UserName string Optional ValidateEndpointCertificate boolean Optional ClientId ClientId is optional type: string ClientId Type string , nullable ClientSecret ClientSecret is optional type: string ClientSecret Type string , nullable Endpoint Endpoint is required type: string Endpoint Type string minimum length: 1 characters Id Id is optional type: string Id Type string , nullable Password Password is optional type: string Password Type string , nullable TokenEndpoint TokenEndpoint is optional type: string TokenEndpoint Type string , nullable UserName UserName is optional type: string UserName Type string , nullable ValidateEndpointCertificate ValidateEndpointCertificate is optional type: boolean ValidateEndpointCertificate Type boolean"
                                                            },
    "V1/Main/V1/Configuration/buffering-configuration.html":  {
                                                                  "href":  "V1/Main/V1/Configuration/buffering-configuration.html",
                                                                  "title":  "Buffering configuration",
                                                                  "keywords":  "Buffering configuration You can configure PI adapters to buffer data egressed from the adapter to egress and health endpoints. Buffering is configured through the buffering configuration parameters in the system configuration. You can configure buffering as memory only or on disk. Note: OSIsoft recommends that you do not modify the default buffering location unless it is necessary. Changes to the buffering configuration parameters only take effect during adapter service startup. Configure buffering Using any text editor, create a file that contains the buffering configuration in the JSON format. For content structure, see the sample output in Examples - Retrieve the buffering configuration . For a table of all available parameters, see Buffering parameters . Save the file. For example, ConfigureBuffering.json . Use any of the Configuration tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/buffering http:  localhost:5590 api v1 configuration system buffering Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureBuffering.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Note: Run this command from the same directory where the file is located. Buffering schema The full schema definition for the system buffering is in the System_Buffering_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Buffering parameters The following parameters are available for configuring buffering: Parameter Required Type Description EnablePersistentBuffering Optional boolean Enables or disables on-disk buffering Allowed value: true or false Default value: true Note: If you disable persistent buffering, in-memory buffering is used. In-memory buffering is limited by value in the MaxBufferSizeMB property. MaxBufferSizeMB Optional integer Defines the maximum size of the buffer files that are persisted on disk 1 or used in memory 2 when EnablePersistentBuffering is set to false per configured endpoint. The unit is specified in MB (1 Megabyte = 1048576 bytes). Consider the capacity and the type of storage medium to determine a suitable value for this parameter. Minimum value: 1 Maximum value: 2147483647 Default value: 1024 BufferLocation Required string Defines the location of the buffer files. Absolute paths are required. Consider the access-control list (ACL) when you set this parameter. Allowed value: Valid path to a folder location in the file system Default value: Windows: %ProgramData%\\OSIsoft\\Adapters\\{AdapterInstance}\\Buffers Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Buffers  usr share OSIsoft Adapters {AdapterInstance} Buffers 1 Buffering to disk - disk is only used if required; The MaxBufferSizeMB per an endpoint and buffer file is 20MB of storage. When MaxBufferSizeMB is reached, the oldest buffer file is deleted and a new buffer file created. When the buffer file of a MaxBufferSizeMB of 20MB fills, a new buffer file is created and the previous buffer file deleted. Note: The following rules apply in case of an error when creating a new buffer file: Attempt to delete oldest buffer file and retry. If unable to buffer, errors are logged to indicate data loss. If a buffer file is corrupted, an attempt is made to recover individual records and any failure to recover records is logged. 2 Buffering only to memory : The MaxBufferSizeMB of health endpoints is limited to 20MB of memory. When MaxBufferSizeMB is reached, only the oldest message in the memory buffer is removed. Depending on the size of a new message, several old messages are removed. Examples The following examples are buffering configurations made through the curl REST client. Retrieve the buffering configuration curl -X GET \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" Sample output: { \"bufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/Modbus/Buffers\", \"C: ProgramData OSIsoft Adapters Modbus Buffers\", \"maxBufferSizeMB\": 1024, \"enablePersistentBuffering\": true } 200 OK response indicates success. Update MaxBufferSizeMb parameter curl -d \"{ \\\"MaxBufferSizeMB\\\": 100 }\" -H \"Content-Type: application/json\" application json\" -X PATCH \"http://localhost:5590/api/v1/configuration/system/buffering\" \"http:  localhost:5590 api v1 configuration system buffering\" 204 No Content response indicates success. REST URLs Relative URL HTTP verb Action api/v1/configuration/system/buffering api v1 configuration system buffering GET Gets the buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PUT Replaces the existing buffering configuration api/v1/configuration/system/buffering api v1 configuration system buffering PATCH Update parameter, partial configuration"
                                                              },
    "V1/Main/V1/Configuration/configuration-tools.html":  {
                                                              "href":  "V1/Main/V1/Configuration/configuration-tools.html",
                                                              "title":  "Configuration tools",
                                                              "keywords":  "Configuration tools You can configure PI adapters with the EdgeCmd utility, OSIsoft\u0027s proprietary tool for configuring adapters, or a commonly-used REST tool. EdgeCmd utility The EdgeCmd utility enables adapter configuration on both Linux and Windows operating systems. For more information on using the EdgeCmd utility, see the EdgeCmd utility documentation (https://osisoft.github.io/Edgecmd-Docs/V1.1/edgecmd-utility.html) (https:  osisoft.github.io Edgecmd-Docs V1.1 edgecmd-utility.html) . REST tools The following tools are available to make REST calls: curl curl is a command line tool used to make HTTP calls and is supported on both Windows and Linux operating systems. You can script curl with Bash or PowerShell on Linux or Windows and you can use it to perform adapter administrative and programming tasks. curl commands are used in configuration and management examples throughout this document. For more information, see curl (https://curl.haxx.se/) (https:  curl.haxx.se ) . Postman Postman is a REST tool for systems with GUI components. PI adapters are supported on platforms without GUIs. Postman is particularly useful for learning more about PI Adapter REST APIs. For more information, see Postman (https://www.postman.com/) (https:  www.postman.com ) ."
                                                          },
    "V1/Main/V1/Configuration/data-filters-configuration.html":  {
                                                                     "href":  "V1/Main/V1/Configuration/data-filters-configuration.html",
                                                                     "title":  "Data filters configuration",
                                                                     "keywords":  "Data filters configuration PI adapters can be configured to perform data filtering to save network bandwidth. Every data item in the data selection configuration can be assigned the ID of a data filter. The adapter will then filter data for those data items based on the data filter configuration. Configure data filters Complete the following steps to change the data filters configuration: Using any text editor, create a file that contains the data filters configuration in the JSON format. For content structure, see Data filters example . For all available parameters, see Data filters parameters . Save the file, for example, as ConfigureDataFilters.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter, for example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"@ConfigureDataFilters.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/DataFilters\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e DataFilters\" Note: Run this command from the same directory where the file is located. On successful execution, the change that you have made to data filters takes effect immediately during runtime. Data filters schema The full schema definition for the data filters configuration is in the AdapterName_DataFilters_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Data filters parameters The following parameters are available for configuring data filters: Parameter Required Type Description Id Required string Unique identifier for the data filter. Allowed value: any string identifier AbsoluteDeadband Optional double Specifies the absolute change in data value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing absolute deadband number Default value: null PercentChange Optional double Specifies the percent change from previous value that should cause the current value to pass the filter test. Note: You must specify AbsoluteDeadband or PercentChange . Allowed value: double value representing percent change Default value: null ExpirationPeriod Optional timespan The length in time that can elapse after an event before automatically storing the next event. The expected format is HH:MM:SS.###. * Allowed value: any timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"ExpirationPeriod\": 25 specifies 25 seconds, or \"ExpirationPeriod\": 125 specifies 2 minutes and 5 seconds. Data filters example [ { \"Id\": \"DuplicateData\", \"AbsoluteDeadband\": 0, \"PercentChange\": null, \"ExpirationPeriod\": \"01:00:00\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters GET Gets all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters DELETE Deletes all configured data filters. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters POST Adds an array of data filters or a single data filter. Fails if any data filter already exists. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PUT Replaces all data. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters  DataFilters PATCH Allows partial updating of configured data filter. api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id GET Gets configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id DELETE Deletes configured data filter by id . api/v1/configuration/ api v1 configuration  ComponentId /DataFilters/  DataFilters  id PUT Replaces data filter by id . Fails if data filter does not exist. Note: Replace ComponentId with the Id of your adapter component, for example, Modbus1."
                                                                 },
    "V1/Main/V1/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html":  {
                                                                                                    "href":  "V1/Main/V1/Configuration/egress-endpoint-configuration/prepare-egress-destinations.html",
                                                                                                    "title":  "Prepare egress destinations",
                                                                                                    "keywords":  "Prepare egress destinations OCS and PI Server destinations may require additional configuration to receive OMF messages. OCS To prepare OCS to receive OMF messages from the adapter, create an OMF connection in OCS. Creating an OMF connection results in an available OMF endpoint that can be used by the adapter egress mechanism. Complete the following steps to create an OMF connection: Create a Client . The Client Id and Client Secret will be used for the corresponding properties in the egress configuration. Create an OMF type Connection . The connection should link the created client to an existing namespace where the data will be stored. The OMF Endpoint URL for the connection will be used as the egress configuration Endpoint property. PI Server To prepare a PI Server to receive OMF messages from the adapter, a PI Web API OMF endpoint must be available. Complete the following steps: Install PI Web API and enable the OSIsoft Message Format (OMF) Services feature. During configuration, choose an AF database and PI Data Archive where metadata and data will be stored. The account used in an egress configuration needs permissions to create AF elements, element templates, and PI points. Configure PI Web API to use Basic authentication. For complete steps, as well as best practices and recommendations, see the PI Web API User Guide on Live Library. Note: The certificate used by PI Web API must be trusted by the device running the adapter, otherwise the egress configuration ValidateEndpointCertificate property needs to be set to false (this can be the case with a self-signed certificate but should only be used for testing purposes). Note: To continue to send OMF egress messages to the PI Web API endpoint after upgrading PI Web API, restart the adapter service."
                                                                                                },
    "V1/Main/V1/Configuration/egress-endpoints-configuration.html":  {
                                                                         "href":  "V1/Main/V1/Configuration/egress-endpoints-configuration.html",
                                                                         "title":  "Egress endpoints configuration",
                                                                         "keywords":  "Egress endpoints configuration PI adapters collect time series data, which they can send to a permanent data store (endpoint). This operation is called data egress. The following endpoints are available for data egress: OSIsoft Cloud Services (OCS) PI servers through PI Web API Edge Data Store (EDS) For long term storage and analysis, you can configure any adapter to send time series data to one or several of these endpoints in any combination. An egress endpoint is comprised of the properties specified under Egress endpoint parameters . Data egress to a PI server creates a PI point in the PI adapter configuration. Data egress to OCS or EDS creates a stream in the PI adapter configuration. Note: Egress to EDS requires the adapter to be on the same server as EDS. The name of the PI point or OCS or EDS stream is a combination of the StreamIdPrefix specified in the adapter data source configuration and the StreamId specified in the adapter data selection configuration. Configure egress endpoints Note: You cannot add egress configurations manually because some parameters are encrypted when stored to disk. You must use the REST endpoints to add or edit egress configuration. For additional endpoint configurations, see REST URLs . Complete the following steps to configure egress endpoints: Using any text editor, create a file that contains one or more egress endpoints in the JSON format. For content structure, see Examples . For a table of all available parameters, see Egress endpoint parameters . Save the file. For example, ConfigureEgressEndpoints.json . Use any of the Configuration tools capable of making HTTP requests and run the appropriate command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/ http:  localhost:5590 api v1 configuration OmfEgress dataendpoints  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Examples using curl : Note: Run the commands from the same directory where the file is located. Add endpoints Note: Run either the POST or the PUT command. For more information, see REST URLs . curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints\" curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Delete an endpoint curl -X DELETE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" Update an endpoint curl -d \"@ConfigureEgressEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X UPDATE \"http://localhost:5590/api/v1/configuration/OmfEgress/dataendpoints/{Id}\" \"http:  localhost:5590 api v1 configuration OmfEgress dataendpoints {Id}\" View endpoints curl -X GET \"http://localhost:5590/api/v1/configuration/OmfEgress/DataEndpoints\" \"http:  localhost:5590 api v1 configuration OmfEgress DataEndpoints\" Egress endpoint configuration schema The full schema definition for the egress endpoint configuration is in the OmfEgress_DataEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Egress endpoint parameters The following parameters are available for configuring egress endpoints: Parameter Required Type Description Id Optional string Unique identifier Allowed value: any string identifier Default value: new GUID Endpoint Required string Destination that accepts OMF v1.1 messages. Supported destinations include OCS, PI Server, and EDS. Allowed value: well-formed http or https endpoint string Default: null Username Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null Note: If your username contains a backslash, you must add an escape character, for example, type OilCompany\\TestUser as OilCompany\\\\TestUser . EDS: Allowed value: any string, but cannot be null . Password Required for PI server and EDS endpoint string Basic authentication to the PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null ClientId Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string Default: null ClientSecret Required for OCS endpoint string Authentication with the OCS OMF endpoint Allowed value: any string Default: null TokenEndpoint Optional for OCS endpoint string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination certificate. Note: Only use for testing with self-signed certificates. Allowed value: true or false Default value: true Examples The following examples are valid egress configurations: Egress data to OCS [{ \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" }] Egress data to PI Web API [{ \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" }] Egress data to EDS [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints GET Gets all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints DELETE Deletes all configured egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints POST Adds an array of egress endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PUT Replaces all egress endpoints api/v1/configuration/omfegress/DataEndpoints api v1 configuration omfegress DataEndpoints PATCH Allows partial updating of configured endpoints. Note: The request must be an array containing one or more endpoints. Each endpoint in the array must include its Id . api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} GET Gets configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} DELETE Deletes configured endpoint by Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PUT Updates or creates a new endpoint with the specified Id api/v1/configuration/omfegress/DataEndpoints/{Id} api v1 configuration omfegress DataEndpoints {Id} PATCH Allows partial updating of configured endpoint by Id Egress execution details After configuring an egress endpoint, egress is immediately run for that endpoint. Egress is handled individually per configured endpoint. When data is egressed for the first time, types and containers are egressed to the configured endpoint. After that only new or changed types or containers are egressed. Type creation must be successful in order to create containers. Container creation must be successful in order to egress data. If you delete an egress endpoint, data flow immediately stops for that endpoint. Buffered data in a deleted endpoint is permanently lost. Type, container, and data items are batched into one or more OMF messages when egressing. As per the requirements defined in OMF, a single message payload will not exceed 192KB in size. Compression is automatically applied to outbound egress messages. On the egress destination, failure to add a single item results in the message failing. Types, containers, and data are egressed as long as the destination continues to respond to HTTP requests."
                                                                     },
    "V1/Main/V1/Configuration/general-configuration.html":  {
                                                                "href":  "V1/Main/V1/Configuration/general-configuration.html",
                                                                "title":  "General configuration",
                                                                "keywords":  "General configuration You can configure PI adapters to produce and store diagnostics data at a designated health endpoint, and to send metadata for created streams. For more information about available diagnostics data, see Adapter diagnostics and Egress diagnostics . For more information about available metadata and what metadata are sent per metadata level, see Adapter Metadata . Configure general Start any of the Configuration tools capable of making HTTP requests. Run a PUT command to the following endpoint, setting enableDiagnostics to either true or false and MetadataLevel to None , Low , Medium , or High : http://localhost:5590/api/v1/configuration/system/general http:  localhost:5590 api v1 configuration system general Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : curl -d \"{ \\\"enableDiagnostics\\\":true, \\\"enableMetadata\\\":false }\" -X PUT \"http://localhost:5590/api/v1/configuration/system/general\" \"http:  localhost:5590 api v1 configuration system general\" General schema The full schema definition for the general configuration is in the System_General_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas General parameters The following parameters are available for configuring general: Parameter Required Type Description EnableDiagnostics Optional boolean Determines if diagnostics are enabled Allowed value: true or false Default value: true MetadataLevel Optional reference Defines amount of metadata sent to OMF endpoints. Allowed value: None , Low , Medium , and High Default value: Medium Example Retrieve the general configuration Example using curl : curl -X GET \"http://localhost:{port}/api/v1/configuration/system/general\" \"http:  localhost:{port} api v1 configuration system general\" Sample output: { \"EnableDiagnostics\": true, \"MetadataLevel\": \"Medium\" } REST URLs Relative URL HTTP verb Action api/v1/configuration/system/General api v1 configuration system General GET Gets the general configuration api/v1/configuration/system/General api v1 configuration system General PUT Replaces the existing general configuration api/v1/configuration/system/General api v1 configuration system General PATCH Allows partial updating of general configuration"
                                                            },
    "V1/Main/V1/Configuration/health-endpoint-configuration.html":  {
                                                                        "href":  "V1/Main/V1/Configuration/health-endpoint-configuration.html",
                                                                        "title":  "Health endpoint configuration",
                                                                        "keywords":  "Health endpoint configuration You can configure PI adapters to produce and store health data at a designated health endpoint. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information about adapter health, see Adapter health . Configure health endpoint A health endpoint designates an OMF endpoint where adapter health information is sent. You can configure multiple health endpoints. Use any text editor to create a file that contains one or more health endpoints in the JSON format. For content structure, see Examples . For a table of all available health endpoint parameters, see Health endpoint parameters . Save the file. For example, ConfigureHealthEndpoints.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints http:  localhost:5590 api v1 configuration system healthendpoints Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/healthendpoints\" \"http:  localhost:5590 api v1 configuration system healthendpoints\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/healthendpoints/{Id} http:  localhost:5590 api v1 configuration system healthendpoints {Id} Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureHealthEndpoints.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/healthendpoints/OCS\" \"http:  localhost:5590 api v1 configuration system healthendpoints OCS\" Health endpoints schema The full schema definition for the health endpoint configuration is in the System_HealthEndpoints_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Health endpoint parameters The following parameters are available for configuring health endpoints: Parameter Required Type Description Id Optional string Uniquely identifies the endpoint. This can be any alphanumeric string. If left blank, a unique value is generated automatically. Allowed value: any string identifier Default value: new GUID Endpoint Required string The URL of the OMF endpoint to receive this health data Allowed value: well-formed http or https endpoint string Default: null Username Required for PI Web API and EDS endpoints string The username used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null Password Required for PI Web API endpoints string The password used to authenticate with a PI Web API OMF or EDS endpoint PI server: Allowed value: any string Default: null EDS: Allowed value: any string, but cannot be null ClientId Required for OCS endpoints string The client ID used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null ClientSecret Required for OCS endpoints string The client secret used for authentication with an OSIsoft Cloud Services OMF endpoint Allowed value: any string Default: null TokenEndpoint Optional for OCS endpoints string Retrieves an OCS token from an alternative endpoint Allowed value: well-formed http or https endpoint string Default value: null ValidateEndpointCertificate Optional boolean Disables verification of destination security certificate. Use for testing only with self-signed certificates; OSIsoft recommends keeping this set to the default, true, in production environments. Allowed value: true or false Default value: true Examples OCS endpoint { \"Id\": \"OCS\", \"Endpoint\": \"https://\u003cOCS \"https:  \u003cOCS OMF endpoint\u003e\", \"ClientId\": \"\u003cclientid\u003e\", \"ClientSecret\": \"\u003cclientsecret\u003e\" } PI Web API endpoint { \"Id\": \"PI Web API\", \"Endpoint\": \"https://\u003cpi \"https:  \u003cpi web api server\u003e:\u003cport\u003e/piwebapi/omf/\", server\u003e:\u003cport\u003e piwebapi omf \", \"UserName\": \"\u003cusername\u003e\", \"Password\": \"\u003cpassword\u003e\" } EDS endpoint [{ \"Id\": \"EDS\", \"Endpoint\": \"http://localhost:\u003cport\u003e/api/v1/tenants/default/namespaces/default/omf\", \"http:  localhost:\u003cport\u003e api v1 tenants default namespaces default omf\", \"UserName\": \"eds\", \"Password\": \"eds\" }] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints GET Gets all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints DELETE Deletes all configured health endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints POST Adds an array of health endpoints or a single endpoint. Fails if any endpoint already exists api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PUT Replaces all health endpoints. Note: Requires an array of endpoints api/v1/configuration/system/healthEndpoints api v1 configuration system healthEndpoints PATCH Allows partial updating of configured health endpoints Note: The request must be an array containing one or more health endpoints. Each health endpoint in the array must include its Id . api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id GET Gets configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id DELETE Deletes configured health endpoint by Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PUT Updates or creates a new health endpoint with the specified Id api/v1/configuration/system/healthEndpoints/ api v1 configuration system healthEndpoints  Id PATCH Allows partial updating of configured health endpoint by Id Note: Replace Id with the Id of the health endpoint."
                                                                    },
    "V1/Main/V1/Configuration/logging-configuration.html":  {
                                                                "href":  "V1/Main/V1/Configuration/logging-configuration.html",
                                                                "title":  "Logging configuration",
                                                                "keywords":  "Logging configuration PI adapters write daily log messages for the adapter, the system, and OMF egress to flat text files in the following locations: ??? Windows: %ProgramData%\\OSIsoft\\Adapters\\{AdapterInstance}\\Logs ??? Linux: /usr/share/OSIsoft/Adapters/{AdapterInstance}/Logs  usr share OSIsoft Adapters {AdapterInstance} Logs Each message in the log displays the message severity level, timestamp, and the message itself. Configure logging Complete the following steps to change the logging configuration: Using any text editor, create a file that contains the logging configuration in the JSON format. For content structure, see Example . For all available parameters, see Logging parameters . Save the file. For example, ConfigureLogging.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, OpcUa1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureLogging.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Logging\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Logging\" On successful execution, the log-level change takes effect immediately during runtime. The other configurations (log file size and file count) are updated after the adapter is restarted. Note: Any parameter not specified in the updated configuration file reverts to the default schema value. Logging schema The full schema definition for the logging configuration is in the component specific logging file: AdapterName_Logging_schema.json , OmfEgress_Logging_schema.json , or System_Logging_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Logging parameters The following parameters are available for configuring logging: Parameter Required Type Description LogLevel Optional reference The logLevel sets the minimum severity for messages to be included in the logs. Messages with a severity below the level set are not included. The log levels in their increasing order of severity are as follows: Trace , Debug , Information , Warning , Error , Critical , and None . Default log level: Information For detailed information about the log levels, see LogLevel . LogFileSizeLimitBytes Optional integer The maximum size (in bytes) of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1000 Maximum value: 9223372036854775807 Default value: 34636833 LogFileCountLimit Optional integer The maximum number of log files that the service will create for the component. The value must be a positive integer. Minimum value: 1 Maximum value: 2147483647 Default value: 31 LogLevel Level Description Trace Logs that contain the most detailed messages. These messages may contain sensitive application data like actual received values, which is why these messages should not be enabled in production environment. Note: Trace is translated to Verbose in the log file. Debug Logs that can be used to troubleshoot data flow issues by recording metrics and detailed flow related information. Information Logs that track the general flow of the application. Any non-repetitive general information like the following can be useful for diagnosing potential application errors: - Version information related to the software at startup - External services used - Data source connection string - Number of measurements - Egress URL - Change of state ???Starting??? or ???Stopping??? - Configuration Warning Logs that highlight an abnormal or unexpected event in the application flow that does not otherwise cause the application execution to stop. Warning messages can indicate an unconfigured data source state, that a communication with backup failover instance has been lost, an insecure communication channel in use, or any other event that could require attention but that does not impact data flow. Error Logs that highlight when the current flow of execution is stopped due to a failure. These should indicate a failure in the current activity and not an application-wide failure. It can indicate an invalid configuration, unavailable external endpoint, internal flow error, and so on. Critical Logs that describe an unrecoverable application or system crash or a catastrophic failure that requires immediate attention. This can indicate application wide failures like beta timeout expired, unable to start self-hosted endpoint, unable to access vital resource (for example, Data Protection key file), and so on. Note: Critical is translated to Fatal in the log file. None Logging is disabled for the given component. Example Default logging configuration By default, logging captures Information, Warning, Error, and Critical messages in the message logs. The following logging configuration is the installation default for a component: { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 } REST URLs Relative URL HTTP verb Action api/v1/configuration/System/Logging api v1 configuration System Logging GET Retrieves the system logging configuration api/v1/configuration/System/Logging api v1 configuration System Logging PUT Updates the system logging configuration api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging GET Retrieves the logging configuration of the specified adapter component api/v1/configuration/ api v1 configuration  ComponentId /Logging  Logging PUT Updates the logging configuration of the specified adapter component Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1 or OpcUa1."
                                                            },
    "V1/Main/V1/Configuration/schedules-configuration.html":  {
                                                                  "href":  "V1/Main/V1/Configuration/schedules-configuration.html",
                                                                  "title":  "Schedules configuration",
                                                                  "keywords":  "Schedules configuration You can configure PI adapters to run scans based on a schedule. If the adapter supports schedules, each data item in the data selection configuration can be assigned a schedule. The adapter will then sample data for those data items at the scheduled time. Note: If the adapter supports scheduling and you start an ingress component without a schedules configuration, a default schedules configuration will be added to be used as an example. Note: When the adapter framework scheduler misses or skips a scan due to any reason, either one of the following messages is printed: Scan skipped for schedule id \u003cId\u003e or Scan missed for schedule \u003cid\u003e . Configure schedules Complete the following steps to change the schedules configuration: Using any text editor, create a file that contains the schedules configuration in the JSON format. For content structure, see Example . For all available parameters, see Schedules parameters . Save the file. For example, ConfigureSchedules.json . Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules . Note: Replace \u003cComponentId\u003e with the ComponentId of the adapter. For example, Modbus1 . 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSchedules.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/\u003cComponentId\u003e/Schedules\" \"http:  localhost:5590 api v1 configuration \u003cComponentId\u003e Schedules\" On successful execution, the schedules change takes effect immediately during runtime. Schedules schema The full schema definition for the schedules configuration is in the AdapterName_Schedules_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Schemas Linux: /opt/OSIsoft/Adapters/\u003cAdapterName\u003e/Schemas  opt OSIsoft Adapters \u003cAdapterName\u003e Schemas Schedules parameters The following parameters are available for configuring schedules: Parameter Required Type Description Id Required string Unique identifier for the schedule Allowed value: any string identifier Period Required string The data sampling rate of the schedule. The expected format is HH:MM:SS.###. * Invalid input: null , negative timespan, zero Default value: null (must be specified) Offset Optional string The offset from the midnight when the schedule starts. The expected format is HH:MM:SS.### * Invalid input: negative timespan Default value: null * Note: You can also specify timespans as numbers in seconds. For example, \"Period\": 25 specifies 25 seconds, or \"Period\": 125 specifies 2 minutes and 5 seconds. Example [ { \"Id\": \"schedule1\", \"Period\": \"00:00:01.500\", \"Offset\": \"00:02:03\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules GET Gets all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules DELETE Deletes all configured schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules POST Adds an array of schedules or a single schedule. Fails if any schedule already exists api/v1/configuration/ api v1 configuration  ComponentId /Schedules  Schedules PUT Replaces all schedules api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id GET Gets configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id DELETE Deletes configured schedule by id api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PUT Replaces schedule by id . Fails if schedule does not exist api/v1/configuration/ api v1 configuration  ComponentId /Schedules/  Schedules  id PATCH Allows partial updating of configured schedule by id Note: Replace ComponentId with the Id of your adapter component. For example, Modbus1."
                                                              },
    "V1/Main/V1/Configuration/system-and-adapter-configuration.html":  {
                                                                           "href":  "V1/Main/V1/Configuration/system-and-adapter-configuration.html",
                                                                           "title":  "System and adapter configuration",
                                                                           "keywords":  "System and adapter configuration You can configure the system component and adapter component together using a single file. Change system and adapter configuration Change the system and adapter configuration by importing the JSON file using a REST client: Using any text editor, create a file that contains the System and adapter configuration in the JSON format. For content structure, see Example . Save the file. For example, ConfigureSystemAndAdapter.json . Use any of the Configuration Tools capable of making HTTP requests and run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@ConfigureSystemAndAdapter.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration\" \"http:  localhost:5590 api v1 configuration\" Note: In order for some of the adapter specific configurations to take effect, you have to restart the adapter. If the operation fails due to errors in the configuration, the count of the error and suitable error messages are returned in the result. Example Note : The following is an example configuration; it does not necessarily represent the configuration of the adapter that you are currently using. The data source and data selection configurations are different for every adapter. Sample OPC UA adapter configuration { \"OpcUa1\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataSource\": { \"EndpointUrl\": \"opc.tcp://OPCUAServerEndpoint/OPCUA/Server\", \"opc.tcp:  OPCUAServerEndpoint OPCUA Server\", \"UseSecureConnection\": false, \"StreamPrefix\": \"OPC_Prefix_\", \"UserName\": null, \"Password\": null, \"RootNodeIds\": null, \"IncomingTimestamp\": \"Source\", \"applyPrefixToStreamId\": true }, \"DataSelection\": [ { \"Selected\": true, \"Name\": \"Sawtooth\", \"NodeId\": \"ns=3;s=Sawtooth\", \"StreamId\": \"SawtoothStream\" } ] }, \"System\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"HealthEndpoints\": [ ], \"Diagnostics\": { \"enableDiagnostics\": true }, \"Components\": [ { \"componentId\": \"Egress\", \"componentType\": \"OmfEgress\" }, { \"componentId\": \"OpcUa1\", \"componentType\": \"OpcUa\" } ], \"Buffering\": { \"BufferLocation\": \"C:/ProgramData/OSIsoft/Adapters/OpcUa/Buffers\", \"C: ProgramData OSIsoft Adapters OpcUa Buffers\", \"MaxBufferSizeMB\": -1, \"EnableBuffering\": true } }, \"OmfEgress\": { \"Logging\": { \"logLevel\": \"Information\", \"logFileSizeLimitBytes\": 34636833, \"logFileCountLimit\": 31 }, \"DataEndpoints\": [ { \"id\": \"WebAPI EndPoint\", \"endpoint\": \"https://PIWEBAPIServer/piwebapi/omf\", \"https:  PIWEBAPIServer piwebapi omf\", \"userName\": \"USERNAME\", \"password\": \"PASSWORD\" }, { \"id\": \"OCS Endpoint\", \"endpoint\": \"https://OCSEndpoint/omf\", \"https:  OCSEndpoint omf\", \"clientId\": \"CLIENTID\", \"clientSecret\": \"CLIENTSECRET\" }, { \"Id\": \"EDS\", \"Endpoint\": \"http://localhost: \"http:  localhost: /api/v1/tenants/default/namespaces/default/omf\"  api v1 tenants default namespaces default omf\" \"UserName\": \"eds\", \"Password\": \"eds\" } ] } } REST URLs Relative URL HTTP verb Action api/v1/configuration/ api v1 configuration  PUT Replaces the configuration for the entire adapter"
                                                                       },
    "V1/Main/V1/Configuration/system-components-configuration.html":  {
                                                                          "href":  "V1/Main/V1/Configuration/system-components-configuration.html",
                                                                          "title":  "System components configuration",
                                                                          "keywords":  "System components configuration PI adapters use JSON configuration files in a protected directory on Windows and Linux to store configuration that is read on startup. While the files are accessible to view, OSIsoft recommends that you use REST or the EdgeCmd utility for any changes you make to the files. As part of making adapters as secure as possible, any passwords or secrets that you configure are stored in encrypted form where cryptographic key material is stored separately in a secure location. If you edit the files directly, the adapter may not work as expected. Note: You can edit any single component or facet of the system individually using REST, but you can also configure the system as a whole with a single REST call. Configure system components The configuration of system components includes adding, updating, and deleting components. Add a system component Complete the following steps to add a new component to the system: Note: The examples in this procedure do not necessarily represent the adapter that your are currently using. Using any text editor, create a file that contains the component to be added to the system in the JSON format. For content structure, see Examples . For a table of all available parameters, see System components parameters . Note: The OmfEgress component is required for this initial release for adapters to run. You can add additional components, but only a single OmfEgress component is supported. The following example adds a Modbus TCP adapter: { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" } Note: A unique ComponentId is necessary for each component in the system. This example uses the ComponentId Modbus1 since it is the first Modbus TCP adapter to be added. Save the file. For example, AddComponent.json . Use any of the Configuration tools capable of making HTTP requests to run either a POST or PUT command to their appropriate endpoint. Note: 5590 is the default port number. If you selected a different port number, replace it with that value. POST endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X POST \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" PUT endpoint: http://localhost:5590/api/v1/configuration/system/components/\u003ccomponentId\u003e http:  localhost:5590 api v1 configuration system components \u003ccomponentId\u003e Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@AddComponent.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components/Modbus1\" \"http:  localhost:5590 api v1 configuration system components Modbus1\" After the curl command completes successfully, you can configure or use the new component. Update system components Complete the following steps to update the components of the system, for example, by adding or deleting one or more adapter components. Using any text editor, create a file that contains the current system components configuration. For information on how to retrieve the system components configuration, see REST URLs . Delete or add components as you need. Note: You cannot delete the OmfEgress component. Save the file. For example, UpdateComponents.json Use any of the Configuration tools capable of making HTTP requests to run a PUT command with the contents of the file to the following endpoint: http://localhost:5590/api/v1/configuration/system/components http:  localhost:5590 api v1 configuration system components Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. curl -d \"@UpdateComponents.json\" -H \"Content-Type: application/json\" application json\" -X PUT \"http://localhost:5590/api/v1/configuration/system/components\" \"http:  localhost:5590 api v1 configuration system components\" Delete a system component Complete the following steps to delete a specific existing component: Start any of the Configuration tools capable of making HTTP requests. Run a DELETE command to the following endpoint, replacing \u003cComponentId\u003e with the ID of the component that you want to delete: http://localhost:5590/api/v1/configuration/system/components/\u003cComponentId\u003e/ http:  localhost:5590 api v1 configuration system components \u003cComponentId\u003e  Note: 5590 is the default port number. If you selected a different port number, replace it with that value. Example using curl : Note: Run this command from the same directory where the file is located. Delete OpcUa1 component curl -X DELETE \"http://localhost:5590/api/v1/configuration/system/components/OpcUa1/\" \"http:  localhost:5590 api v1 configuration system components OpcUa1 \" All the logs and configurations files for the deleted components are moved to the corresponding logs/Removed logs Removed or Configuration/Removed Configuration Removed folder. System components schema The full schema definition for the system components configuration is in the System_Components_schema.json file located in one of the following folders: Windows: %ProgramFiles%\\OSIsoft\\Adapters\\AdapterName\\Schemas Linux: /opt/OSIsoft/Adapters/AdapterName/Schemas  opt OSIsoft Adapters AdapterName Schemas System components parameters You can configure the following parameters for system components: Parameters Required Type Description ComponentId Required string The ID of the component 1 . It can be any alphanumeric string, for example, Modbus1. A properly configured ComponentID follows these rules: Cannot contain leading or trailing space Cannot use the following characters: \u003e \u003c /   : ? # [ ] @ ! $ \u0026 * \\ \" ( ) \\\\ + , ; = \\| ` { } ComponentType Required string The type of the component, for example, Modbus. There are two types of components: OmfEgress and the adapter. 1 1 Note: The OmfEgress component is required to run the adapter. Both its ComponentId and ComponentType are reserved and should not be modified. Examples Default system components configuration The default System_Components.json file for the System component contains the following information. [ { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] System components configuration with two adapter instances Note: This is an example configuration; it does not necessarily include the adapter that you are currently using. [ { \"ComponentId\": \"Modbus1\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"Modbus2\", \"ComponentType\": \"Modbus\" }, { \"ComponentId\": \"OmfEgress\", \"ComponentType\": \"OmfEgress\" } ] REST URLs Relative URL HTTP verb Action api/v1/configuration/system/components api v1 configuration system components GET Retrieves the system components configuration api/v1/configuration/system/components api v1 configuration system components POST Adds a new component to the system configuration api/v1/configuration/system/components api v1 configuration system components PUT Updates the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId DELETE Deletes a specific component from the system components configuration api/v1/configuration/system/components/ api v1 configuration system components  componentId PUT Creates a new component with the specified componentId in the system configuration"
                                                                      },
    "V1/Main/V1/Diagnostics/adapter-diagnostics.html":  {
                                                            "href":  "V1/Main/V1/Diagnostics/adapter-diagnostics.html",
                                                            "title":  "Adapter diagnostics",
                                                            "keywords":  "Adapter diagnostics The adapter and its components produce different kinds of diagnostics data that is sent to all health endpoints. The System_Diagnostics.json file contains a flag that determines whether diagnostics are enabled. You can change this at runtime through REST calls or the EdgeCmd utility. Diagnostics data are collected by default. To egress diagnostics related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available diagnostics data Every minute, dynamic data is sent to configured health endpoints. The following diagnostics data are available: System Stream count IO rate Error rate AF structure After running diagnostics with a health endpoint configured to a PI server, you can use PI System Explorer to view the diagnostics for a given adapter. The element hierarchy is shown in the following image. The Elements root contains a link to an Adapters node. This is the root node for all adapter instances. Below Adapters , you will find one or more adapter nodes. Each node\u0027s title is defined by the node\u0027s corresponding computer name and service name in this format: {ComputerName}.{ServiceName} . For example, in the following image, MachineName is the computer name and OpcUa is the service name. To see the System.Diagnostics values, click on an adapter node and set the tab to Attributes . Example values are shown in the image."
                                                        },
    "V1/Main/V1/Diagnostics/egress-diagnostics.html":  {
                                                           "href":  "V1/Main/V1/Diagnostics/egress-diagnostics.html",
                                                           "title":  "Egress diagnostics",
                                                           "keywords":  "Egress diagnostics The Egress component of the adapter produces the following diagnostics stream: IO rate The Diagnostics.Egress.IORate dynamic type includes the following values, which are logged in a stream with the Id {machineName}.{serviceName}.OmfEgress.{EndpointId}.IORate . IORate includes only sequential data successfully sent to an egress endpoint. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                                       },
    "V1/Main/V1/Diagnostics/error-rate.html":  {
                                                   "href":  "V1/Main/V1/Diagnostics/error-rate.html",
                                                   "title":  "Error rate",
                                                   "keywords":  "Error rate The Diagnostics.Adapter.ErrorRate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.ErrorRate . Property Type Description timestamp string Timestamp of event ErrorRate double One-minute rolling average of error rate (streams/second) (streams second)"
                                               },
    "V1/Main/V1/Diagnostics/io-rate.html":  {
                                                "href":  "V1/Main/V1/Diagnostics/io-rate.html",
                                                "title":  "IO rate",
                                                "keywords":  "IO rate The Diagnostics.Adapter.IORate dynamic type includes the following values, which are logged in a stream with the Id {componentid}.IORate . IORate includes only sequential data collected from a data source. Property Type Description timestamp string Timestamp of event IORate double One-minute rolling average of data rate (streams/second) (streams second)"
                                            },
    "V1/Main/V1/Diagnostics/stream-count.html":  {
                                                     "href":  "V1/Main/V1/Diagnostics/stream-count.html",
                                                     "title":  "Stream count",
                                                     "keywords":  "Stream count The Diagnostics.StreamCountEvent dynamic type includes the following values, which are logged in a stream with the Id {componentid}.StreamCount . The StreamCount and TypeCount include only types and streams created for sequential data received from a data source. Property Type Description timestamp string Timestamp of event StreamCount int Number of streams created by the adapter instance TypeCount int Number of types created by the adapter instance"
                                                 },
    "V1/Main/V1/Diagnostics/System.html":  {
                                               "href":  "V1/Main/V1/Diagnostics/System.html",
                                               "title":  "System",
                                               "keywords":  "System The Diagnostics.System dynamic type includes the following values which are logged in a stream with the Id System.Diagnostics . This diagnostic stream contains system level information related to the host platform that the adapter is running on. Property Type Description timestamp string Timestamp of event ProcessIdentifier int Process Id of the host process StartTime string Time at which the host process started WorkingSet long Amount of physical memory in bytes, allocated for the host process TotalProcessorTime double Total processor time for the host process expressed in seconds TotalUserProcessorTime double User processor time for the host process expressed in seconds TotalPrivilegedProcessorTime double Privileged processor time for the host process expressed in seconds ThreadCount int Number of threads in the host process HandleCount int Number of handles opened by the host process ManagedMemorySize double Number of bytes currently thought to be allocated in managed memory Unit of Measure = megabytes PrivateMemorySize double Amount of paged memory in bytes allocated for the host process Unit of Measure = megabytes PeakPagedMemorySize double Maximum amount of memory in the virtual memory paging file in bytes used by the host process. Unit of Measure = megabytes StorageTotalSize double Total size of the storage medium in use by the system Unit of Measure = megabytes StorageFreeSpace double Free space available Unit of Measure = megabytes Each adapter component produces its own diagnostics streams."
                                           },
    "V1/Main/V1/Health/adapter-health.html":  {
                                                  "href":  "V1/Main/V1/Health/adapter-health.html",
                                                  "title":  "Adapter health",
                                                  "keywords":  "Adapter health PI Adapters produce different kinds of health data that can be egressed to different health endpoints. To egress health related data, you have to configure an adapter health endpoint first. See Health endpoint configuration . Available health data Dynamic data is sent every minute to configured health endpoints. The following health data is available: Device status Next Health Message Expected AF structure With a health endpoint configured to a PI server, you can use PI System Explorer to view the health of a given adapter. The element hierarchy is shown in the following image."
                                              },
    "V1/Main/V1/Health/device-status.html":  {
                                                 "href":  "V1/Main/V1/Health/device-status.html",
                                                 "title":  "Device status",
                                                 "keywords":  "Device status The device status indicates the health of this component and if it is currently communicating properly with the data source. This time-series data is stored within a PI point or OCS stream, depending on the endpoint type. During healthy steady-state operation, a value of Good is expected. Property Type Description Time string Timestamp of the event DeviceStatus string The value of the DeviceStatus The possible statuses are: Status Meaning Good The component is connected to the data source and it is collecting data. ConnectedNoData The component is connected to the data source but it is not receiving data from it. AttemptingFailover The adapter is attempting to fail over. Starting The component is currently in the process of starting up and is not yet connected to the data source. DeviceInError The component encountered an error either while connecting to the data source or attempting to collect data. Shutdown The component is either in the process of shutting down or has finished. Removed The adapter component has been removed and will no longer collect data. NotConfigured The adapter component has been created but is not yet configured."
                                             },
    "V1/Main/V1/Health/health-and-diagnostics.html":  {
                                                          "href":  "V1/Main/V1/Health/health-and-diagnostics.html",
                                                          "title":  "Health and Diagnostics",
                                                          "keywords":  "Health and Diagnostics PI Adapters produce various types of health data. You can use health data to ensure that your adapters are running properly and that data flows to the configured OMF endpoints. For more information on available health data, see Adapter health . PI Adapters also produce diagnostic data. You can use diagnostic data to find more information about a particular adapter instance. Diagnostic data lives alongside the health data and you can egress it using a health endpoint and setting EnableDiagnostics to true . You can configure EnableDiagnostics in the system\u0027s General configuration . For more information on available diagnostics data, see Adapter diagnostics . Health endpoint differences Two OMF endpoints are currently supported for adapter health data: PI Web API OSIsoft Cloud Services There are a few differences in how these two systems treat the associated health and diagnostics data. PI Web API parses the information and sends it to configured PI servers for the OMF endpoint. The static data is used to create a hierarchy on a PI AF server similar to the following example: The dynamic health data is time-series data that is stored in PI points on a PI Data Archive. You can see it in the AF hierarchy as PI point data reference attributes. OSIsoft Cloud Services does not currently provide a way to store the static metadata. For OCS-based adapter health endpoints, only the dynamic data is stored. Each value is its own stream with the timestamp property as the single index."
                                                      },
    "V1/Main/V1/Health/next-health-message-expected.html":  {
                                                                "href":  "V1/Main/V1/Health/next-health-message-expected.html",
                                                                "title":  "Next health message expected",
                                                                "keywords":  "Next health message expected This property is similar to a heartbeat. A new value for NextHealthMessageExpected is sent by an individual adapter data component on a periodic basis while it is functioning properly. This value is a timestamp that indicates when the next value should be received. When monitoring, if the next value is not received by the indicated time, this likely means that there is an issue. It could be an issue with the adapter, adapter component, network connection between the health endpoint and the adapter, and so on. Property Type Description Time string Timestamp of the event NextHealthMessageExpected string Timestamp when next value is expected"
                                                            },
    "V1/Main/V1/Installation/Installation.html":  {
                                                      "href":  "V1/Main/V1/Installation/Installation.html",
                                                      "title":  "Installation",
                                                      "keywords":  "Installation Adapters are installed on a local machine using an install kit downloaded from the OSIsoft Customer Portal. For instructions on downloading and installing adapters, see Install the adapter . Alternatively, you can build custom installers or containers for Linux. For more information, see the Docker instructions in the documentation of the respective adapter."
                                                  },
    "V1/Main/V1/Installation/install-the-adapter.html":  {
                                                             "href":  "V1/Main/V1/Installation/install-the-adapter.html",
                                                             "title":  "Install the adapter",
                                                             "keywords":  "Install the adapter You can install adapters on either a Windows or Linux operating system. Before installing the adapter, see the respective system requirements to ensure your machine is properly configured to provide optimum adapter operation. Windows Complete the following steps to install a PI adapter on a Windows computer: Download the Windows .msi file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Run the .msi file. Follow the setup wizard. You can change the installation folder or port number during setup. The default port number is 5590 . Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and try the script again. If the installation was successful, a JSON copy of the default system configuration is returned. Linux Complete the following steps to install a PI adapter on a Linux computer: Download the appropriate Linux distribution file from the OSIsoft Customer portal (https://customers.osisoft.com/s/products) (https:  customers.osisoft.com s products) . Note: Customer login credentials are required to access the portal. Open a terminal. Run the sudo app install command. Examples : To install the Linux ARM Debian package, run the command sudo apt install ./OpcUa_linux-arm.deb . OpcUa_linux-arm.deb To install the Linux x64 package, run the command sudo apt install ./Modbus_linux-x64.deb . Modbus_linux-x64.deb Note: The previous file names are examples. They do not necessarily represent the adapter that you are currently using. Optional: To verify the installation, run the following curl command with the port number that you specified during installation: curl http://localhost:5590/api/v1/configuration http:  localhost:5590 api v1 configuration If you receive an error, wait a few seconds and run the command again. If the installation was successful, a JSON copy of the default system configuration is returned."
                                                         },
    "V1/Main/V1/Installation/uninstall-the-adapter.html":  {
                                                               "href":  "V1/Main/V1/Installation/uninstall-the-adapter.html",
                                                               "title":  "Uninstall the adapter",
                                                               "keywords":  "Uninstall the adapter Complete the procedure corresponding to your specific operating system to uninstall the adapter: Windows To delete the PI adapter program files from a Windows device, use the Windows Control Panel uninstall application process. Note: The configuration, data, and log files are not deleted by the uninstall process. Optional: To delete data, configuration, and log files, delete the directory %ProgramData%\\OSIsoft\\Adapters\\AdapterName . This deletes all data processed by the adapter, in addition to the configuration and log files. Linux To delete PI Adapter software from a Linux device, open a terminal window and run the following command: sudo apt remove pi.adapter.\u003cAdapterName\u003e Optional: To delete data, configuration, and log files, run the following command: sudo rm -r /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e  usr share OSIsoft Adapters \u003cAdapterName\u003e This deletes all data processed by the adapter, in addition to the configuration and log files."
                                                           },
    "V1/Main/V1/Metadata/adapter-metadata.html":  {
                                                      "href":  "V1/Main/V1/Metadata/adapter-metadata.html",
                                                      "title":  "Adapter metadata",
                                                      "keywords":  "Adapter metadata If the metadataLevel is set to Low or higher in the General configuration , adapter streams created by the ingress components include the following metadata: Datasource: {ComponentId} AdapterType: {ComponentType} ComponentId corresponds to the adapter components\u0027 data source configured in the Components configuration . ComponentType corresponds to the adapter type. For example, Modbus or OpcUa. Metadata for health and diagnostics streams If you configure a health endpoint and enable metadata, they are included in the health streams ( Device status and Next health message expected ) together with ComponentId and ComponentType . If you enable diagnostics in General configuration , metadata are included in the diagnostics streams ( Stream count , IO rate , Error rate ) together with ComponentId and ComponentType . The adapter may also send its own stream metadata not including health and diagnostics streams. For more information about what custom metadata is included in each stream, see the user guide for your adapter. Note: Metadata is only sent for streams created by the ingress components. Currently, the only endpoint that persists sent metadata is OCS (OSIsoft Cloud Services)."
                                                  },
    "V1/Main/V1/technical-support-and-feedback.html":  {
                                                           "href":  "V1/Main/V1/technical-support-and-feedback.html",
                                                           "title":  "Technical support and feedback",
                                                           "keywords":  "Technical support and feedback OSIsoft provides several ways to report issues and provide feedback on PI Adapters. Technical support For technical assistance with PI Adapters, contact OSIsoft Technical Support through the OSIsoft Customer Portal . We can help you identify the problem, provide workarounds and address any concerns you may have. Remote access to your facilities may be necessary during the session. Note: You must have an account set up in the OSIsoft Customer Portal before you can open a case. If you do not have a portal account, see How to Get a Login to OSIsoft Customer Portal . Alternatively, call OSIsoft Technical Support at +1 510-297-5828. When you contact OSIsoft Technical Support, be prepared to provide this information: Product name, version, and build numbers Details about your computer platform (CPU type, operating system, and version number) Time that the difficulty started Log files at that time Details of any environment changes prior to the start of the issue Summary of the issue, including any relevant log files during the time the issue occurred \u003c!--To view a brief primer on PI Adapters, see the [PI Adapters playbook](https://customers.osisoft.com/s/knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) playbook](https:  customers.osisoft.com s knowledgearticle?knowledgeArticleUrl=Playbook-PI-adapters) in the OSIsoft Customer Portal.--\u003e Product feedback To submit product feedback for PI Adapters, visit the PI Adapters feedback page . The product team at OSIsoft regularly monitors the page. Documentation feedback To submit documentation feedback for PI Adapters, send an email to documentation@osisoft.com . Be sure to include the following information with your feedback: Product name and version Documentation topic URL Details of the suggestion or error The technical documentation team at OSIsoft will review and respond to your feedback."
                                                       },
    "V1/Main/V1/Troubleshooting/troubleshoot-the-adapter.html":  {
                                                                     "href":  "V1/Main/V1/Troubleshooting/troubleshoot-the-adapter.html",
                                                                     "title":  "Troubleshooting",
                                                                     "keywords":  "Troubleshooting PI adapters provide features for troubleshooting issues related to connectivity, data flow, and configuration. Resources include adapter logs and the Wireshark troubleshooting tool . If you are still unable to resolve issues or need additional guidance, contact OSIsoft Technical Support through the OSIsoft Customer Portal . Note: Make sure to also check the troubleshooting information specific to your adapter in this user guide. Logs Messages from the System and OmfEgress logs provide information on the status of the adapter. For example, they show if a connection from the adapter to an egress endpoint exists. Perform the following steps to view the System and OmfEgress logs: Navigate to the logs directory: Windows: %ProgramData%\\OSIsoft\\Adapters\\\u003cAdapterName\u003e\\Logs Linux: /usr/share/OSIsoft/Adapters/\u003cAdapterName\u003e/Logs  usr share OSIsoft Adapters \u003cAdapterName\u003e Logs . Example: A successful connection to a PI Web API egress endpoint displays the following message in the OmfEgress log: 2020-11-02 11:08:51.870 -06:00 [Information] Data will be sent to the following OMF endpoint: Id: \u003comfegress id\u003e Endpoint: \u003cpi web api URL\u003e (note: the pi web api default port is 443) ValidateEndpointCertificate: \u003ctrue or false\u003e Optional: Change the log level of the adapter to receive more information and context. For more information, see Logging configuration . ASP .NET Core platform The ASP .NET Core platform log provides information from the Kestrel web server that hosts the application. The log will only be present in case EDS encounters heartbeat failures or if the adapter throughput is too high. Perform the following steps to spread the load among multiple adapters: Decrease the scan frequency. Lower the amount of data selection items. \u003c!--## PI Web API and OCS user documentation PI Web API and OCS user documentation provides troubleshooting information for \u003cplaceholder\u003e --\u003e Wireshark Wireshark is a protocol-specific troubleshooting tool that supports all current adapter protocols. Perform the following steps if you want to use Wireshark to capture traffic from the data source to the adapter or from the adapter to the OMF destination. Download Wireshark . Familiarize yourself with the tool and read the Wireshark user guide . Health and diagnostics egress to PI Web API The adapter sends health and diagnostics data to PI Web API; in some cases, conflicts may occur that are due to changes or perceived changes in PI Web API. For example, a 409 - Conflict error message displays if you upgrade your adapter version and the PI points do not match in the upgraded version. However, data is continued to be sent as long as containers are created, so buffering only starts if no containers are created. To resolve the conflict, perform the following steps: Stop the adapter. Delete the Health folder inside of the Buffers folder. Stop PI Web API. Delete the relevant adapter created AF structure. Delete the associated health and diagnostics PI points on any or all PI Data Archives created by PI Web API. Start PI Web API. Start the adapter. Adapter connection to egress endpoint Certain egress health information in both PI Web API and OCS show if an adapter connection to an egress endpoint exists. To verify an active connection, perform one of the following procedures: PI Web API connection Perform the following steps to determine if a connection to the PI Web API endpoint exists: Open PI Web API. Select the OmfEgress component of your adapter, for example GVAdapterUbuntu.OpcUa.OmfEgress . Make sure that the following PI points have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate OCS connection Perform the following steps to determine if a connection to the OCS endpoint exists: Open OCS. Click Sequential Data Store \u003e Streams . Makes sure that the following streams have been created for your egress endpoint: DeviceStatus NextHealthMessageExpected IORate TCP connection Perform the following steps to see all established TCP sessions in Linux: Open a terminal. Type the following command: ss -o state established -t -p Press Enter."
                                                                 },
    "V1/pi-adapter-for-opc-ua-overview.html":  {
                                                   "href":  "V1/pi-adapter-for-opc-ua-overview.html",
                                                   "title":  "PI Adapter for OPC UA overview",
                                                   "keywords":  "PI Adapter for OPC UA overview The PI Adapter for OPC UA is a data-collection component that transfers time-series data from source devices to OMF endpoints in OSIsoft Cloud Services or PI Servers. OPC UA (OPC Unified Architecture) is an open standard, machine-to-machine communication protocol for industrial automation developed by the OPC Foundation. The adapter can connect to any device that uses the OPC UA communication protocol. Adapter installation You can install the adapter with a download kit that you can obtain from the OSIsoft Customer Portal. You can install the adapter on devices running either Windows or Linux operating systems. Adapter configuration Using REST API, you can configure all functions of the adapter. The configurations are stored in JSON files. For data ingress, you must define an adapter component in the system components configuration for each device to which the adapter will connect. You configure each adapter component with the connection information for the device and the data to collect. For data egress, you must specify destinations for the data, including security for the outgoing connection. Additional configurations are available to egress health and diagnostics data, add buffering configuration to protect against data loss, and record logging information for troubleshooting purposes. Once you have configured the adapter and it is sending data, you can use administration functions to manage the adapter or individual ingress components of the adapter. Health and diagnostics functions monitor the status of connected devices, adapter system functions, the number of active data streams, the rate of data ingress, the rate of errors, and the rate of data egress. EdgeCmd utility OSIsoft also provides the EdgeCmd utility, a proprietary command line tool to configure and administer an adapter on both Linux and Windows operating systems. EdgeCmd utility is installed separately from the adapter."
                                               },
    "V1/PI-Adapter-for-OPC-UA-overview/pi-adapter-for-opc-ua-principles-of-operation.html":  {
                                                                                                 "href":  "V1/PI-Adapter-for-OPC-UA-overview/pi-adapter-for-opc-ua-principles-of-operation.html",
                                                                                                 "title":  "PI Adapter for OPC UA principles of operation",
                                                                                                 "keywords":  "PI Adapter for OPC UA principles of operation This adapter\u0027s operations focus on data collection and stream creation. Adapter configuration For the OPC UA adapter to start data collection, configure the following: Data source: Provide the data source from which the adapter should collect data. Data selection: Select the OPC UA items to which the adapter should subscribe for data. Logging: Set up the logging attributes to manage the adapter logging behavior. For more information, see PI Adapter for OPC UA data source configuration and PI Adapter for OPC UA data selection configuration . Connection The OPC UA adapter uses the binary opc.tcp protocol to communicate with the OPC UA servers. As part of the OPC UA server and client establishing a secured connection, each one sends its X.509-type certificate to the other for verification. Upon verification of the certificates, the server and client establishes a secured connection. For more information on secure connections, see PI Adapter for OPC UA security configuration . Data collection The OPC UA adapter collects time-series data from selected OPC UA dynamic variables through OPC UA subscriptions (unsolicited reads). The adapter supports the Data Access (DA) part of OPC UA specification. For more information, see Unified Architecture (https://opcfoundation.org/developer-tools/specifications-unified-architecture/part-8-data-access) (https:  opcfoundation.org developer-tools specifications-unified-architecture part-8-data-access) . Data types The following table lists OPC UA variable types that the adapter collects data from and types of streams that will be created. OPC UA data type Stream data type Boolean Boolean Byte Int16 SByte Int16 Int16 Int16 UInt16 UInt16 Int32 Int32 UInt32 UInt32 Int64 Int64 UInt64 UInt64 Float Float32 Double Float64 DateTime DateTime String String Stream creation The OPC UA adapter creates a stream with two properties for each selected OPC UA item. The properties are described in the following table: Property name Data type Description Timestamp DateTime Timestamp of the given OPC UA item value update. Value Based on type of incoming OPC UA value Value of the given OPC UA item update. The OPC UA adapter sends metadata with each stream it creates. Metadata common for every adapter type are ComponentId : Specifies the data source, for example OpcUa1 ComponentType : Specifies the type of adapter, for example OpcUa Metadata specific to the OPC UA adapter are BrowseName : The browse name as provided by the OPC UA server SourceId : The NodeId provided by the OPC UA server Note: A configured metadata level allows you to set the amount of metadata for the adapter. Specify the metadata level in General configuration . For the OPC UA adapter, the following metadata is sent for the individual level: None : No metadata Low : AdapterType (ComponentType) and DataSource (ComponentId) Medium : AdapterType (ComponentType), DataSource (ComponentId), BrowseName, and DisplayName High : AdapterType (ComponentType), DataSource (ComponentId), BrowseName, DisplayName, and SourceId Each stream created by the adapter for a given OPC UA item has a unique identifier (Stream ID). If you specify a custom stream ID for the OPC UA item in data selection configuration, the OPC UA adapter uses that stream ID to create the stream. Otherwise, the adapter constructs the stream ID using the following format, which is constructed from the OPC UA item node ID: \u003cAdapterComponentID\u003e.\u003cNamespaceIndex\u003e.\u003cIdentifier\u003e NamespaceIndex refers to the number specified in the ns keyword in the RootNodeIds parameter of the data source configuration. For more information, see PI Adapter for OPC UA data source configuration . Note: The naming convention is affected by StreamPrefix and DefaultStreamIdPattern settings in data source configuration."
                                                                                             },
    "V1/README.html":  {
                           "href":  "V1/README.html",
                           "title":  "PI Adapter for OPC UA",
                           "keywords":  "PI Adapter for OPC UA PI Adapter for OPC UA is a data-collection component that transfers time-series data from source devices to OMF (OSIsoft Message Format) endpoints in OSIsoft Cloud Services or PI Servers. This repository contains the documentation for PI Adapter for OPC UA. You can access a readable version of this documentation here. License ?? 2020 by OSIsoft, LLC. All rights reserved. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 http:  www.apache.org licenses LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."
                       },
    "V1/Release-notes/release-notes.html":  {
                                                "href":  "V1/Release-notes/release-notes.html",
                                                "title":  "Release notes",
                                                "keywords":  "Release notes PI Adapter for OPC UA 1.1 Overview This represents the initial standalone release for PI Adapter for OPC UA. This product collects time series data and relevant metadata from an OPC UA (OPC Unified Architecture) server and sends it to configured OMF endpoints such as PI Web API and OSIsoft Cloud Services. PI Adapter for OPC UA can also collect health and diagnostics information. It supports buffering, unsolicited data collection, automatic discovery of available data items on a data source, and various Windows and Linux-based operating systems as well as containerization. For more information see PI Adapter for OPC UA overview . Known issues There are no known issues at this time. System requirements Refer to System requirements . Installation Refer to Install the adapter . Uninstallation Refer to Uninstall the adapter . Security information and guidance OSIsoft???s commitment Because the PI System often serves as a barrier protecting control system networks and mission-critical infrastructure assets, OSIsoft is committed to (1) delivering a high-quality product and (2) communicating clearly what security issues have been addressed. This release of PI Adapter for OPC UA is the highest quality and most secure version of the PI Adapter for OPC UA released to date. OSIsoft\u0027s commitment to improving the PI System is ongoing, and each future version should raise the quality and security bar even further. Vulnerability communication The practice of publicly disclosing internally discovered vulnerabilities is consistent with the Common Industrial Control System Vulnerability Disclosure Framework developed by the Industrial Control Systems Joint Working Group (ICSJWG). Despite the increased risk posed by greater transparency, OSIsoft is sharing this information to help you make an informed decision about when to upgrade to ensure your PI System has the best available protection. For more information, refer to OSIsoft???s Ethical Disclosure Policy (https://www.osisoft.com/ethical-disclosure-policy) (https:  www.osisoft.com ethical-disclosure-policy) . To report a security vulnerability, refer to OSIsoft\u0027s Report a Security Vulnerability (https://www.osisoft.com/report-a-security-vulnerability) (https:  www.osisoft.com report-a-security-vulnerability) . Vulnerability scoring OSIsoft has selected the Common Vulnerability Scoring System (CVSS) to quantify the severity of security vulnerabilities for disclosure. To calculate the CVSS scores, OSIsoft uses the National Vulnerability Database (NVD) calculator maintained by the National Institute of Standards and Technology (NIST). OSIsoft uses Critical, High, Medium and Low categories to aggregate the CVSS Base scores. This removes some of the opinion related errors of CVSS scoring. As noted in the CVSS specification, Base score range from 0 for the lowest severity to 10 for the highest severity. Overview of new vulnerabilities found or fixed This section is intended to provide relevant security-related information to guide your installation or upgrade decision. OSIsoft is proactively disclosing aggregate information about the number and severity of PI Adapter for OPC UA security vulnerabilities that are fixed in this release. No security-related information is applicable to this release. Technical support and resources Refer to Technical support and feedback ."
                                            },
    "V1/Troubleshooting/troubleshoot-pi-adapter-for-opc-ua.html":  {
                                                                       "href":  "V1/Troubleshooting/troubleshoot-pi-adapter-for-opc-ua.html",
                                                                       "title":  "Troubleshoot PI Adapter for OPC UA",
                                                                       "keywords":  "Troubleshoot PI Adapter for OPC UA To troubleshoot issues with PI Adapter for OPC UA, you can check the adapter\u0027s configuration, connectivity, and logs, as detailed in the following sections. If you are unable to resolve issues with the adapter or need additional guidance, contact OSIsoft Technical Support. Check configurations In the data source configuration , verify that the configured EndpointURL and RootNodeIds , and if specified, the UserName and Password are correct. In the data selection configuration , verify that each configured data selection item below is correct. NodeId - Verify that the referenced root node exists in the data source configuration. DataFilterId - If configured, verify that the referenced data filter exists. In the egress endpoints configuration , verify that each configured endpoint\u0027s Endpoint property and credentials are correct. For a PI server or EDS endpoint, verify UserName and Password , for an OCS endpoint, verify ClientId and ClientSecret . Check connectivity Verify there are active connections to the data source and egress endpoints. If you configured a health endpoint, use it to determine the status of the adapter. For more information, see Health and diagnostics . Check logs Check the adapter and endpoint logs to isolate issues. Optional: Change the log level of the adapter to receive additional information and context. For more information, see Logging configuration ."
                                                                   }
}
