<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Troubleshoot the adapter </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Troubleshoot the adapter ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="../../../../favicon.ico">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc.html">
    <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../../V1/index.html" width="46">
                <img id="logo" src="../../../../V1/Main/V1/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge System"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="TroubleshootTheAdapter">
<h1 id="troubleshoot-the-adapter">Troubleshoot the adapter</h1>

<p>To troubleshoot issues with the PI adapter, you can check the adapter&#39;s logs, read the related PI Web API and OCS documentation, and use Wireshark, as detailed in t he following sections. If you are unable to resolve issues with the adapter or need additional guidance, contact OSIsoft Technical Support.</p>
<p><strong>Note:</strong> Make sure to check the troubleshooting information specific to your adapter.</p>
<h2 id="check-logs">Check logs</h2>
<ol>
<li>Check both the System and the OmfEgress logs. By default, they are located here:
 Windows: <code>%ProgramData%\OSIsoft\Adapters\&lt;AdapterName&gt;\Logs</code><br>
 Linux: <code>/usr/share/OSIsoft/Adapters/&lt;AdapterName&gt;/Logs</code>.</li>
<li>Optional: Change the log level of the adapter to receive more information and context. For more information, see <a class="xref" href="../../../../V1.2/Main/V1/Configuration/logging-configuration.html">Logging configuration</a>.</li>
</ol>
<h3 id="asp-net-core-platform">ASP .NET Core platform</h3>
<p>This log provides information from the Kestrel web server that hosts the application. The log might be present in case EDS encounters heartbeat failures or if the adapter throughput is too high. When this happens, decrease the scan frequency or lower the amount of data selection items to spread the load among multiple adapters.</p>
<h2 id="pi-web-api-and-ocs">PI Web API and OCS</h2>
<p>Refer to the PI Web API and OCS documentation and their related troubleshooting information.</p>
<h2 id="wireshark">Wireshark</h2>
<p>Wireshark is a protocol-specific troubleshooting tool that supports all current adapter protocols. <br>Depending on the nature of the issue, use <a href="https://www.wireshark.org/download.html">Wireshark</a> to capture traffic from the data source to the adapter or from the adapter to the OMF destination.</p>
<h2 id="health-and-diagnostics-egress-to-pi-web-api">Health and diagnostics egress to PI Web API</h2>
<p>When the adapter sends health and diagnostics data to PI Web API, some conflicts may occur that are due to changes or perceived changes. For example, if you upgrade your adapter version and the PI points are not matching, you will see a <code>409 - Conflict</code> error message. However, data is continued to be sent and buffering only starts if no containers are created. To resolve the conflict, try the following:</p>
<ol>
<li>Stop the adapter.</li>
<li>Delete the <code>Health</code> folder inside of the <code>Buffers</code> folder.</li>
<li>Stop PI Web API.</li>
<li>Delete the relevant adapter created AF structure.</li>
<li>Optional: Delete the associated health and diagnostics PI points on any or all PI Data Archives created by PI Web API.</li>
<li>Start PI Web API.</li>
<li>Start the adapter.</li>
</ol>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/PI-Adapter/blob/master/V1/Troubleshooting/troubleshoot-the-adapter.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span><a href="https://www.osisoft.com/copyright/">© 2019 - 2020 OSIsoft, LLC. All rights reserved.</a></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
